(this.webpackJsonpbigocoder_app_v2=this.webpackJsonpbigocoder_app_v2||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(3),c=n(5),i=n(6),o=n(7),u=n(8),l=n(24),d=n.n(l),b=n(33),j=n(35),h=n(169),p=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this,e)).ProblemId=r,a.fetched=!1,a.SourceCodes=[],a}return Object(i.a)(n,[{key:"get",value:function(){var e=Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=6;break}return e.next=3,j.a.getTutorial(this.ProblemId,this.Id);case 3:(t=e.sent)&&this.updateProperty(t),this.fetched=!0;case 6:return e.next=8,j.a.getSourceCode(this.ProblemId,this.Id);case 8:(n=e.sent)&&(this.SourceCodes=n);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,c,i,o=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.a.omit(t),r=d.a.omit(this),c=b.default.getDifferent(n,r,["Id"]),e.next=5,j.a.editTutorial(this.ProblemId,c);case 5:if(!(i=e.sent)){e.next=8;break}return e.abrupt("return",i);case 8:if(!Object.prototype.hasOwnProperty.call(c,"SourceCodes")){e.next=11;break}return e.next=11,Promise.all(c.SourceCodes.map(function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.updateSourceCode(t,o.SourceCodes[n]);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 11:return this.updateProperty(c),t.updateProperty(c),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addSourceCode",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new h.a({LanguageId:t,TutorialId:this.Id,ProblemId:this.ProblemId,Content:""}),e.next=3,j.a.addSourceCode(this.ProblemId,this.Id,n);case 3:if("object"!==typeof(r=e.sent)){e.next=9;break}n.updateProperty(r),this.SourceCodes.push(n),e.next=10;break;case 9:return e.abrupt("return",r);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSourceCode",value:function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.updateSourceCode(this.ProblemId,this.Id,n);case 2:if(r=e.sent){e.next=7;break}t.updateProperty(n),e.next=8;break;case 7:return e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeSourceCode",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.removeSourceCode(this.ProblemId,this.Id,t);case 2:if(n=e.sent){e.next=7;break}this.SourceCodes=this.SourceCodes.map((function(e){return e.Id!==t})),e.next=8;break;case 7:return e.abrupt("return",n);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(b.default);t.default=p},11:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"xb",(function(){return a})),n.d(t,"mb",(function(){return s})),n.d(t,"P",(function(){return c})),n.d(t,"O",(function(){return i})),n.d(t,"Ub",(function(){return o})),n.d(t,"qb",(function(){return u})),n.d(t,"pb",(function(){return l})),n.d(t,"sb",(function(){return d})),n.d(t,"tb",(function(){return b})),n.d(t,"rb",(function(){return j})),n.d(t,"Cb",(function(){return h})),n.d(t,"Bb",(function(){return p})),n.d(t,"Gb",(function(){return m})),n.d(t,"Fb",(function(){return f})),n.d(t,"vb",(function(){return x})),n.d(t,"N",(function(){return O})),n.d(t,"M",(function(){return v})),n.d(t,"Lb",(function(){return g})),n.d(t,"Kb",(function(){return w})),n.d(t,"Nb",(function(){return y})),n.d(t,"Mb",(function(){return k})),n.d(t,"h",(function(){return C})),n.d(t,"g",(function(){return S})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return N})),n.d(t,"i",(function(){return P})),n.d(t,"I",(function(){return T})),n.d(t,"H",(function(){return L})),n.d(t,"K",(function(){return A})),n.d(t,"J",(function(){return R})),n.d(t,"C",(function(){return D})),n.d(t,"E",(function(){return U})),n.d(t,"L",(function(){return E})),n.d(t,"F",(function(){return M})),n.d(t,"G",(function(){return B})),n.d(t,"X",(function(){return F})),n.d(t,"db",(function(){return q})),n.d(t,"bb",(function(){return G})),n.d(t,"ab",(function(){return H})),n.d(t,"eb",(function(){return V})),n.d(t,"fb",(function(){return z})),n.d(t,"D",(function(){return W})),n.d(t,"Y",(function(){return Y})),n.d(t,"Z",(function(){return K})),n.d(t,"gb",(function(){return Q})),n.d(t,"cb",(function(){return J})),n.d(t,"ib",(function(){return _})),n.d(t,"hb",(function(){return X})),n.d(t,"jb",(function(){return Z})),n.d(t,"Eb",(function(){return $})),n.d(t,"Db",(function(){return ee})),n.d(t,"zb",(function(){return te})),n.d(t,"Hb",(function(){return ne})),n.d(t,"A",(function(){return re})),n.d(t,"z",(function(){return ae})),n.d(t,"w",(function(){return se})),n.d(t,"W",(function(){return ce})),n.d(t,"nb",(function(){return ie})),n.d(t,"Rb",(function(){return oe})),n.d(t,"wb",(function(){return ue})),n.d(t,"s",(function(){return le})),n.d(t,"q",(function(){return de})),n.d(t,"x",(function(){return be})),n.d(t,"B",(function(){return je})),n.d(t,"Qb",(function(){return he})),n.d(t,"yb",(function(){return pe})),n.d(t,"Q",(function(){return me})),n.d(t,"y",(function(){return fe})),n.d(t,"Ab",(function(){return xe})),n.d(t,"a",(function(){return Oe})),n.d(t,"e",(function(){return ve})),n.d(t,"f",(function(){return ge})),n.d(t,"v",(function(){return we})),n.d(t,"u",(function(){return ye})),n.d(t,"r",(function(){return ke})),n.d(t,"t",(function(){return Ce})),n.d(t,"ub",(function(){return Se})),n.d(t,"n",(function(){return Ie})),n.d(t,"Jb",(function(){return Ne})),n.d(t,"Ib",(function(){return Pe})),n.d(t,"Xb",(function(){return Te})),n.d(t,"V",(function(){return Le})),n.d(t,"c",(function(){return Ae})),n.d(t,"ob",(function(){return Re})),n.d(t,"b",(function(){return De})),n.d(t,"Vb",(function(){return Ue})),n.d(t,"U",(function(){return Ee})),n.d(t,"Pb",(function(){return Me})),n.d(t,"Ob",(function(){return Be})),n.d(t,"Tb",(function(){return Fe})),n.d(t,"Sb",(function(){return qe})),n.d(t,"p",(function(){return Ge})),n.d(t,"o",(function(){return He})),n.d(t,"R",(function(){return Ve})),n.d(t,"S",(function(){return ze})),n.d(t,"T",(function(){return We})),n.d(t,"m",(function(){return Ye})),n.d(t,"l",(function(){return Ke})),n.d(t,"Wb",(function(){return Qe})),n.d(t,"kb",(function(){return Je})),n.d(t,"lb",(function(){return _e})),n(310).config();var r="https://bigocoder.com/api/",a="".concat(r,"sign-up"),s="".concat(r,"sign-in"),c="".concat(r,"sign-in/google"),i="".concat(r,"sign-in/facebook"),o="".concat(r,"verify-token"),u="problems?:queryString",l="problems/:id",d="problems/:id/rejudgment",b="problems/:id/submissions",j="problems/:id/moderators",h="problems/:problemId/statements",p="problems/:problemId/statements/:statementId",m="problems/:problemId/testcases/",f="problems/:problemId/testcases/:id",x="languages/",O="executables/",v="executables/:Id",g="problems/:problemId/tutorials",w="problems/:problemId/tutorials/:tutorialId",y="".concat(w,"/sourcecodes"),k="".concat(w,"/sourcecodes/:sourceCodeId"),C="collections",S="collection/:Id",I="collections/:collId/collections",N="collections/:collId/problems",P="collections/:collId",T="coursetypes",L="coursetype/:courseTypeCode",A="coursetype/:id",R="coursetype/:content",D="courses",U="courses/:id",E="courses/:id/users",M="courses/:id/moderators",B="courses/:id/scoreboard",F="courses/:courseId/lectures/:lectureId",q="courses/:courseId/lectures/:lectureId/rejudgment",G="courses/:courseId/lectures/:lectureId/problems",H="courses/:courseId/lectures/:lectureId/problems/:problemId",V="courses/:courseId/lectures/:lectureId/scoreboard",z="courses/:courseId/lectures/:lectureId/submissions",W="course-content/",Y="courses/:courseId/lectures/",K="lecture-content",Q="courses/:courseId/lectures/:lectureId/submit",J="courses/:courseId/lectures/:lectureId/problems/:problemId/submissions",_="courses/:courseId/lectures/:lectureId/problems/:problemId/tutorials",X="courses/:courseId/lectures/:lectureId/problems/:problemId/tutorials/:tutorialId",Z="courses/:courseId/lectures/:lectureId/problems/:problemId/tutorials/:tutorialId/sourcecodes",$="problems/:id/submit",ee="problems/:id/submissions?page=:page",te="problems/:probid/submissions/:id/rejudge",ne="problems/:id/submissiontests?page=:page",re="contests/:id/submit",ae="contests/:id/submissions?page=:page",se="contests/:id/problems/:problemId/submissions?page=:page",ce="leaderboard/",ie="newproblems/",oe="user_info/",ue="activities/",le="contests",de="contests/:id",be="contests/:id/rejudgment",je="contest-types",he="contests/",pe="contests/:id/register",me="contests/:id/join",fe="contests/:id/scoreboard?page=:page",xe="sgct/contestant-sign-in",Oe="contests/:id/scoreboard?page=:page",ve="contests/:id/clarifications",ge="contests/:id/clarifications/:clarificationId",we="contests/:id/problems",ye="contests/:id/problems/:problemId",ke="contests/:id/contestants",Ce="contests/:id/moderators",Se="topics/:problemId?page=:pageNumber",Ie="topics/?page=:pageNumber",Ne="topics/:topicId",Pe="topics/",Te="topics/:id/vote",Le="topics/latest",Ae="articles/:articleId",Re="articles/",De="articles?page=:page&limit=:limit",Ue="articles/:id/vote",Ee="articles/latest",Me="users?:queryString",Be="users/:id",Fe="usertypes",qe="users/reset-password",Ge="users/:uid/connect-google",He="users/:uid/connect-facebook",Ve="judgehosts",ze="judgehosts/:hostname",We="judgehosts/:hostname?active=:active",Ye="comments/:topicId?page=:page",Ke="comments/:id",Qe="comments/:id/vote",Je="".concat(r,"ide"),_e="".concat(r,"ide/:id")},16:function(e,t,n){"use strict";var r=n(5),a=n(7),s=n(8),c=n(19),i=n(11),o=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return Object(r.a)(this,n),(a=t.call(this,e,s,c,o,!0,u,l)).url="".concat(i.d,"admin/").concat(s),a}return n}(c.a);t.a=o},169:function(e,t,n){"use strict";var r=n(5),a=n(7),s=n(8),c=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(n(33).default);t.a=c},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),a=n.n(r),s=n(3),c=n(10),i=n(5),o=n(6),u=n(125),l=n.n(u),d=n(25),b=n(11),j=n(26),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(i.a)(this,e),n.startsWith("http://")||n.startsWith("https://")?this.url=n:this.url="".concat(b.d,"public/").concat(n),this.params=r,r&&Object.prototype.hasOwnProperty.call(r,"page")&&0===r.page&&(this.params.page=1),this.data=a,this.method=t,this.headers=Object(c.a)({accept:"application/json","Content-Type":"application/json"},o),s&&(this.headers.Authorization=Object(d.a)("AuthToken")),u&&(this.cancelToken=u)}return Object(o.a)(e,[{key:"createPackage",value:function(){for(var e in this.params)Object.prototype.hasOwnProperty.call(this.params,e)&&(this.url=this.url.replace(":".concat(e),this.params[e]));return{url:this.url,method:this.method,headers:this.headers,data:this.data,cancelToken:this.cancelToken}}},{key:"createRequest",value:function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()(this.createPackage());case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.createRequest();case 3:return t=e.sent,e.abrupt("return",t);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=20;break}if(!((n=e.t0.response)&&n.data&&n.data.message&&n.data.message.includes("Found another login"))){e.next=17;break}Object(d.c)(),j.a.push("/"),window.location.reload(),e.next=18;break;case 17:throw new Error(n.data.message);case 18:e.next=21;break;case 20:throw new Error(e.t0.message);case 21:return e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}()},25:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));n(2),n(3);var r=n(85),a=n.n(r),s=n(109),c=n.n(s),i=n(105),o=(n(19),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new i.a,r=c.a.encrypt(JSON.stringify(e),"Big-O Coder private key");if(t)localStorage.setItem("Big-O Coder",r.toString());else if(localStorage.getItem("Big-O Coder"))localStorage.setItem("Big-O Coder",r.toString());else{var a=new Date;a.setDate(a.getDate()+30),n.set("Big-O Coder",r.toString(),{expires:a,path:"/",sameSite:!0})}}),u=function(){try{var e=new i.a;if(localStorage.getItem("Big-O Coder")||e.get("Big-O Coder"))return!0}catch(t){return!1}return!1},l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(!u())return null;if(localStorage.getItem("Big-O Coder"))e=localStorage.getItem("Big-O Coder");else{var n=new i.a;e=n.get("Big-O Coder")}try{var r=c.a.decrypt(e,"Big-O Coder private key"),s=JSON.parse(r.toString(a.a.enc.Utf8));return"all"===t?s:s[t]}catch(o){return null}},d=function(){localStorage.getItem("isLoggingOut")||(localStorage.setItem("isLoggingOut",!0),document.cookie="Big-O Coder=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="Big-O Coder=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/user;",localStorage.removeItem("Big-O Coder"),localStorage.removeItem("isLoggingOut"))}},26:function(e,t,n){"use strict";var r=n(62),a=Object(r.createBrowserHistory)();t.a=a},28:function(e,t,n){"use strict";var r=n(5),a=n(6),s=n(180),c=n.n(s),i=n(26),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"getAllQueryString",value:function(){return c.a.parse(window.location.search)}},{key:"getQueryString",value:function(e){return this.getAllQueryString()[e]}},{key:"setQueryString",value:function(e,t){var n=this.getAllQueryString();n[e]=t;var r=c.a.stringify(n);i.a.replace({pathname:window.location.pathname,search:r})}},{key:"stringify",value:function(e){return c.a.stringify(e)}}]),e}();t.a=o},33:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(6),s=function(){function e(t){if(Object(r.a)(this,e),t){this.updateProperty(t),this.LanguageContent={};for(var n=0,a=["Vi","En"];n<a.length;n++){var s=a[n];Object.prototype.hasOwnProperty.call(t,s)&&t[s].Name&&(this.LanguageContent[s.toLowerCase()]=t[s])}}}return Object(a.a)(e,[{key:"updateProperty",value:function(e){if(e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])}},{key:"canGetLanguage",value:function(e){if(Object.prototype.hasOwnProperty.call(this.LanguageContent,e)&&this.LanguageContent[e].Name)return e;for(var t in this.LanguageContent)if(Object.prototype.hasOwnProperty.call(this.LanguageContent,t))return e;return null}},{key:"getLanguageContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vi";if(Object.prototype.hasOwnProperty.call(this.LanguageContent,e))return this.LanguageContent[e];for(var t in this.LanguageContent)if(Object.prototype.hasOwnProperty.call(this.LanguageContent,t))return this.LanguageContent[t];return null}}],[{key:"getDifferent",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];r.includes("Id")||r.push("Id");var a={};for(var s in n)void 0===t[s]||t[s]!==n[s]&&null===n[s]?a[s]=n[s]:Array.isArray(n[s])?JSON.stringify(t[s])!==JSON.stringify(n[s])&&(a[s]=n[s]):"object"===typeof n[s]&&JSON.stringify(t[s])!==JSON.stringify(n[s])?a[s]=e.getDifferent(t[s],n[s],r):"object"!==typeof n[s]&&(t[s]!==n[s]||r.includes(s))&&(a[s]=n[s]);return a}}]),e}();t.default=s},35:function(e,t,n){"use strict";var r=n(10),a=n(2),s=n.n(a),c=n(3),i=n(5),o=n(6),u=n(24),l=n.n(u),d=n(16),b=n(28),j=n(169),h=n(11),p=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getProblems",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t,"all"===(n=l()(n).omitBy(l.a.isEmpty).value()).tag&&delete n.tag,r=b.a.stringify(n),e.next=7,new d.a("get",h.qb,{queryString:r}).request();case 7:return a=e.sent,e.abrupt("return",{totalProblems:a.totalProblems,problems:a.problems});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{totalProblems:0,problems:[]});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("get",h.pb,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.problem);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addProblem",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("post",h.qb,void 0,t).request();case 3:return n=e.sent,e.abrupt("return",n.problem);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"editProblem",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("put",h.pb,{id:t.Id},t).request();case 3:return n=e.sent,e.abrupt("return",n.problem);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeProblem",value:function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("delete",h.pb,{id:t}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addStatement",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("post",h.Cb,{problemId:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.statement);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editStatement",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("put",h.Bb,{problemId:t,statementId:n.Id},n).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeStatement",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("delete",h.Bb,{problemId:t,statementId:n}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTutorials",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("get",h.Lb,{problemId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.tutorials);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTutorial",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("get",h.Kb,{problemId:t,tutorialId:n}).request();case 3:return r=e.sent,e.abrupt("return",r.tutorial);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addTutorial",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("post",h.Lb,{problemId:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.tutorial);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editTutorial",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("put",h.Kb,{problemId:t,tutorialId:n.Id},n).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeTutorial",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("delete",h.Kb,{problemId:t,tutorialId:n}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSourceCode",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("get",h.Nb,{problemId:t,tutorialId:n}).request();case 3:return r=e.sent,e.abrupt("return",r.sourcecodes.map((function(e){return new j.a(e)})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addSourceCode",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("post",h.Nb,{problemId:t,tutorialId:n},r).request();case 3:return a=e.sent,e.abrupt("return",a.sourcecode);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateSourceCode",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("put",h.Mb,{problemId:t,tutorialId:n,sourceCodeId:r.Id},r).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"removeSourceCode",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("delete",h.Mb,{problemId:t,tutorialId:n,sourceCodeId:r}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getModerators",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("get",h.rb,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addModerators",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("post",h.rb,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeModerators",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("delete",h.rb,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateModerators",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("put",h.rb,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"rejudge",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("post",h.sb,{id:t},Object(r.a)({},n)).request();case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchRejudge",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new d.a("get",h.sb,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getDiscussions",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{Title:"Discussion 1",Id:1},{Title:"Discussion 2",Id:2}]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.a=p},423:function(e,t,n){},424:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(34),c=n.n(s),i=n(5),o=n(6),u=n(7),l=n(8),d=n(48),b=n(12),j=n(14),h=n(474),p=n(511),m=n(426),f=n(427),x=n(470),O=n(513),v=n(517),g=n(475),w=n(471),y=n(469),k=n(477),C=n(478),S=n(476),I=n(231),N=n.n(I),P=n(233),T=n.n(P),L=n(232),A=n.n(L),R={xs:"block",sm:"block",md:"none",lg:"none",xl:"none"},D={xs:"none",sm:"none",md:"block",lg:"block",xl:"block"},U=n(2),E=n.n(U),M=n(3),B=n(25),F=n(126),q=n.n(F),G=n(60),H=n.n(G),V=n(19),z=n(11),W=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"verifyAdministrator",value:function(){return["Administrator","SuperAdministrator"].includes(Object(B.a)("Role"))}},{key:"verifyModerator",value:function(){return["Moderator","Administrator","SuperAdministrator"].includes(Object(B.a)("Role"))}},{key:"verifyUser",value:function(){return Object(B.b)()}},{key:"register",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.xb,null,{Username:t,Email:n,Password:r}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={Password:H()(n).toString()},a={from:{email:!0}},void 0===q()({from:t},a)?(r.Email=t,r.Username=""):(r.Username=t,r.Email=""),e.next=6,new V.a("post",z.mb,null,r).request();case 6:return s=e.sent,e.abrupt("return",s.user);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"googleLogin",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.P,null,{tokenId:t,googleId:n}).request();case 3:return r=e.sent,e.abrupt("return",r.user);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"facebookLogin",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.O,null,{accessToken:t,userID:n}).request();case 3:return r=e.sent,e.abrupt("return",r.user);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"verifyToken",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.Ub,null,null,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Y=n(0),K=a.a.createContext(),Q=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).login=function(){var e=Object(M.a)(E.a.mark((function e(t,n,a){var s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.login(t,n);case 2:if("object"!==typeof(s=e.sent)){e.next=10;break}r.setState({user:s}),r.setState({ready:!1}),r.setState({ready:!0}),Object(B.d)(s,a),e.next=11;break;case 10:return e.abrupt("return",s);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.googleLogin=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.googleLogin(t,n);case 2:if("object"!==typeof(a=e.sent)){e.next=10;break}r.setState({user:a}),r.setState({ready:!1}),r.setState({ready:!0}),Object(B.d)(a,!0),e.next=11;break;case 10:return e.abrupt("return",a);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.facebookLogin=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.facebookLogin(t,n);case 2:if("object"!==typeof(a=e.sent)){e.next=10;break}r.setState({user:a}),r.setState({ready:!1}),r.setState({ready:!0}),Object(B.d)(a,!0),e.next=11;break;case 10:return e.abrupt("return",a);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.register=function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.register(t,n,r);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.logout=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(B.c)(),r.setState({user:void 0}),e.next=4,r.setState({ready:!1});case 4:return e.next=6,r.setState({ready:!0});case 6:case"end":return e.stop()}}),e)}))),r.verifyToken=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.verifyToken();case 2:e.sent&&r.logout();case 4:case"end":return e.stop()}}),e)}))),r.verifyUser=function(){return!!r.state.user},r.verifyAdministrator=function(){return r.verifyUser()&&["Administrator","SuperAdministrator"].includes(r.state.user.Role)},r.verifyModerator=function(){return r.verifyUser()&&["Moderator","Administrator","SuperAdministrator"].includes(r.state.user.Role)},r.state={ready:!1,user:void 0,register:r.register,login:r.login,googleLogin:r.googleLogin,facebookLogin:r.facebookLogin,verifyToken:r.verifyToken,verifyAdministrator:r.verifyAdministrator,verifyModerator:r.verifyModerator,verifyUser:r.verifyUser,logout:r.logout},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setState({user:Object(B.a)(),ready:!0}),this.verifyToken()}},{key:"render",value:function(){var e=this.state.ready,t=this.props.children;return e?Object(Y.jsx)(K.Provider,{value:this.state,children:t}):Object(Y.jsx)("div",{})}}]),n}(a.a.Component),J=n(58),_=n(464),X=n(80),Z=n(252),$=n(468),ee=n(86),te=n.n(ee),ne=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(J.a)(),c=Object(r.useContext)(K),i=c.logout,o=c.user,u=o.Avatar,l=o.Username,d=o.Email,h=o.Id,p=function(){a(null)},m=[{Id:te()(),Icon:Object(Y.jsx)("span",{className:"fas fa-user-circle mr-2 fa-fw"}),Content:"Th\xf4ng tin c\u1ee7a b\u1ea1n",Link:"/users/".concat(h),EventHandler:p},{Id:te()(),Icon:Object(Y.jsx)("span",{className:"fas fa-sign-out-alt mr-2 fa-fw"}),Content:"\u0110\u0103ng xu\u1ea5t",Link:"/",EventHandler:function(){a(null),i()}}];return Object(Y.jsxs)("div",{id:"user-options-div",children:[Object(Y.jsxs)(_.a,{"aria-label":"user-avatar","aria-controls":"user-options-menu","aria-haspopup":"true",color:"inherit",variant:"text",onClick:function(e){e.preventDefault();var t=document.getElementById("user-options-div");a(t)},style:{textTransform:"unset",borderRadius:"2rem"},children:[Object(Y.jsx)(v.a,{border:1,alt:"Avatar",src:u||"./image/default_avatar.jpg",style:{height:s.spacing(4),width:s.spacing(4),marginRight:"0.3rem"}}),Object(Y.jsx)(X.a,{noWrap:!0,style:{maxWidth:"8rem"},children:o.Username})]}),Object(Y.jsxs)(Z.a,{id:"user-options-menu",anchorEl:n,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,open:Boolean(n),onClose:p,children:[Object(Y.jsxs)($.a,{children:[Object(Y.jsx)(y.a,{children:Object(Y.jsx)(v.a,{border:1,alt:l,src:u||"./image/default_avatar.jpg"})}),Object(Y.jsx)(x.a,{children:Object(Y.jsxs)("div",{children:[Object(Y.jsx)("strong",{children:l}),Object(Y.jsx)("br",{}),Object(Y.jsx)("i",{children:d})]})})]}),Object(Y.jsx)(w.a,{}),m.map((function(e){return Object(Y.jsx)(j.a,{to:e.Link,children:Object(Y.jsxs)($.a,{onClick:e.EventHandler,children:[Object(Y.jsx)(y.a,{children:e.Icon}),Object(Y.jsx)(x.a,{children:e.Content})]})},e.Id)}))]})]})},re=n(472),ae=n(473),se=n(229),ce=n.n(se),ie=n(230),oe=n.n(ie),ue=function(e){var t=e.onClick,n=Object(r.useState)(!1),a=Object(b.a)(n,2),s=a[0],c=a[1],i=Object(r.useContext)(K),o=i.logout,u=i.user,l=u.Avatar,d=u.Username,h=u.Id,p=[{Id:te()(),Icon:Object(Y.jsx)("span",{className:"fas fa-user-circle mr-2 fa-fw"}),Content:"Th\xf4ng tin c\u1ee7a b\u1ea1n",Link:"/users/".concat(h),EventHandler:function(){c(!1),t()}},{Id:te()(),Icon:Object(Y.jsx)("span",{className:"fas fa-sign-out-alt mr-2 fa-fw"}),Content:"\u0110\u0103ng xu\u1ea5t",Link:"/",EventHandler:function(){c(!1),o()}}];return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(f.a,{button:!0,onClick:function(){c(!s)},children:[Object(Y.jsx)(re.a,{children:Object(Y.jsx)(v.a,{border:1,alt:d,src:l||"./image/default_avatar.jpg",style:{width:"1.5rem",height:"1.5rem"}})}),Object(Y.jsx)(x.a,{primary:"T\xe0i kho\u1ea3n"}),s?Object(Y.jsx)(ce.a,{}):Object(Y.jsx)(oe.a,{})]}),Object(Y.jsx)(ae.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(Y.jsxs)(m.a,{children:[Object(Y.jsx)(w.a,{}),p.map((function(e){return Object(Y.jsx)(j.a,{to:e.Link,children:Object(Y.jsxs)(f.a,{onClick:e.EventHandler,children:[Object(Y.jsx)(y.a,{}),Object(Y.jsx)(x.a,{children:e.Content})]})},e.Id)}))]})})]})};ue.defaultProps={onClick:function(){}};var le=ue,de=Object(h.a)({grow:{flexGrow:1},"nav-menu":{display:"flex",flexDirection:"row"},"drawer-header":{minWidth:"75vw",display:"flex",flexDirection:"row"}}),be=function(){var e=Object(r.useContext)(K),t=e.verifyUser,n=e.verifyModerator,a=e.user,s=Object(r.useState)([]),c=Object(b.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)(!1),l=Object(b.a)(u,2),d=l[0],h=l[1],I=de(),P=function(){var e=[];e.push({Id:1,Link:"/contests",Title:"K\u1ef3 thi"}),e.push({Id:5,Link:"/articles",Title:"B\xe0i vi\u1ebft"}),t()&&(e.push({Id:2,Link:"/courses",Title:"Kh\xf3a h\u1ecdc"}),e.push({Id:3,Link:"/collections",Title:"Ch\u1ee7 \u0111\u1ec1"})),n()&&e.push({Id:4,Link:"/admin/submissions",Title:"B\xe0i n\u1ed9p"}),o(e)};Object(r.useEffect)((function(){P()}),[]);var L=function(){d?(o([]),h(!1)):(P(),h(!0))};return Object(Y.jsxs)("div",{className:"header",children:[Object(Y.jsx)(k.a,{position:"static",children:Object(Y.jsxs)(C.a,{children:[Object(Y.jsx)(j.b,{className:"no-border",to:"/",children:Object(Y.jsx)(g.a,{children:Object(Y.jsx)(v.a,{alt:"Big-O Coding",src:"logo.svg"})})}),Object(Y.jsx)(p.a,{display:D,children:Object(Y.jsx)(m.a,{className:"".concat(I["nav-menu"]),children:i.map((function(e){return Object(Y.jsx)(j.b,{to:e.Link,children:Object(Y.jsx)(f.a,{color:"inherit",children:Object(Y.jsx)(x.a,{primary:e.Title})})},e.Id)}))})}),Object(Y.jsx)("div",{className:I.grow}),n()&&Object(Y.jsx)(m.a,{className:I["nav-menu"],children:Object(Y.jsx)(f.a,{button:!0,children:Object(Y.jsx)(j.b,{className:"admin-badge",to:"/admin",children:Object(Y.jsxs)(x.a,{children:[Object(Y.jsx)("span",{className:"fas fa-cogs"}),"\xa0\xa0",a.Role]})})})}),t()?Object(Y.jsx)(p.a,{display:D,children:Object(Y.jsx)(ne,{})}):Object(Y.jsxs)(m.a,{className:I["nav-menu"],children:[Object(Y.jsx)(j.b,{to:"/register",children:Object(Y.jsx)(f.a,{children:Object(Y.jsx)(x.a,{primary:"\u0110\u0103ng k\xfd"})})}),Object(Y.jsx)(j.b,{to:"/login",children:Object(Y.jsx)(f.a,{children:Object(Y.jsx)(x.a,{primary:"\u0110\u0103ng nh\u1eadp"})})})]}),Object(Y.jsx)(p.a,{display:D,children:Object(Y.jsx)(j.b,{className:"no-border",exact:!0,to:"/help",children:Object(Y.jsx)(g.a,{color:"inherit","aria-controls":"help",children:Object(Y.jsx)(A.a,{})})})}),t()&&Object(Y.jsx)(p.a,{display:R,children:Object(Y.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:L,children:Object(Y.jsx)(T.a,{fontSize:"large"})})})]})}),Object(Y.jsxs)(O.a,{className:I["styled-drawer"],anchor:"left",open:d,onClose:L,onOpen:L,children:[Object(Y.jsxs)("div",{className:I["drawer-header"],onClick:L,role:"button",tabIndex:0,children:[t()?Object(Y.jsxs)(p.a,{className:I["nav-menu"],m:"0.7rem",children:[Object(Y.jsx)(v.a,{border:1,alt:a.Username,src:a.Avatar||"./image/default_avatar.jpg"}),Object(Y.jsxs)(p.a,{ml:"1rem",children:[Object(Y.jsx)("strong",{children:a.Username}),Object(Y.jsx)("br",{}),Object(Y.jsx)("i",{children:a.Email})]})]}):Object(Y.jsxs)(m.a,{className:I["nav-menu"],children:[Object(Y.jsx)(j.b,{to:"/register",onClick:L,children:Object(Y.jsx)(f.a,{children:Object(Y.jsx)(x.a,{primary:"\u0110\u0103ng k\xfd"})})}),Object(Y.jsx)(j.b,{to:"/login",onClick:L,children:Object(Y.jsx)(f.a,{children:Object(Y.jsx)(x.a,{primary:"\u0110\u0103ng nh\u1eadp"})})})]}),Object(Y.jsx)(p.a,{ml:"auto",component:g.a,color:"inherit",children:Object(Y.jsx)(N.a,{fontSize:"large"})})]}),Object(Y.jsx)(w.a,{}),Object(Y.jsxs)(m.a,{children:[i.map((function(e){return Object(Y.jsx)(j.b,{to:e.Link,onClick:L,children:Object(Y.jsx)(f.a,{children:Object(Y.jsx)(x.a,{primary:e.Title})},e.Id)},e.Id)})),t()&&[Object(Y.jsx)(w.a,{},6),Object(Y.jsx)(le,{onClick:L},7)],Object(Y.jsx)(w.a,{}),Object(Y.jsx)(j.b,{to:"/help",onClick:L,children:Object(Y.jsxs)(f.a,{button:!0,children:[Object(Y.jsx)(y.a,{children:Object(Y.jsx)(S.a,{color:"inherit"})}),Object(Y.jsx)(x.a,{primary:"Help"})]})})]}),Object(Y.jsx)(w.a,{})]})]})},je=n(26),he=n(516),pe=n(479),me=function(){function e(){Object(i.a)(this,e),this.language="vi",this.setting={}}return Object(o.a)(e,[{key:"use",value:function(e){this.language=e}},{key:"import",value:function(e){var t=e;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))for(var r in e[n])Object.prototype.hasOwnProperty.call(e[n],r)&&(t[n][r.toLowerCase()]=e[n][r]);this.setting=t}},{key:"get",value:function(e){return Object.prototype.hasOwnProperty.call(this.setting,this.language)&&Object.prototype.hasOwnProperty.call(this.setting[this.language],e.toLowerCase())?this.setting[this.language][e.toLowerCase()]:e}}],[{key:"getLanguageName",value:function(e){var t=[{Id:1,ISOCode:"VI"},{Id:2,ISOCode:"EN"}].find((function(t){return t.Id===Number.parseInt(e,10)}));return t?t.ISOCode:null}}]),e}(),fe={vi:{problems:"b\xe0i t\u1eadp",contests:"k\u1ef3 thi",submissions:"b\u1ea3ng ch\u1ea5m b\xe0i",leaderboard:"b\u1ea3ng x\u1ebfp h\u1ea1ng",courses:"c\xe1c kh\xf3a h\u1ecdc",login:"\u0111\u0103ng nh\u1eadp",register:"\u0111\u0103ng k\xed",home:"trang ch\u1ee7",lectures:"b\xe0i h\u1ecdc"}},xe=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"read",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"write",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}}]),e}(),Oe=a.a.createContext(),ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).setLanguage=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe.write("user-language",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={language:"vi",setLanguage:r.setLanguage},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Oe.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),ge=new me;ge.import(fe);var we=function(e){return Object(r.useEffect)((function(){var t=e.nav;t.length>1&&(document.title="".concat(t[t.length-1][0]))})),Object(Y.jsx)(Oe.Consumer,{children:function(){ge.use("vi");var t=e.nav;return 0===t.length&&(t=[["Trang ch\u1ee7","/"]]),Object(Y.jsx)(p.a,{px:"1.5rem",py:"0.3rem",style:{borderBottom:"1px solid rgba(0, 0, 0, 0.2)"},children:Object(Y.jsx)(he.a,{separator:"\u203a\xa0","aria-label":"breadcrumb",children:t.map((function(e){return e[1]?Object(Y.jsx)(pe.a,{component:j.a,to:e[1],color:"inherit",underline:"none",style:{textTransform:"capitalize"},children:ge.get(e[0]).toLowerCase()},e[0]):Object(Y.jsx)(X.a,{color:"textPrimary",style:{textTransform:"capitalize",maxWidth:"10rem"},noWrap:!0,children:ge.get(e[0]).toLowerCase()},e[0])}))})})}})};we.defaultProps={};var ye=we,ke=n(480),Ce=n(481),Se=n(115),Ie=(n(321),n(9)),Ne=n.n(Ie),Pe=n(24),Te=n.n(Pe),Le=n(33),Ae=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(Le.default),Re=n(10),De=n(16),Ue=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getCollections",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:20,r=s.length>2?s[2]:void 0,e.prev=3,e.next=6,new De.a("get",z.h,{page:t,limit:n,cat:r}).request();case 6:return a=e.sent,e.abrupt("return",a.collections);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCollection",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.i,{collId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.collection);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addCollection",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.h,{},Object(Re.a)({},t)).request();case 3:return n=e.sent,e.abrupt("return",n.collection);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCollection",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("PUT",z.i,{collId:t.Id},Object(Re.a)({},t)).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeCollection",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("DELETE",z.i,{collId:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubCollections",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("GET",z.k,{collId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.collections);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("GET",z.j,{collId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("POST",z.j,{collId:t},n).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("DELETE",z.j,{collId:t},n).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ee=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).navigation=function(){return r.Id?[["admin","/admin"],["collections","/admin/collections"],["".concat(r.Name)]]:[["admin","/admin"],["collection"]]},r.Problems=[],r}return Object(o.a)(n,[{key:"updateCollection",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Te.a.cloneDeep(t),r=Te.a.cloneDeep(this),a=Le.default.getDifferent(n,r,["Type"]),!Object.prototype.hasOwnProperty.call(a,"Problems")){e.next=13;break}if(!((s=n.Problems.map((function(e){return r.Problems.find((function(t){return t.Id===e.Id}))?null:e.ProblemId}))).length>0)){e.next=8;break}return e.next=8,Ue.removeProblems(this.Id,s);case 8:if(!((c=r.Problems.map((function(e){return n.Problems.find((function(t){return e.Id===t.Id}))?null:e.Id}))).length>0)){e.next=12;break}return e.next=12,Ue.addProblems(this.Id,c);case 12:delete a.Problems;case 13:return e.next=15,Ue.updateCollection(a);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.getProblems(this.Id);case 2:"string"!==typeof(t=e.sent)&&(this.Problems=t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"togglePublished",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.updateCollection({Id:this.Id,Published:!this.Published});case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return this.Published=!this.Published,e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleOnHomepage",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.updateCollection({Id:this.Id,OnHomepage:!this.OnHomepage});case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return this.OnHomepage=!this.OnHomepage,e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ae),Me=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getCourseType",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.I).request();case 3:return t=e.sent,e.abrupt("return",t.CourseTypes.map((function(e){return new Fe(e)})).sort((function(e,t){return new Date(e.CreateAt).getTime()-new Date(t.CreateAt).getTime()})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCourseList",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.H,{courseTypeCode:t}).request();case 3:return n=e.sent,e.abrupt("return",n.CourseType.CourseList);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addCourseType",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.I,void 0,{CourseType:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCourseType",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.K,{id:t.Id},{CourseType:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCourseTypeContent",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.J,void 0,{Content:r,CourseTypeId:t,Language:Te.a.capitalize(n)}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"removeCourseType",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.K,{id:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(i.a)(this,e),this.length=0,this.container=t}return Object(o.a)(e,[{key:"getIndex",value:function(e){return this.container[e]}},{key:"getId",value:function(e){return this.container.find((function(t){return t.Id===e}))}},{key:"getCustom",value:function(e,t){return this.container.find((function(n){return n[e]===t}))}},{key:"update",value:function(e){this.container=this.container.map((function(t){return t.Id===e.Id&&t.updateProperty(e),t}))}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return this.container.splice(t,0,e),this.length+=1,this}},{key:"remove",value:function(e){this.container=this.container.filter((function(t){return t.Id!==e.Id})),this.length-=1}},{key:"gets",value:function(){return this.container}},{key:"assign",value:function(e){this.container=e,this.length=e.length}}]),e}(),Fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).courses=new Be,r.Link="/admin/coursetypes/".concat(e.CourseTypeCode),r}return Object(o.a)(n,[{key:"Navigation",value:function(e){return[["admin","/admin"],["course types","/admin/coursetypes"],[this.getLanguageContent(e).Name,this.Link]]}},{key:"togglePublished",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.updateCourseType({Id:this.Id,Public:"1"===this.Public?"0":"1"});case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return this.Public="1"===this.Public?"0":"1",e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Te.a.cloneDeep(t),r=Te.a.cloneDeep(this),a=Le.default.getDifferent(n,r,["Id"]),!Object.prototype.hasOwnProperty.call(a,"LanguageContent")){e.next=8;break}for(c in s=[],a.LanguageContent)Object.prototype.hasOwnProperty.call(a.LanguageContent,c)&&s.push(Me.updateCourseTypeContent(this.Id,c,a.LanguageContent[c]));return e.next=8,Promise.all(s);case 8:return e.next=10,Me.updateCourseType(a);case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourseList",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.CourseList.length){e.next=5;break}return e.next=3,Me.getCourseList(this.CourseTypeCode);case 3:t=e.sent,this.CourseList=t;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ae),qe=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getContests",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.s).request();case 3:return t=e.sent,e.abrupt("return",t.contests);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getContest",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.q,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.contest);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateContest",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.q,{id:t.Id},t).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addContest",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.s,void 0,t).request();case 3:return n=e.sent,e.abrupt("return",n.contest);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.v,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.v,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.v,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.v,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.r,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.contestants);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addUsers",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.r,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.contestants);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeUsers",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.r,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.contestants);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getModerators",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.t,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addModerators",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.t,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeModerators",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.t,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateModerators",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.t,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeContest",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.q,{id:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejudge",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.x,{id:t},Object(Re.a)({},n)).request();case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchRejudge",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.x,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ge=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).Problems=r.Problems||[],r.Users=r.Users||[],r}return Object(o.a)(n,[{key:"getContest",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.getContest(this.Id);case 2:return t=e.sent,this.updateProperty(t),e.next=6,qe.getProblems(this.Id);case 6:return n=e.sent,e.next=9,qe.getUsers(this.Id);case 9:return r=e.sent,e.next=12,qe.getModerators(this.Id);case 12:a=e.sent,this.Users=r,this.Problems=n.map((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{Id:e.ProblemId})})),this.Moderators=a;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s,c,i,o,u,l,d,b,j,h,p,m,f,x,O,v,g,w;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Te.a.cloneDeep(t),r=Te.a.cloneDeep(this),a=!1,this.Problems.forEach((function(e){e.Score<0&&(a="Score can not be less than 0")})),!a){e.next=6;break}return e.abrupt("return",a);case 6:if(s=Le.default.getDifferent(n,r),!Object.prototype.hasOwnProperty.call(s,"Password")||s.Password===this.ReenterPassword){e.next=9;break}return e.abrupt("return","Password and reentered password does not match!");case 9:if(!Object.prototype.hasOwnProperty.call(s,"Problems")){e.next=35;break}if(c=[],i=[],o=[],n.Problems.forEach((function(e){r.Problems.map((function(e){return e.Id})).includes(e.Id)||o.push(e)})),!(o.length>0)){e.next=20;break}return e.next=17,qe.deleteProblems(this.Id,o);case 17:if("string"!==typeof(u=e.sent)){e.next=20;break}return e.abrupt("return",u);case 20:if(r.Problems.forEach((function(e){n.Problems.map((function(e){return e.Id})).includes(e.Id)||c.push(e)})),!(c.length>0)){e.next=27;break}return e.next=24,qe.addProblems(this.Id,c);case 24:if("string"!==typeof(l=e.sent)){e.next=27;break}return e.abrupt("return",l);case 27:if(s.Problems.forEach((function(e){n.Problems.map((function(e){return e.Id})).includes(e.Id)&&i.push(e)})),!(i.length>0)){e.next=34;break}return e.next=31,qe.editProblems(this.Id,i);case 31:if("string"!==typeof(d=e.sent)){e.next=34;break}return e.abrupt("return",d);case 34:delete s.Problems;case 35:if(!Object.prototype.hasOwnProperty.call(s,"Users")){e.next=53;break}if(b=[],j=[],n.Users.forEach((function(e){r.Users.map((function(e){return e.Id})).includes(e.Id)||j.push(e)})),!(j.length>0)){e.next=45;break}return e.next=42,qe.removeUsers(this.Id,j);case 42:if("string"!==typeof(h=e.sent)){e.next=45;break}return e.abrupt("return",h);case 45:if(r.Users.forEach((function(e){n.Users.map((function(e){return e.Id})).includes(e.Id)||b.push(e)})),!(b.length>0)){e.next=52;break}return e.next=49,qe.addUsers(this.Id,b);case 49:if("string"!==typeof(p=e.sent)){e.next=52;break}return e.abrupt("return",p);case 52:delete s.Users;case 53:if(!Object.prototype.hasOwnProperty.call(s,"Moderators")){e.next=79;break}if(m=[],f=[],x=[],r.Moderators.forEach((function(e){n.Moderators.find((function(t){return t.UserId===e.UserId&&t.Role!==e.Role}))&&x.push({UserId:e.UserId,Role:e.Role})})),!(x.length>0)){e.next=64;break}return e.next=61,qe.updateModerators(this.Id,x);case 61:if("string"!==typeof(O=e.sent)){e.next=64;break}return e.abrupt("return",O);case 64:if(n.Moderators.forEach((function(e){r.Moderators.map((function(e){return e.UserId})).includes(e.UserId)||f.push({UserId:e.UserId})})),!(f.length>0)){e.next=71;break}return e.next=68,qe.removeModerators(this.Id,f);case 68:if("string"!==typeof(v=e.sent)){e.next=71;break}return e.abrupt("return",v);case 71:if(r.Moderators.forEach((function(e){n.Moderators.map((function(e){return e.UserId})).includes(e.UserId)||m.push({UserId:e.Id})})),!(m.length>0)){e.next=78;break}return e.next=75,qe.addModerators(this.Id,m);case 75:if("string"!==typeof(g=e.sent)){e.next=78;break}return e.abrupt("return",g);case 78:delete s.Moderators;case 79:return e.next=81,qe.updateContest(s);case 81:return w=e.sent,e.abrupt("return",w);case 83:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ae),He=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getCourses",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.max(parseInt(t.page,10)||1,1),r=Math.max(parseInt(t.limit,10)||5,1),a=t.cat,s=t.name,e.prev=3,e.next=6,new De.a("get","".concat(z.C,"?name=:name&cat=:cat&page=:page&limit=:limit"),{name:s,cat:a,page:n,limit:r}).request();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{courses:[],totalCourses:0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.E,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.course);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addCourse",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.C,void 0,t).request();case 3:return n=e.sent,e.abrupt("return",n.course);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCourse",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.E,{id:t.Id},t).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCourseContent",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.D,void 0,{Content:r,CourseId:t,Language:Te.a.capitalize(n)}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"removeCourse",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.E,{id:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.L,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.users);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addUsers",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.L,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.users);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeUsers",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.L,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.users);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getModerators",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.F,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addModerators",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.F,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeModerators",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.F,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateModerators",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.F,{id:t},n).request();case 3:return r=e.sent,e.abrupt("return",r.moderators);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.G,{id:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.scoreboard);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ve=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getLectures",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.Y,{courseId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.lectures);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.X,{courseId:t,lectureId:n}).request();case 3:return r=e.sent,e.abrupt("return",r.lecture);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.Y,{courseId:t.Course.Id},t).request();case 3:return n=e.sent,e.abrupt("return",n.lecture);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.X,{courseId:n,lectureId:t.Id},t).request();case 3:return e.abrupt("return",t);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateLectureContent",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.Z,void 0,{LectureId:t,Content:r,Language:Te.a.capitalize(n)}).request();case 3:return e.abrupt("return",r);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"removeLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.X,{lectureId:n,courseId:t}).request();case 3:return e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.bb,{courseId:t,lectureId:n}).request();case 3:return r=e.sent,e.abrupt("return",r.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.bb,{courseId:t,lectureId:n},r).request();case 3:return a=e.sent,e.abrupt("return",a.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"editProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.bb,{courseId:t,lectureId:n},r).request();case 3:return a=e.sent,e.abrupt("return",a.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.bb,{courseId:t,lectureId:n},r).request();case 3:return a=e.sent,e.abrupt("return",a.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new De.a("get",z.fb,{courseId:t,lectureId:n},void 0,!0).request();case 2:return r=e.sent,e.abrupt("return",r.submissions);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"rejudge",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.db,{courseId:t,lectureId:n},Object(Re.a)({},r)).request();case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"fetchRejudge",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.db,{courseId:t,lectureId:n}).request();case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ze=n(28),We=n(45),Ye=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"submit",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.Eb,{id:t.ProblemId},t,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitContest",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.A,{id:t.ContestId},t,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.gb,{courseId:t,lectureId:n,problemId:r},a,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"fetchSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s,c,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,n=i.length>1&&void 0!==i[1]?i[1]:void 0,0===parseInt(t,10)&&(t=1),e.prev=3,r="",n){for(s in a=[],n)Object.prototype.hasOwnProperty.call(n,s)&&a.push("".concat(s,"=").concat(n[s]));r="".concat(z.Db,"/?").concat(a.join("&"),"&page=").concat(t)}else r="".concat(z.Db,"/?page=").concat(t);return e.next=8,new V.a("get",r,void 0,void 0,Object(B.b)()).request();case 8:return c=e.sent,e.abrupt("return",{submissions:c.submissions,totalSubmissions:c.totalSubmissions});case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",{submissions:[],totalSubmissions:0});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ke=n(35),Qe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).Language&&(r.LanguageId=r.Language.Id),r}return Object(o.a)(n,[{key:"update",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te.a.cloneDeep(t),r=Te.a.cloneDeep(this),a=Le.default.getDifferent(n,r),e.prev=3,e.next=6,Ke.a.editStatement(a);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(Le.default),Je=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).Link="/problems/".concat(r.Id),r.Statements?r.Statements=r.Statements.map((function(e){return new Qe(e)})).sort((function(e,t){return t.Language.Id-e.Language.Id})):r.Statements=[],r}return Object(o.a)(n,[{key:"Navigation",value:function(){return[["home","/"],["problems","/problems"],[this.Name]]}},{key:"submit",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).ProblemId=this.Id,n.UserId=Object(B.a)("Id"),e.next=5,Ye.submit(Object(Re.a)(Object(Re.a)({},n),{},{Content:We.Base64.encode(n.Content)}));case 5:if(r=e.sent,ze.a.setQueryString("view","submissions"),!r){e.next=9;break}return e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Le.default),_e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"submit",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).ProblemId=this.Id,n.ContestId=this.ContestId,e.next=5,Ye.submitContest(Object(Re.a)(Object(Re.a)({},n),{},{Content:We.Base64.encode(n.Content)}));case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return ze.a.setQueryString("problem_view","submissions"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Je),Xe=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t,"all"===(n=Te()(n).omitBy(Te.a.isEmpty).value()).tag&&delete n.tag,r=ze.a.stringify(n),e.next=7,new V.a("get",z.qb,{queryString:r}).request();case 7:return a=e.sent,e.abrupt("return",{problems:a.problems,totalProblems:a.totalProblems});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new V.a("get",z.pb,{id:t},void 0,!0),e.next=4,n.request();case 4:return r=e.sent,e.abrupt("return",new Je(r.problem));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblemSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new V.a("get",z.tb,{id:t},void 0,!0),e.next=4,n.request();case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{submissions:[],totalSubmissions:0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getContestProblem",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new V.a("get",z.u,{id:t,problemId:n},null,!0),e.next=4,r.request();case 4:return a=e.sent,e.abrupt("return",new _e(Object(Re.a)(Object(Re.a)({},a.problem),{},{ContestId:t})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e){try{return e.Testcase=e.Testcase.sort((function(e,t){return e.Order.localeCompare(t.Order)})),e}catch(t){return e}}},{key:"getNewestProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.nb).request();case 3:return t=e.sent,e.abrupt("return",t.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ze=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getLectures",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.Y,{courseId:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.lectures);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.X,{courseId:t,lectureId:n},void 0,!0).request();case 3:return r=e.sent,e.abrupt("return",r.lecture);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLectureProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.bb,{courseId:t,lectureId:n},void 0,!0).request();case 3:return r=e.sent,e.abrupt("return",r.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLectureProblem",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.ab,{courseId:t,lectureId:n,problemId:r},void 0,!0).request();case 3:return a=e.sent,e.abrupt("return",Xe.parse(a.problem));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getTutorials",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.ib,{courseId:t,lectureId:n,problemId:r},void 0,!0).request();case 3:return a=e.sent,e.abrupt("return",a.tutorials);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getTutorial",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r,a){var s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.hb,{courseId:t,lectureId:n,problemId:r,tutorialId:a},void 0,!0).request();case 3:return s=e.sent,e.abrupt("return",s.tutorial);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getSourceCode",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.jb,{courseId:t,lectureId:n,problemId:r,tutorialId:a},void 0,!0).request();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getProblemSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.cb,{courseId:t,lectureId:n,problemId:r},void 0,!0).request();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.eb,{courseId:t,lectureId:n},void 0,!0).request();case 3:return r=e.sent,e.abrupt("return",r.scoreboard);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.fb,{courseId:t,lectureId:n},void 0,!0).request();case 3:return r=e.sent,e.abrupt("return",r.submissions);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),$e=n(50),et=n(170),tt=n(42),nt=n(85),rt=n.n(nt),at=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"readText",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.readAsText(e)}))}},{key:"readBinary",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.readAsBinaryString(e)}))}},{key:"getMD5Hash",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=rt.a.MD5(rt.a.enc.Latin1.parse(r.result)).toString(rt.a.enc.Hex);e(t)},r.readAsBinaryString(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),st=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getTestcase",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.Gb,{problemId:t}).request();case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addTestcase",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.Gb,{problemId:t},Object(Re.a)(Object(Re.a)({},n),{},{ProblemId:t})).request();case 3:return r=e.sent,e.abrupt("return",r.testcase);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editTestcase",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.Fb,{problemId:t,id:n.Id},Object(Re.a)(Object(Re.a)({},n),{},{ProblemId:t})).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeTestcase",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.Fb,{problemId:t,id:n},{ProblemId:t,TestcaseId:n}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ct=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e)).Name="/",a.ProblemId=r,a.updateProperty(e),a}return Object(o.a)(n,[{key:"toggleSample",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.IsSample=!this.IsSample,!t){e.next=8;break}return e.next=4,st.editTestcase(this.ProblemId,{Id:this.Id,IsSample:this.IsSample});case 4:if(!(n=e.sent)){e.next=8;break}return this.IsSample=!this.IsSample,e.abrupt("return",n);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeOrder",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:0,n=s.length>1?s[1]:void 0,r=this.Rank,this.Rank=Number(this.Rank)+t,!n){e.next=11;break}return e.next=7,st.editTestcase(this.ProblemId,{Id:this.Id,Rank:this.Rank});case 7:if(!(a=e.sent)){e.next=11;break}return this.Rank=r,e.abrupt("return",a);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"assignFile",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.readText(t);case 2:if(n=e.sent,r=Object(nt.MD5)(n).toString(),this.Name=this.Name.split("/"),!t.name.endsWith(".in")){e.next=15;break}if(r!==this.InputChecksum){e.next=9;break}return this.Name=this.Name.join("/"),e.abrupt("return");case 9:this.InputContent=btoa(n),this.InputChecksum=r,this.InputSize=t.size,this.Name[0]=t.name,e.next=23;break;case 15:if(!t.name.endsWith(".ans")){e.next=23;break}if(r!==this.OutputChecksum){e.next=19;break}return this.Name=this.Name.join("/"),e.abrupt("return");case 19:this.OutputContent=btoa(n),this.OutputChecksum=r,this.OutputSize=t.size,this.Name[1]=t.name;case 23:this.Name=this.Name.join("/");case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceFile",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assignFile(t);case 2:if(!n){e.next=8;break}return e.next=5,st.editTestcase(this.ProblemId,this);case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"handleInputFiles",value:function(){var e=Object(M.a)(E.a.mark((function e(t,r,a){var s,c,i,o,u,l,d,b;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Object(et.a)(Array,Object(tt.a)(t)),c=r,i=a,o=[],u=s.filter((function(e){return e.name.endsWith(".in")})).sort((function(e,t){return e.name.localeCompare(t.name)})),l=Object($e.a)(u),e.prev=6,b=E.a.mark((function e(){var t,r,a,u,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,r=t,a=t.name.split(".")[0],!((u=s.find((function(e){return e.name==="".concat(a,".ans")})))&&r.size>0&&u.size>0)){e.next=13;break}return c+=1,l=new n({},i),e.next=9,l.assignFile(r);case 9:return e.next=11,l.assignFile(u);case 11:l.Rank=c,o.push(l);case 13:case"end":return e.stop()}}),e)})),l.s();case 9:if((d=l.n()).done){e.next=13;break}return e.delegateYield(b(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),l.e(e.t1);case 18:return e.prev=18,l.f(),e.finish(18);case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(Le.default),it=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"submit",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.Hb,{id:t.ProblemId},t,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejudge",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.zb,{probid:t,id:n}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,0===parseInt(t,10)&&(t=1),e.prev=2,n=new De.a("get","submissions?page=:page",{page:t},null),e.next=6,n.request();case 6:return r=e.sent,e.abrupt("return",{submissions:r.submissions,totalSubmissions:r.totalSubmissions});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProblemSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,0===parseInt(n,10)&&(n=1),e.prev=2,r=new De.a("get",z.Db,{id:t,page:n},null),e.next=6,r.request();case 6:return a=e.sent,e.abrupt("return",{submissions:a.submissions,totalSubmissions:a.totalSubmissions});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTestSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,0===parseInt(n,10)&&(n=1),e.prev=2,r=new De.a("get",z.Hb,{id:t,page:n},null),e.next=6,r.request();case 6:return a=e.sent,e.abrupt("return",{submissions:a.submissions,totalSubmissions:a.totalSubmissions});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ot=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).Link="/admin/problems/".concat(e.Id),r.EditLink="/admin/problems/edit/".concat(e.Id),r.Statements?r.Statements=r.Statements.map((function(e){return new Qe(e)})).sort((function(e,t){return t.Language.Id-e.Language.Id})):r.Statements=[],r.Testcase?r.Testcase=r.Testcase.map((function(e){return new ct(e,r.Id)})):r.Testcase=[],r.Tutorials=[],r.Discussions=[],r}return Object(o.a)(n,[{key:"EditNavigation",value:function(){return[["admin","/admin"],["problems","/admin/problems"],[this.Name]]}},{key:"ViewNavigation",value:function(){return[["admin","/admin"],["problems","/admin/problems"],[this.Name]]}},{key:"loadTestcase",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.Testcase.length){e.next=5;break}return e.next=3,st.getTestcase(this.Id);case 3:t=e.sent,this.Testcase=t.map((function(e){return new ct(e,n.Id)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"togglePublished",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.editProblem({Id:this.Id,Published:!this.Published});case 2:if("object"!==typeof(t=e.sent)){e.next=7;break}this.updateProperty(t),e.next=8;break;case 7:return e.abrupt("return",t);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"togglePremium",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.editProblem({Id:this.Id,Premium:!this.Premium});case 2:if("object"!==typeof(t=e.sent)){e.next=7;break}this.updateProperty(t),e.next=8;break;case 7:return e.abrupt("return",t);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s,c,i,o,u,l,d,b,j,h,p,m,f,x,O,v,g,w,y,k,C,S=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Te.a.cloneDeep(t),r=Te.a.cloneDeep(this),a=Le.default.getDifferent(n,r,["Id"]),!Object.prototype.hasOwnProperty.call(a,"Testcase")){e.next=16;break}return e.next=6,st.getTestcase(a.Id);case 6:for(s=(s=e.sent).map((function(e){return new ct(e,S.Id)})),c=r.Testcase,i=[],c.forEach((function(e){var t=s.find((function(t){return e.Id===t.Id}));if(t&&JSON.stringify(e)!==JSON.stringify(t)){var n=Le.default.getDifferent(t,e,["Id"]);i.push(n)}})),o=[],u=0,l=i;u<l.length;u++)d=l[u],o.push(st.editTestcase(a.Id,d));return e.next=15,Promise.all(o);case 15:delete a.Testcase;case 16:if(!Object.prototype.hasOwnProperty.call(a,"Statements")){e.next=23;break}b=[],j=Object($e.a)(a.Statements);try{for(j.s();!(h=j.n()).done;)p=h.value,b.push(Ke.a.editStatement(a.Id,p))}catch(I){j.e(I)}finally{j.f()}return e.next=22,Promise.all(b);case 22:delete a.Statements;case 23:if(!Object.prototype.hasOwnProperty.call(a,"Tutorials")){e.next=30;break}m=[],f=Object($e.a)(a.Tutorials);try{for(f.s();!(x=f.n()).done;)O=x.value,m.push(Ke.a.editTutorial(a.Id,O))}catch(I){f.e(I)}finally{f.f()}return delete a.Tutorials,e.next=30,Promise.all(m);case 30:if(!Object.prototype.hasOwnProperty.call(a,"Moderators")){e.next=56;break}if(v=[],g=[],w=[],r.Moderators.forEach((function(e){n.Moderators.find((function(t){return t.UserId===e.UserId&&t.Role!==e.Role}))&&w.push({UserId:e.UserId,Role:e.Role})})),!(w.length>0)){e.next=41;break}return e.next=38,Ke.a.updateModerators(this.Id,w);case 38:if("string"!==typeof(y=e.sent)){e.next=41;break}return e.abrupt("return",y);case 41:if(n.Moderators.forEach((function(e){r.Moderators.map((function(e){return e.UserId})).includes(e.UserId)||g.push({UserId:e.UserId})})),!(g.length>0)){e.next=48;break}return e.next=45,Ke.a.removeModerators(this.Id,g);case 45:if("string"!==typeof(k=e.sent)){e.next=48;break}return e.abrupt("return",k);case 48:if(r.Moderators.forEach((function(e){n.Moderators.map((function(e){return e.UserId})).includes(e.UserId)||v.push({UserId:e.Id})})),!(v.length>0)){e.next=55;break}return e.next=52,Ke.a.addModerators(this.Id,v);case 52:if("string"!==typeof(C=e.sent)){e.next=55;break}return e.abrupt("return",C);case 55:delete a.Moderators;case 56:return e.prev=56,e.next=59,Ke.a.editProblem(a);case 59:return e.abrupt("return",e.sent);case 62:return e.prev=62,e.t0=e.catch(56),e.abrupt("return",e.t0.message);case 65:case"end":return e.stop()}}),e,this,[[56,62]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).ProblemId=this.Id,n.UserId=Object(B.a)("Id"),e.next=5,it.submit(Object(Re.a)(Object(Re.a)({},n),{},{Content:We.Base64.encode(n.Content)}));case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return ze.a.setQueryString("view","submissiontests"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Je),ut=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e)).Link="/admin/courses/".concat(r.Course.Id,"/lectures/").concat(r.Id,"/problems/").concat(a.ProblemId||a.Id),a}return n}(ot),lt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e)).Course=r,a.Problems=[],a.Link="/admin/courses/".concat(r.Id,"/lectures/").concat(a.Id),a.EditLink="/admin/courses/".concat(r.Id,"/lectures/edit/").concat(a.Id),a.Solved=0,a}return Object(o.a)(n,[{key:"getLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.getLecture(this.Course.Id,this.Id);case 2:return t=e.sent,e.next=5,Ve.getProblems(this.Course.Id,this.Id);case 5:return this.Problems=e.sent,this.Problems=this.Problems.map((function(e){return new ut(e,n)})),e.next=9,Ze.getScoreboard(this.Course.Id,this.Id);case 9:this.Scoreboard=e.sent,this.updateProperty(t);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.getProblem(t);case 2:return n=e.sent,e.abrupt("return",new ut(n,this));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"togglePublished",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.updateLecture({Id:this.Id,Published:!this.Published},this.Course.Id);case 2:if(t=e.sent,this.Published=!this.Published,!t){e.next=6;break}return e.abrupt("return",t);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s,c,i,o,u,l,d;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Te.a.omit(t,"Course"),r=Te.a.omit(this,"Course"),a=Le.default.getDifferent(n,r),!Object.prototype.hasOwnProperty.call(a,"Problems")){e.next=29;break}if(s=[],c=[],i=[],n.Problems.forEach((function(e){r.Problems.map((function(e){return e.Id})).includes(e.Id)||i.push(e)})),!(i.length>0)){e.next=14;break}return e.next=11,Ve.deleteProblems(this.Course.Id,this.Id,i);case 11:if("string"!==typeof(o=e.sent)){e.next=14;break}return e.abrupt("return",o);case 14:if(r.Problems.forEach((function(e){n.Problems.map((function(e){return e.Id})).includes(e.Id)||s.push(e)})),!(s.length>0)){e.next=21;break}return e.next=18,Ve.addProblems(this.Course.Id,this.Id,s);case 18:if("string"!==typeof(u=e.sent)){e.next=21;break}return e.abrupt("return",u);case 21:if(a.Problems.forEach((function(e){n.Problems.map((function(e){return e.Id})).includes(e.Id)&&c.push(e)})),!(c.length>0)){e.next=28;break}return e.next=25,Ve.editProblems(this.Course.Id,this.Id,c);case 25:if("string"!==typeof(l=e.sent)){e.next=28;break}return e.abrupt("return",l);case 28:delete a.Problems;case 29:return e.next=31,Ve.updateLecture(a,this.Course.Id);case 31:return d=e.sent,e.abrupt("return",d);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ae),dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetched=!1,r.Lectures=[],r.Users=[],r.Moderators=[],r.Link="/admin/courses/".concat(e.Id),r.EditLink="/admin/courses/edit/".concat(e.Id),r}return Object(o.a)(n,[{key:"togglePublished",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.updateCourse({Id:this.Id,Published:!this.Published});case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return this.Published=!this.Published,e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCourse",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s,c,i,o,u,l,d,b,j,h,p;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Te.a.omit(t,"Lectures"),r=Te.a.omit(this,"Lectures"),a=Le.default.getDifferent(n,r),!Object.prototype.hasOwnProperty.call(a,"Users")){e.next=29;break}if(s=[],c=[],r.Users.forEach((function(e){n.Users.find((function(t){return t.Id===e.Id&&t.EndDate!==e.EndDate}))&&(c.push(e.Id),s.push({UserId:e.UserId,EndDate:e.EndDate}))})),!(c.length>0)){e.next=12;break}return e.next=10,He.removeUsers(this.Id,c);case 10:return e.next=12,He.addUsers(this.Id,s);case 12:if(s.length=0,c.length=0,n.Users.forEach((function(e){r.Users.map((function(e){return e.Id})).includes(e.Id)||c.push(e.Id)})),!(c.length>0)){e.next=21;break}return e.next=18,He.removeUsers(this.Id,c);case 18:if("string"!==typeof(i=e.sent)){e.next=21;break}return e.abrupt("return",i);case 21:if(r.Users.forEach((function(e){n.Users.map((function(e){return e.Id})).includes(e.Id)||s.push({UserId:e.Id})})),!(s.length>0)){e.next=28;break}return e.next=25,He.addUsers(this.Id,s);case 25:if("string"!==typeof(o=e.sent)){e.next=28;break}return e.abrupt("return",o);case 28:delete a.Users;case 29:if(!Object.prototype.hasOwnProperty.call(a,"Moderators")){e.next=55;break}if(u=[],l=[],d=[],r.Moderators.forEach((function(e){n.Moderators.find((function(t){return t.UserId===e.UserId&&t.Role!==e.Role}))&&d.push({UserId:e.UserId,Role:e.Role})})),!(d.length>0)){e.next=40;break}return e.next=37,He.updateModerators(this.Id,d);case 37:if("string"!==typeof(b=e.sent)){e.next=40;break}return e.abrupt("return",b);case 40:if(n.Moderators.forEach((function(e){r.Moderators.map((function(e){return e.UserId})).includes(e.UserId)||l.push({UserId:e.UserId})})),!(l.length>0)){e.next=47;break}return e.next=44,He.removeModerators(this.Id,l);case 44:if("string"!==typeof(j=e.sent)){e.next=47;break}return e.abrupt("return",j);case 47:if(r.Moderators.forEach((function(e){n.Moderators.map((function(e){return e.UserId})).includes(e.UserId)||u.push({UserId:e.Id})})),!(u.length>0)){e.next=54;break}return e.next=51,He.addModerators(this.Id,u);case 51:if("string"!==typeof(h=e.sent)){e.next=54;break}return e.abrupt("return",h);case 54:delete a.Moderators;case 55:return e.next=57,He.updateCourse(a);case 57:return p=e.sent,e.abrupt("return",p);case 59:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=18;break}return e.next=3,He.getUsers(this.Id);case 3:return t=e.sent,this.Users=t,e.next=7,He.getModerators(this.Id);case 7:return n=e.sent,this.Moderators=n,e.next=11,He.getScoreboard(this.Id);case 11:return r=e.sent,this.Scoreboard=r,e.next=15,Ve.getLectures(this.Id);case 15:a=e.sent,this.Lectures=a.map((function(e){return new lt(e,s)})),this.fetched=!0;case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCourse();case 2:if(!(n=this.Lectures.find((function(e){return e.Id===parseInt(t,10)})))){e.next=7;break}return e.next=6,n.getLecture();case 6:return e.abrupt("return",n);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.addLecture(Object(Re.a)(Object(Re.a)({},t),{},{Course:{Id:t.Course.Id}}));case 2:if("string"===typeof(n=e.sent)){e.next=7;break}return t.updateProperty(n),this.Lectures.push(t),e.abrupt("return",t);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.removeLecture(this.Id,t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.Lectures=this.Lectures.filter((function(e){return e.Id!==t})),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Le.default),bt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(Le.default),jt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getCollections",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:20,r=s.length>2?s[2]:void 0,e.prev=3,e.next=6,new V.a("get",z.h,{page:t,limit:n,cat:r}).request();case 6:return a=e.sent,e.abrupt("return",a.collections);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSubCollections",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("GET",z.k,{collId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.collections);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollection",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.i,{collId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.collection);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("GET",z.j,{collId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollectionUserInfo",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get","".concat(z.g,"/").concat(z.Rb),{collectionName:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.statistics);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollectionLeaderboard",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get","".concat(z.g,"/").concat(z.W),{collectionName:t},{CollectionId:t}).request();case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollectionRecentActivities",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get","".concat(z.g,"/").concat(z.wb),{collectionName:t}).request();case 3:return n=e.sent,e.abrupt("return",n.activities);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ht=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).navigation=function(){return r.Id?[["Home","/"],["collections","/collections"],["".concat(r.Name)]]:[["Home","/"],["collection"]]},r.Problems=[],r.Type=e?e.Type:0,r.Fetched=!1,r}return Object(o.a)(n,[{key:"getProblems",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.getProblems(this.Id);case 2:"string"!==typeof(t=e.sent)&&(this.Problems=t,this.Fetched=!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Le.default),pt=n(38),mt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getCourses",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.max(parseInt(t.page,10)||1,1),r=Math.max(parseInt(t.limit,10)||5,1),a=t.cat,s=t.name,e.prev=3,e.next=6,new V.a("get","".concat(z.C,"?cat=:cat&name=:name&page=:page&limit=:limit"),{page:n,cat:a,name:s,limit:r},void 0,!0).request();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{totalCourses:0,courses:[]});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.E,{id:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.course);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.G,{id:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.scoreboard);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ft=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e)).Problem=r,a.fetched=!1,a.SourceCodes=[],a}return Object(o.a)(n,[{key:"get",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=6;break}return e.next=3,Ze.getTutorial(this.Problem.Lecture.Course.Id,this.Problem.Lecture.Id,this.Problem.Id,this.Id);case 3:(t=e.sent)&&this.updateProperty(t),this.fetched=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Le.default),xt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e)).Lecture=r,a.Link="/courses/".concat(r.Course.Id,"/lectures/").concat(r.Id,"/problems/").concat(a.Id),a.Statements?a.Statements=a.Statements.map((function(e){return new Qe(e)})).sort((function(e,t){return t.Language.Id-e.Language.Id})):a.Statements=[],a.fetched=!1,a}return Object(o.a)(n,[{key:"submit",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).ProblemId=this.Id,n.Content=We.Base64.encode(n.Content),e.next=5,Ye.submitLecture(this.Lecture.Course.Id,this.Lecture.Id,this.Id,n);case 5:if("string"!==typeof(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return ze.a.setQueryString("view","submissions"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=11;break}return e.next=3,Ze.getLectureProblem(this.Lecture.Course.Id,this.Lecture.Id,this.Id);case 3:return(t=e.sent).Statements?t.Statements=t.Statements.map((function(e){return new Qe(e)})).sort((function(e,t){return t.Language.Id-e.Language.Id})):t.Statements=[],e.next=7,Ze.getTutorials(this.Lecture.Course.Id,this.Lecture.Id,this.Id);case 7:n=e.sent,this.Tutorials=n.map((function(e){return new ft(e,r)})),this.updateProperty(t),this.fetched=!0;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Le.default),Ot=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e)).Course=r,a.Problems=[],a.Link="/courses/".concat(a.Course.Id,"/lectures/").concat(a.Id),a.fetched=!1,a}return Object(o.a)(n,[{key:"getLecture",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=12;break}return e.next=3,Ze.getLecture(this.Course.Id,this.Id);case 3:return t=e.sent,this.updateProperty(t),e.next=7,Ze.getLectureProblems(this.Course.Id,this.Id);case 7:return n=e.sent,this.Problems=n.map((function(e){return new xt(e,r)})),e.next=11,this.getScoreboard();case 11:this.fetched=!0;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.Problems.find((function(e){return e.Id===t})))){e.next=4;break}return e.next=4,n.getProblem();case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze.getScoreboard(this.Course.Id,this.Id);case 2:this.Scoreboard=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMiniScoreboard",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Scoreboard){e.next=3;break}return e.next=3,this.getScoreboard();case 3:return e.abrupt("return",this.Scoreboard.ScoreboardDetail);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Le.default),vt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getCourse=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.fetched){e.next=12;break}return e.next=3,mt.getCourse(r.Id);case 3:return t=e.sent,r.updateProperty(t),e.next=7,Ze.getLectures(r.Id);case 7:return n=e.sent,r.Lectures=n.map((function(e){return new Ot(e,Object(pt.a)(r))})),e.next=11,r.getScoreboard();case 11:r.fetched=!0;case 12:case"end":return e.stop()}}),e)}))),r.getScoreboard=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.getScoreboard(r.Id);case 2:r.Scoreboard=e.sent;case 3:case"end":return e.stop()}}),e)}))),r.Lectures=[],r.Scoreboard=[],r.fetched=!1,r.Link="/courses/".concat(r.Id),r}return n}(Le.default),gt=n(100),wt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getComments",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.m,{topicId:t,page:n},void 0,!0).request();case 3:return r=e.sent,e.abrupt("return",{totalComment:r.totalComment,comments:r.comments});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{totalComment:0,comments:[]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.m,{topicId:t},{Content:n},!0).request();case 3:return r=e.sent,e.abrupt("return",r.comment);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("put",z.l,{id:t},{Content:n},!0).request();case 3:return r=e.sent,e.abrupt("return",r.comment);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("delete",z.l,{id:t},void 0,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"voteComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.Wb,{id:t},{Value:n},!0).request();case 3:return r=e.sent,e.abrupt("return",r.vote);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),yt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getTopics",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,e.prev=1,r=t?z.ub:z.n,e.next=5,new V.a("get",r,{problemId:t,pageNumber:n},void 0,!0).request();case 5:return a=e.sent,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{totalTopic:0,topics:[]});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTopic",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.Jb,{topicId:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.topic);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLatestTopic",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.V).request();case 3:return t=e.sent,e.abrupt("return",t.topics);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"addTopic",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.Ib,void 0,{Title:t,Content:n},!0).request();case 3:return a=e.sent,e.abrupt("return",a.topic);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteTopic",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("delete",z.Jb,{topicId:t},void 0,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"voteTopic",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.Xb,{id:t},{Value:n},!0).request();case 3:return r=e.sent,e.abrupt("return",r.vote);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editTopic",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("put",z.Jb,{topicId:t},{Content:n},!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),kt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).Replies=[],r}return Object(o.a)(n,[{key:"vote",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t===this.UserVoteComment&&(t=0),e.next=3,wt.voteComment(this.Id,t);case 3:if("string"!==typeof(n=e.sent)){e.next=6;break}return e.abrupt("return");case 6:this.Vote=n,this.UserVoteComment=t;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.editComment(this.Id,t);case 2:if("string"!==typeof(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.updateProperty(n),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Le.default),Ct=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).totalComment=0,r.commentPage=0,r.comments=[],r.canGetMoreComment=!0,r}return Object(o.a)(n,[{key:"getComments",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.commentPage+=1,e.next=3,wt.getComments(this.Id,this.commentPage);case 3:t=e.sent,this.totalComment=t.totalComment,this.comments=this.comments.concat(t.comments),this.canGetMoreComment=this.comments.length<this.totalComment;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.addComment(this.Id,t);case 2:if("string"!==typeof(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.totalComment+=1,this.comments.unshift(new kt(n)),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.removeComment(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.comments=this.comments.filter((function(e){return e.Id!==t})),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"vote",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.voteTopic(this.Id,t);case 2:null!==(n=e.sent)&&(this.Vote=n,this.UserVoteTopic=t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.editTopic(this.Id,t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.Content=t,e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Le.default),St=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).totalComment=0,r.commentPage=0,r.comments=[],r.canGetMoreComment=!0,r.Published=e.Published||!1,r.Pinned=e.Pinned||!1,e.Content?r.Content=We.Base64.decode(e.Content):r.Content="",r}return Object(o.a)(n,[{key:"getComments",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.commentPage+=1,e.next=3,wt.getComments(this.Id,this.commentPage);case 3:t=e.sent,this.totalComment=t.totalComment,this.comments=this.comments.concat(t.comments),this.canGetMoreComment=this.comments.length<this.totalComment;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.addComment(this.Id,t);case 2:if("string"!==typeof(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.totalComment+=1,this.comments.unshift(new kt(n)),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.removeComment(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.comments=this.comments.filter((function(e){return e.Id!==t})),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"vote",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.voteTopic(this.Id,t);case 2:null!==(n=e.sent)&&(this.Vote=n,this.UserVoteTopic=t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.editTopic(this.Id,t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.Content=t,e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Le.default),It=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).totalComment=0,r.commentPage=0,r.comments=[],r.canGetMoreComment=!0,r}return Object(o.a)(n,[{key:"get",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.commentPage+=1,e.next=3,wt.getComments(this.Id,this.commentPage);case 3:t=e.sent,this.totalComment=t.totalComment,this.comments=this.comments.concat(t.comments),this.canGetMoreComment=this.comments.length<this.totalComment;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.addComment(this.Id,t);case 2:if("string"!==typeof(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.totalComment+=1,this.comments.unshift(new kt(n)),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeComment",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.removeComment(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.comments=this.comments.filter((function(e){return e.Id!==t})),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"vote",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.voteTopic(this.Id,t);case 2:null!==(n=e.sent)&&(this.Vote=n,this.UserVoteTopic=t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.editTopic(this.Id,t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.Content=t,e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Le.default),Nt=(Ne.a.instanceOf(Ee),Ne.a.instanceOf(Ge),Ne.a.instanceOf(Fe),Ne.a.instanceOf(dt),Ne.a.instanceOf(lt)),Pt=(Ne.a.instanceOf(ot),Ne.a.instanceOf(bt),Ne.a.instanceOf(ht),Ne.a.instanceOf(vt),Ne.a.instanceOf(Ge),Ne.a.instanceOf(_e),Ne.a.instanceOf(Ot)),Tt=(Ne.a.instanceOf(xt),Ne.a.instanceOf(ft),Ne.a.instanceOf(Je),Ne.a.instanceOf(Qe),Ne.a.instanceOf(ct),Ne.a.instanceOf(gt.default)),Lt=(Ne.a.instanceOf(Ct),Ne.a.instanceOf(St),Ne.a.instanceOf(It),Ne.a.arrayOf(Nt),Ne.a.arrayOf(Pt),Ne.a.arrayOf(Tt),Ne.a.shape({xs:Ne.a.number,sm:Ne.a.number,md:Ne.a.number,lg:Ne.a.number,xl:Ne.a.number}),n(181)),At=a.a.createContext(),Rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).addNotification=function(e,t){var n=r.state.timer;clearTimeout(n);var a=r.state.notifications;a.push({title:e,content:t,Id:te()()}),r.setState({notifications:a,timer:setInterval(Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.onClose();case 1:case"end":return e.stop()}}),e)}))),2e3)})},r.onClose=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r.state.notifications).splice(0,1),e.next=4,r.setState({notifications:t});case 4:case"end":return e.stop()}}),e)}))),r.state={notifications:[],addNotification:r.addNotification,onClose:r.onClose,timer:void 0},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(At.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),Dt=function(){return Object(Y.jsx)("div",{className:"toast-stack",children:Object(Y.jsx)(At.Consumer,{children:function(e){return e.notifications.map((function(t,n){return Object(Y.jsxs)(Lt.a,{onClose:Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onClose(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:[Object(Y.jsxs)(Lt.a.Header,{className:"bg-light-blue text-white",children:[Object(Y.jsx)("strong",{className:"mr-auto",children:t.title}),Object(Y.jsx)("small",{children:"Just now"})]}),Object(Y.jsx)(Lt.a.Body,{children:t.content})]},t.Id)}))}})})},Ut=function(e){var t=e.className,n=e.children,r=e.backgroundColor;return Object(Y.jsx)(p.a,{component:ke.a,pt:"1.5rem",pb:"1.5rem",className:"".concat(t),style:{background:r},children:Object(Y.jsx)(Ce.a,{className:"content-body",children:Object(Y.jsx)(ke.a,{container:!0,spacing:2,children:n})})})};Ut.defaultProps={className:"",backgroundColor:"#f5f6fa"};var Et=function(e){var t=e.gridBreakpont,n=e.className,r=e.children;return Object(Y.jsx)(ke.a,{item:!0,xs:t.xs||12,sm:t.sm||12,md:t.md||9,lg:t.lg||9,xl:t.xl||9,className:"".concat(n||""),style:{display:"flex",flexDirection:"column"},children:r})};Et.defaultProps={className:"",gridBreakpont:{}};var Mt=function(e){var t=e.gridBreakpont,n=e.className,r=e.children;return Object(Y.jsxs)(ke.a,{item:!0,xs:t.xs||12,sm:t.sm||12,md:t.md||3,lg:t.lg||3,xl:t.xl||3,className:" ".concat(n||""),style:{display:"flex",flexDirection:"column"},children:[r,Object(Y.jsx)(Dt,{})]})};Mt.defaultProps={className:"",gridBreakpont:{}};var Bt=function(e){var t=e.orientation,n=e.viewName,r=e.className,a=e.style,s=e.children,c=e.minLeft,i=e.minRight,o=xe.read("".concat(n,"-").concat(t,"-reflex-left-size"));return s[0]&&s[1]?Object(Y.jsxs)(Se.a,{className:r,style:a,orientation:t,children:[Object(Y.jsx)(Se.b,{minSize:c,flex:o||.5,onStopResize:function(e){var r=parseFloat(e.domElement.style.flex.split(" ")[0]);xe.write("".concat(n,"-").concat(t,"-reflex-left-size"),r)},children:s[0]}),Object(Y.jsx)(Se.c,{children:"vertical"===t&&Object(Y.jsx)("strong",{children:". . . . ."})}),Object(Y.jsx)(Se.b,{minSize:i,children:s[1]})]}):Object(Y.jsx)(Se.a,{className:r,style:a,orientation:t,children:Object(Y.jsx)(Se.b,{children:s[0]||s[1]})})};Bt.defaultProps={orientation:"horizontal",className:"",style:{},viewName:"",minLeft:450,minRight:300};var Ft=Ut,qt=n(21),Gt=n(17),Ht=n(482),Vt=function(e){var t=e.className,n=e.style,r=e.children;return Object(Y.jsx)("div",{className:"d-flex justify-content-center ".concat(t),style:Object(Re.a)({},n),children:r})};Vt.defaultProps={className:void 0,style:void 0};var zt=Vt,Wt=function(e){var t=e.children;return Object(Y.jsx)("div",{className:"d-flex flex-column",children:t})},Yt=function(e){var t=e.className;return Object(Y.jsx)(zt,{style:{height:"100%"},className:t,children:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto",style:{verticalAlign:"middle"}})})};Yt.defaultProps={className:""};var Kt=function(e){var t=e.className;return Object(Y.jsx)(zt,{className:t,children:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner fa-3x"})})};Kt.defaultProps={className:""};var Qt=function(){return Object(Y.jsx)(zt,{children:Object(Y.jsxs)(Wt,{children:[Object(Y.jsx)("img",{alt:"loading...",src:"./loading-dna.svg",style:{height:"150px"}}),Object(Y.jsx)(zt,{children:"LOADING..."})]})})},Jt=function(){return Object(Y.jsx)(zt,{children:Object(Y.jsx)("img",{alt:"loading...",src:"./loading-dna.svg",style:{height:"50px"}})})},_t=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["",""]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)("div",{className:"col-12",children:Object(Y.jsx)(zt,{children:Object(Y.jsx)(Qt,{})})})})]})},Xt=n(29),Zt=n(18),$t=n.n(Zt),en=function(e){var t=e.course;return Object(Y.jsx)(j.a,{to:"/courses/".concat(t.Id),children:Object(Y.jsx)(Xt.a,{className:"shadow-sm mb-2 single-course",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)("h1",{className:"font-semi-bold mb-3",children:t.Name}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("span",{className:"fas fa-calendar-alt mr-1 mb-2"})," ","Ng\xe0y b\u1eaft \u0111\u1ea7u:"," ",$t()(t.StartDate).format("DD/MM/YYYY")," "]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("span",{className:"fas fa-calendar-alt mr-1 mb-2"})," ","Ng\xe0y k\u1ebft th\xfac:"," ",$t()(t.EndDate).format("DD/MM/YYYY")," "]}),$t()().isAfter($t()(t.EndDate))&&Object(Y.jsx)("p",{className:"font-semi-bold mb-0 light-pink",children:"Kh\xf3a h\u1ecdc \u0111\xe3 k\u1ebft th\xfac"})]})})},t.Id)},tn=n(82),nn=a.a.createContext(),rn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getCourses=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.CourseService.getCourses(t);case 2:return n=e.sent,a=n.courses,s=n.totalCourses,r.setState({courses:a.map((function(e){return new vt(e)})),totalCourses:s}),e.abrupt("return",{courses:a,totalCourses:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getCourse=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.state.course)[t]){e.next=6;break}return e.next=4,mt.getCourse(t);case 4:(a=e.sent)&&r.setState({course:Object(Re.a)(Object(Re.a)({},n),{},Object(tn.a)({},t,new vt(a)))});case 6:return e.abrupt("return",r.state.course[t]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getLecture=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getCourse(t);case 2:return a=e.sent,e.next=5,a.getCourse();case 5:if(s=a.Lectures,!(c=s.find((function(e){return e.Id===parseInt(n,10)})))){e.next=10;break}return e.next=10,c.getLecture();case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.state={course:{},courses:[],totalCourses:0,getCourses:r.getCourses,getCourse:r.getCourse,getLecture:r.getLecture},r.CourseService=mt,r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(nn.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),an=n(236),sn=n.n(an),cn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handlePageClick=function(t){(0,e.props.onPageChange)(t.selected+1)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.numberOfPage,n=e.init;return t>1?Object(Y.jsx)("div",{className:"d-flex justify-content-center",children:Object(Y.jsx)(sn.a,{previousLabel:Object(Y.jsx)("span",{className:"fas fa-chevron-circle-left"}),nextLabel:Object(Y.jsx)("span",{className:"fas fa-chevron-circle-right"}),breakLabel:Object(Y.jsx)("span",{className:"fas fa-ellipsis-h"}),breakClassName:"break-me",pageCount:t,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:this.handlePageClick,containerClassName:"pagination-basic",activeClassName:"page-active-basic",pageClassName:"page-basic",pageLinkClassName:"page-link-basic",forcePage:n?Number(n)-1:0})}):Object(Y.jsx)(Y.Fragment,{})}}]),n}(a.a.Component);cn.defaultProps={init:void 0};var on=cn,un=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(0),c=Object(b.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)({page:1,cat:"",name:""}),l=Object(b.a)(u,2),d=l[0],j=l[1],h=Object(r.useState)(!1),p=Object(b.a)(h,2),m=p[0],f=p[1],x=Object(r.useContext)(nn).getCourses,O=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,x(t);case 3:n=e.sent,r=n.courses,s=n.totalCourses,a(r),o(s),f(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=ze.a.getQueryString("page")||1;O(Object(Re.a)(Object(Re.a)({},d),{},{page:e})),j(Object(Re.a)(Object(Re.a)({},d),{},{page:e}))}),[]);var v=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(Object(Re.a)(Object(Re.a)({},d),{},{name:t.target.value}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(Object(Re.a)(Object(Re.a)({},d),{},{cat:t.target.value}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O(Object(Re.a)(Object(Re.a)({},d),{},{page:1}));case 3:return e.next=5,j(Object(Re.a)(Object(Re.a)({},d),{},{page:1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("select-course-name").value="",document.getElementById("select-course-category").value="",e.next=4,j({name:"",cat:"",page:1});case 4:return e.next=6,O({name:"",cat:"",page:1});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(qt.a,{onSubmit:w,children:Object(Y.jsxs)(qt.a.Row,{children:[Object(Y.jsx)(qt.a.Group,{className:"mb-0",as:Gt.a,md:"7",controlId:"select-course-name",children:Object(Y.jsx)(qt.a.Control,{placeholder:"T\xean kh\xf3a h\u1ecdc",onChange:v,value:d.name,onSubmit:w})}),Object(Y.jsx)(qt.a.Group,{className:"mb-0",as:Gt.a,controlId:"select-course-category",children:Object(Y.jsxs)(qt.a.Control,{as:"select",defaultValue:d.cat,onChange:g,children:[Object(Y.jsx)("option",{value:"",disabled:!0,children:"Lo\u1ea1i kh\xf3a h\u1ecdc"}),Object(Y.jsx)("option",{value:"GREEN",children:"Green"}),Object(Y.jsx)("option",{value:"BLUE",children:"Blue"}),Object(Y.jsx)("option",{value:"ORANGE",children:"Orange"}),Object(Y.jsx)("option",{value:"ONLINE",children:"Online"}),Object(Y.jsx)("option",{value:"CP",children:"CP"})]})}),Object(Y.jsx)(qt.a.Group,{children:Object(Y.jsxs)(qt.a.Group,{className:"mb-0 px-1",children:[Object(Y.jsxs)(Ht.a,{style:{minWidth:"5rem"},onClick:w,children:["L\u1ecdc ",Object(Y.jsx)("i",{className:"fas fa-filter"})]}),Object(Y.jsxs)(Ht.a,{className:"ml-2",variant:"danger",style:{minWidth:"5rem"},onClick:y,children:["\u0110\u1eb7t l\u1ea1i ",Object(Y.jsx)("i",{className:"fas fa-undo"})]})]})})]})}),m?0===n.length?Object(Y.jsx)("div",{children:Object(Y.jsx)("h4",{className:"font-semi-bold mb-4",children:"Kh\xf4ng c\xf3 kh\xf3a h\u1ecdc n\xe0o"})}):Object(Y.jsxs)("div",{children:[n.map((function(e){return Object(Y.jsx)(en,{course:e},e.Id)})),Object(Y.jsx)(on,{numberOfPage:Math.ceil(i/5),page:d.page,init:d.page,onPageChange:function(e){O(Object(Re.a)(Object(Re.a)({},d),{},{page:e})),j(Object(Re.a)(Object(Re.a)({},d),{},{page:e})),ze.a.setQueryString("page",e)}})]}):Object(Y.jsx)(Qt,{})]})},ln=function(){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["home","/"],["courses"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(Et,{children:[Object(Y.jsx)("h1",{className:"font-semi-bold mb-4",children:"C\xe1c kh\xf3a h\u1ecdc c\u1ee7a b\u1ea1n"}),Object(Y.jsx)(un,{})]})})]})},dn=n(138),bn=function(e){var t,n,r=e.lecture;return Object(Y.jsx)(Xt.a,{className:"shadow-sm single-course ".concat(r.Link?"cursor-pointer":""),children:Object(Y.jsxs)(Xt.a.Body,{className:"d-flex",children:[Object(Y.jsxs)("div",{className:"flex-grow-1",children:[Object(Y.jsx)("h2",{className:"font-semi-bold",children:r.Name}),Object(Y.jsx)("p",{children:r.Description}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{children:["S\u1ed1 b\xe0i t\u1eadp:\xa0",r.TotalProblems]}),Object(Y.jsxs)("li",{children:["\u0110\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c:\xa0",r.Solved]})]})]}),Object(Y.jsx)("div",{className:"d-flex flex-column justify-content-center",children:Object(Y.jsx)("div",{style:{height:"80px",width:"80px"},children:Object(Y.jsx)(dn.a,{value:r.Solved/r.TotalProblems,maxValue:1,text:"".concat((t=r.Solved,n=r.TotalProblems,0===n||0===t?0:parseInt(t/n*100,10)),"%"),strokeWidth:2,styles:Object(dn.b)({textSize:"16px",textColor:"#44bd32",pathColor:"#44bd32"})})})})]})})},jn=function(e){var t=e.lectures;return Object(Y.jsx)("div",{children:t.map((function(e){return Object(Y.jsx)("div",{children:e.Link?Object(Y.jsx)(j.a,{to:e.Link,children:Object(Y.jsx)(bn,{lecture:e})}):Object(Y.jsx)(bn,{lecture:e})},e.Id)}))})},hn=function(){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Home Page","/"]]}),Object(Y.jsx)(Ft,{children:"404 error"})]})},pn=n(23),mn=n.n(pn),fn=function(e){var t=e.className,n=e.title,r=e.children;return Object(Y.jsxs)(Xt.a,{className:"panel card shadow-sm ".concat(t),children:[Object(Y.jsx)(Xt.a.Title,{className:"panel-title text-center bg-light-blue",children:Object(Y.jsx)("h4",{children:n})}),Object(Y.jsx)(Xt.a.Body,{className:"p-0",children:r})]})};fn.defaultProps={title:"",className:""};var xn=fn,On=function(e){var t=e.scoreboard;return Object(Y.jsx)(xn,{title:"B\u1ea3ng x\u1ebfp h\u1ea1ng",children:Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{className:"text-center rounded-0",children:"#"}),Object(Y.jsx)("th",{children:"Username"}),Object(Y.jsx)("th",{className:"text-center rounded-0",children:"\u0110i\u1ec3m"})]})}),Object(Y.jsx)("tbody",{children:t.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-center",children:e.Rank}),Object(Y.jsxs)("td",{className:"text-truncate",style:{maxWidth:"8.3rem"},children:[e.Rank<=3&&e.Solved>0&&Object(Y.jsx)("span",{className:"fas fa-award",style:{color:(t=e.Rank,mn()({"#f1c40f":1===t,"#bdc3c7":2===t,"#f0932b":3===t}))}})," ",e.Username]}),Object(Y.jsx)("td",{className:"text-center",children:e.Solved})]},"#".concat(e.Id));var t}))})]})})},vn=function(e){var t=Object(r.useState)([]),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useContext)(nn).getCourse;return Object(r.useEffect)((function(){(function(){var t=Object(M.a)(E.a.mark((function t(){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e.match.params.id);case 2:if(!(n=t.sent)){t.next=6;break}return t.next=6,n.getCourse();case 6:s(n),u(!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),o?a?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["home","/"],["courses","/courses"],[a.Name]]}),Object(Y.jsxs)(Ft,{className:"d-block",children:[Object(Y.jsx)(Xt.a,{className:"w-100 shadow-sm mb-3",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)("h1",{className:"font-semi-bold text-center",children:a.Name}),$t()().isAfter($t()(a.EndDate))&&Object(Y.jsx)("p",{className:"font-semi-bold mb-0 light-pink text-center",children:"Kh\xf3a h\u1ecdc \u0111\xe3 k\u1ebft th\xfac"}),Object(Y.jsx)("p",{className:"mb-0",children:a.Description})]})}),Object(Y.jsx)(Et,{children:Object(Y.jsx)(jn,{lectures:a.Lectures})}),Object(Y.jsx)(Mt,{children:Object(Y.jsx)("div",{className:"mt-2",children:Object(Y.jsx)(On,{scoreboard:a.Scoreboard})})})]})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})},gn=n(173),wn=n(64),yn=function(e){var t=e.children;return Object(Y.jsx)("div",{className:"p-2",style:{minHeight:"300px"},children:t})},kn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onChangeTabMobile=function(e){je.a.replace(e.target.value)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.controlKey,t=ze.a.getQueryString(e),n=this.props.children;Te.a.isArray(this.props.children)||(n=[n]),n=n.filter((function(e){return e}));var r,a=!1,s=Object($e.a)(n);try{for(s.s();!(r=s.n()).done;){if(r.value.props.route===t){a=!0;break}}}catch(c){s.e(c)}finally{s.f()}return void 0===t||!1===a?Object(Y.jsx)(d.Redirect,{to:"".concat(window.location.pathname,"?").concat(e,"=").concat(n[0].props.route)}):Object(Y.jsxs)(Xt.a,{className:"border-0 shadow-sm mb-1",children:[Object(Y.jsx)("div",{className:"nav-tabs d-flex justify-content-around",children:n.map((function(n,r){return n&&Object(Y.jsx)(j.b,{to:"".concat(window.location.pathname,"?").concat(e,"=").concat(n.props.route),className:t===n.props.route?"nav-tab-active":"",children:Object(Y.jsx)("h4",{className:"m-0",children:n.props.title})},r)}))}),Object(Y.jsx)("div",{className:"nav-tabs d-flex justify-content-around nav-tabs-mobile",children:Object(Y.jsx)(gn.a,{className:"problem-filter p-1",children:Object(Y.jsx)(wn.a,{as:"select",onChange:this.onChangeTabMobile,className:"text-capitalize",value:"".concat(window.location.pathname,"?").concat(e,"=").concat(t),children:n.map((function(t,n){return Object(Y.jsx)("option",{className:"text-capitalize",value:"".concat(window.location.pathname,"?").concat(e,"=").concat(t.props.route),children:t.props.title},n)}))})})}),function(){var e=n.find((function(e){return t===e.props.route}));return Object(Y.jsx)("div",{style:{display:"block"},children:Object(Y.jsx)(yn,{children:e})})}()]})}}]),n}(a.a.Component),Cn={vi:{"problem code":"M\xe3 b\xe0i",name:"T\xean b\xe0i",statement:"M\xf4 t\u1ea3 \u0111\u1ec1 b\xe0i","sample testcase explanation":"Gi\u1ea3i th\xedch v\xed d\u1ee5",information:"Th\xf4ng tin \u0111\u1ec1 b\xe0i",save:"L\u01b0u",remove:"X\xf3a","remove statement":"X\xf3a \u0111\u1ec1 b\xe0i","time limit":"Gi\u1edbi h\u1ea1n th\u1eddi gian","memory limit":"Gi\u1edbi h\u1ea1n b\u1ed9 nh\u1edb",type:"Lo\u1ea1i b\xe0i",difficulty:"\u0110\u1ed9 kh\xf3",score:"\u0110i\u1ec3m",resource:"Ngu\u1ed3n b\xe0i",published:"C\xf4ng khai",secret:"B\xed m\u1eadt",easy:"D\u1ec5","very easy":"R\u1ea5t d\u1ec5",medium:"Trung b\xecnh",hard:"Kh\xf3","very hard":"R\u1ea5t kh\xf3",testsubmissions:"B\xe0i n\u1ed9p th\u1eed",submissions:"B\xe0i n\u1ed9p",tutorials:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i"},en:{"problem code":"Problem Code",name:"Problem Name",statement:"Statement","sample testcase explanation":"Sample test's explanation",information:"Information",save:"Save",remove:"Remove","remove statement":"X\xf3a \u0111\u1ec1 b\xe0i","time limit":"Time limit","memory limit":"Memory Limit",type:"Problem Type",difficulty:"Difficulty",score:"Score",resource:"Source",published:"Public",secret:"Secrect",easy:"Easy","very easy":"Very Easy",medium:"Medium",hard:"Hard","very hard":"Very Hard",testsubmissions:"Test Submission",submissions:"Submission",tutorials:"Tutorials"}},Sn=n(125),In=n.n(Sn),Nn=n(193),Pn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).renderResult=function(e,t){var n=e;return n.Score=Math.round(100*n.Score)/100,n.FirstSolved?Object(Y.jsx)("td",{className:"first-solved",title:"First to solve problem",children:n.Score},t):null!=n.SolvedTime?Object(Y.jsx)("td",{className:"solved",title:"Solved problem",children:n.Score},t):n.PendingSubmissions?Object(Y.jsx)("td",{className:"pending",title:"Pending Judgement",children:n.Score},t):n.JudgedSubmissions?Object(Y.jsx)("td",{className:"wrong-answer",title:"Attempted problem",children:n.Score},t):Object(Y.jsx)("td",{title:"no submission",children:"-/-"},t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.detail,n=t.Rank,r=t.Username,a=t.Solved,s=t.Penalty,c=t.Problems,i=t.Official,o=Math.round(100*t.Score)/100;return Object(Y.jsxs)("tr",{style:{fontWeight:Object(B.a)("Username")===r&&"800",opacity:!i&&.3},children:[Object(Y.jsx)("td",{children:n}),Object(Y.jsx)("td",{className:"text-left",children:r}),Object(Y.jsx)("td",{children:o}),Object(Y.jsx)("td",{children:a}),Object(Y.jsx)("td",{children:s}),c.map((function(t,n){return e.renderResult(t,n)}))]})}}]),n}(a.a.Component);Pn.defaultProps={detail:{Official:!1,Penalty:0,Problems:[],Rank:0,Score:0,Solved:0,Username:""}};var Tn=Pn,Ln=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Object(i.a)(this,n),(r=t.call(this,e)).renderPagination=function(e){r.next=e;var t=r.state,n=t.numberOfPage,a=t.page;return Object(Y.jsx)(on,{onPageChange:r.onPageChange,numberOfPage:n,init:a})},r.onPageChange=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(){return{page:t,startIndex:(t-1)*r.itemPerPage,endIndex:(t-1)*r.itemPerPage+r.itemPerPage}}));case 2:if(e.prev=2,!r.next){e.next=6;break}return e.next=6,r.next();case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),r.itemPerPage=a,r.state={startIndex:0,endIndex:r.itemPerPage,page:1},r}return Object(o.a)(n,[{key:"render",value:function(){return Object(Y.jsx)("div",{})}}]),n}(a.a.Component),An=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).refresh=function(){r.setState({fetched:!1}),setInterval((function(){r.setState({fetched:!0})}),1e3)},r.loadScoreboard=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i,o,u,l,d=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]&&d[0],n=r.state.page,!r.props.isAdmin){e.next=8;break}return e.next=5,r.props.service.adminGetScoreboard(r.props.contestId,n,r.source.token);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,r.props.service.getScoreboard(r.props.contestId,n,r.source.token);case 10:e.t0=e.sent;case 11:a=e.t0,s=a.Summary,c=a.ScoreboardDetail,i=a.UserRank,t&&(r.itemPerPage=c.length),s&&(o=s.TotalUser,u=o/r.itemPerPage,l=!0,i?c.forEach((function(e){e.Id===i.Id&&(l=!1)})):l=!1,r.setState({summary:s,scoreboardDetail:c,userRank:l?i:void 0,numberOfPage:u}));case 17:case"end":return e.stop()}}),e)}))),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{fetched:!1,scoreboardDetail:!1,summary:void 0,userRank:void 0,refresh:Object(Nn.b)(Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadScoreboard();case 2:r.refresh();case 3:case"end":return e.stop()}}),e)}))),1e4)}),r.itemPerPage=20,r.source=Sn.CancelToken.source(),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return this.state.fetched?Object(Y.jsxs)("div",{className:"w-100",children:[Object(Y.jsxs)("table",{className:"basic-component-table scoreboard",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"5%"},children:"#"}),Object(Y.jsx)("th",{style:{width:"30%"},children:"T\xean"}),Object(Y.jsx)("th",{style:{width:"10%"},children:"\u0110i\u1ec3m"}),Object(Y.jsx)("th",{style:{width:"10%"},children:"S\u1ed1 b\xe0i"}),Object(Y.jsx)("th",{style:{width:"10%"},children:"Th\u1eddi gian"}),this.state.summary.Problems&&this.state.summary.Problems.map((function(e,t){return Object(Y.jsx)("th",{children:String.fromCharCode(t+65)},e.ProblemCode)}))]})}),Object(Y.jsxs)("tbody",{children:[this.state.userRank&&this.state.scoreboardDetail.length>0&&this.state.userRank.Rank<=this.state.scoreboardDetail[0].Rank&&0===this.state.scoreboardDetail.filter((function(t){return t.username===e.state.userRank.Username})).length&&Object(Y.jsx)(Tn,{detail:this.state.userRank}),this.state.scoreboardDetail.map((function(e){return Object(Y.jsx)(Tn,{detail:e},e.Id)})),this.state.userRank&&this.state.scoreboardDetail.length>0&&this.state.userRank.Rank>=this.state.scoreboardDetail.slice(-1)[0].Rank&&this.state.scoreboardDetail[0].Rank!==this.state.scoreboardDetail.slice(-1)[0].Rank&&Object(Y.jsx)(Tn,{detail:this.state.userRank})]})]}),this.renderPagination(this.loadScoreboard)]}):Object(Y.jsx)(Kt,{})}},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({fetched:!1}),e.next=4,this.loadScoreboard(!0);case 4:this.setState({fetched:!0}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state,r=n.summary,a=n.scoreboardDetail,s=n.userRank,c=t.summary,i=t.scoreboardDetail,o=t.userRank;return r!==c||a!==i||s!==o}},{key:"componentWillUnmount",value:function(){this.source.cancel("Load score board is cancelled"),Object(Nn.a)(this.state.refresh),this.setState({refresh:void 0})}}]),n}(Ln),Rn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).renderResult=function(e,t){return e.FirstSolved?Object(Y.jsxs)("td",{className:"first-solved",title:"First to solve problem",children:[e.JudgedSubmissions,"/",e.Penalty]},t):null!=e.SolvedTime?Object(Y.jsxs)("td",{className:"solved",title:"Solved problem",children:[e.JudgedSubmissions,"/",e.Penalty]},t):e.pendingSubmissions?Object(Y.jsxs)("td",{className:"pending",title:"Pending Judgement",children:[e.JudgedSubmissions," ","+",e.pendingSubmissions]},t):e.JudgedSubmissions?Object(Y.jsx)("td",{className:"wrong-answer",title:"Attempted problem",children:e.JudgedSubmissions},t):Object(Y.jsx)("td",{title:"no submission",children:"-/-"},t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.index,r=t.detail,a=r.Username,s=r.Solved,c=r.Penalty,i=r.Problems;return Object(Y.jsxs)("tr",{style:{fontWeight:Object(B.a)("Username")===a&&"800"},children:[Object(Y.jsx)("td",{children:n+1}),Object(Y.jsx)("td",{className:"text-left",children:Object(Y.jsx)(j.a,{to:"/user/".concat(a),title:"",className:"username",children:a})}),Object(Y.jsx)("td",{children:s}),Object(Y.jsx)("td",{children:c}),i.map((function(t,n){return e.renderResult(t,n)}))]})}}]),n}(a.a.Component);Rn.defaultProps={detail:{Penalty:0,Problems:[],Solved:0,Username:""},index:0};var Dn=Rn,Un=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){try{this.loadScoreboard()}catch(e){}}},{key:"render",value:function(){return this.state.fetched?Object(Y.jsxs)("table",{className:"basic-component-table scoreboard",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"2%"},children:"#"}),Object(Y.jsx)("th",{style:{width:"30%"},children:"T\xean"}),Object(Y.jsx)("th",{style:{width:"7%"},children:"S\u1ed1 b\xe0i"}),Object(Y.jsx)("th",{style:{width:"7%"},children:"Penalty"}),this.props.problems.map((function(e,t){return Object(Y.jsx)("th",{children:Object(Y.jsx)(j.a,{to:e.Link,children:String.fromCharCode(65+t)})},e.ProblemCode)}))]})}),Object(Y.jsx)("tbody",{children:this.state.scoreboardDetail.map((function(e,t){return Object(Y.jsx)(Dn,{detail:e,index:t},e.Id)}))})]}):Object(Y.jsx)("div",{className:"mt-3",children:Object(Y.jsx)(Kt,{})})}}]),n}(An),En=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).loadScoreboard=Object(M.a)(E.a.mark((function t(){var n,r,a,s,c,i,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({fetched:!1}),t.next=3,Ze.getScoreboard(e.props.courseId,e.props.lectureId);case 3:n=t.sent,r=n.Summary,a=n.ScoreboardDetail,s=n.UserRank,c=r.TotalUser,i=c/e.itemPerPage,o=!0,s?a.forEach((function(e){e.Id===s.Id&&(o=!1)})):o=!1,e.setState({summary:r,scoreboardDetail:a,userRank:o?s:void 0,numberOfPage:i,fetched:!0});case 12:case"end":return t.stop()}}),t)}))),e}return n}(Un),Mn=new me;Mn.import(Cn);var Bn=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(void 0),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useContext)(nn).getLecture,d=Object(r.useContext)(Oe).language;return Mn.use(d),Object(r.useEffect)((function(){(function(){var t=Object(M.a)(E.a.mark((function t(){var n,r,a,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params,r=n.courseId,a=n.lectureId,t.next=3,l(r,a);case 3:c=t.sent,u(c),s(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),a?o?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["home","/"],["courses","/courses"],[o.Course.Name,o.Course.Link],[o.Name]]}),Object(Y.jsxs)(Ft,{className:"d-block",children:[Object(Y.jsx)(Xt.a,{className:"w-100 shadow-sm mb-4",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)("h1",{className:"font-semi-bold text-center",children:o.Course.Name}),Object(Y.jsx)("h2",{className:"font-semi-bold text-center",children:o.Name}),Object(Y.jsx)("p",{className:"mb-0",children:o.Description})]})}),Object(Y.jsx)("div",{className:"w-100",children:Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)("div",{title:"B\xe0i t\u1eadp",route:"problems",children:Object(Y.jsxs)(Ft,{backgroundColor:"#fff",children:[Object(Y.jsx)(Et,{children:o.Problems.map((function(e){var t=mn()({"text-warning":"Medium"===e.Difficulty,"text-success":["Easy","Very Easy"].includes(e.Difficulty),"text-danger":"Hard"===e.Difficulty,"light-blue":"Secret"===e.Difficulty});return Object(Y.jsx)(j.a,{to:e.Link,children:Object(Y.jsx)(Xt.a,{className:"border corner shadow-sm user-single-problem mt-0",children:Object(Y.jsxs)(Xt.a.Body,{className:"d-flex",children:[Object(Y.jsxs)("div",{className:"flex-grow-1",children:[Object(Y.jsx)("h2",{className:"font-semi-bold",children:e.Name}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{children:["\u0110\u1ed9 kh\xf3:\xa0",Object(Y.jsx)("span",{className:t,children:Mn.get(e.Difficulty)})]}),Object(Y.jsxs)("li",{children:["S\u1ed1 ng\u01b0\u1eddi gi\u1ea3i:\xa0",e.TotalSolved]})]})]}),Object(Y.jsx)("div",{children:e.IsSolved?Object(Y.jsx)("div",{className:"bg-green text-white px-2 py-1",style:{borderRadius:"10rem"},children:"\u0110\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c"}):Object(Y.jsx)("div",{className:"bg-light-pink text-white px-2 py-1",style:{borderRadius:"10rem"},children:"Ch\u01b0a gi\u1ea3i \u0111\u01b0\u1ee3c"})})]})},e.Id)},e.Id)}))}),Object(Y.jsx)(Mt,{children:Object(Y.jsx)(On,{scoreboard:o.Scoreboard.ScoreboardDetail.map((function(e){return{Id:e.Id,Username:e.Username,Rank:e.Rank,Solved:e.Solved}}))})})]})}),Object(Y.jsxs)("div",{title:"B\u1ea3ng x\u1ebfp h\u1ea1ng",route:"scoreboard",className:"px-2 py-4",children:[Object(Y.jsx)("div",{className:"d-flex justify-content-end",children:Object(Y.jsxs)("div",{className:"border corner p-1 mb-2",children:[Object(Y.jsx)("span",{className:"first-solved corner mr-1",children:"\xa0\xa0\xa0\xa0\xa0"}),"First to solve problem",Object(Y.jsx)("span",{className:"solved corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Solved problem",Object(Y.jsx)("span",{className:"wrong-answer corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Attempted problem",Object(Y.jsx)("span",{className:"pending corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Pending problem"]})}),Object(Y.jsx)("div",{className:"d-flex justify-content-center",children:Object(Y.jsx)(En,{courseId:o.Course.Id,lectureId:o.Id,problems:o.Problems})})]})]})})]})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})},Fn=function(e){var t=e.children;return Object(Y.jsx)("div",{className:"fixed-tab-content",children:t})},qn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onChangeTabMobile=function(e){je.a.replace(e.target.value)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.controlKey,t=ze.a.getQueryString(e),n=this.props.children;Te.a.isArray(this.props.children)||(n=[n]),n=n.filter((function(e){return e}));var r,a=!1,s=Object($e.a)(n);try{for(s.s();!(r=s.n()).done;){if(r.value.props.route===t){a=!0;break}}}catch(i){s.e(i)}finally{s.f()}if(void 0===t)return Object(Y.jsx)(d.Redirect,{to:"".concat(window.location.pathname,"?").concat(e,"=").concat(n[0].props.route)});if(!1===a)return Object(Y.jsx)(d.Redirect,{to:"".concat(window.location.pathname,"?").concat(e,"=").concat(n[0].props.route)});var c=n.find((function(e){return t===e.props.route}));return Object(Y.jsxs)("div",{className:"fixed-tab-control",children:[Object(Y.jsx)("div",{className:"fixed-tab-navs nav-tabs d-flex justify-content-around",children:n.map((function(n,r){return n&&Object(Y.jsx)(j.b,{to:"".concat(window.location.pathname,"?").concat(e,"=").concat(n.props.route),className:t===n.props.route?"nav-tab-active":"",children:Object(Y.jsx)("h4",{className:"m-0 autohide",children:n.props.title})},r)}))}),Object(Y.jsx)("div",{className:"nav-tabs d-flex justify-content-around nav-tabs-mobile",children:Object(Y.jsx)(gn.a,{className:"problem-filter p-1",children:Object(Y.jsx)(wn.a,{as:"select",onChange:this.onChangeTabMobile,className:"text-capitalize",value:"".concat(window.location.pathname,"?").concat(e,"=").concat(t),children:n.map((function(t,n){return Object(Y.jsx)("option",{className:"text-capitalize",value:"".concat(window.location.pathname,"?").concat(e,"=").concat(t.props.route),children:t.props.title},n)}))})})}),Object(Y.jsx)(Fn,{children:c})]})}}]),n}(a.a.Component),Gn=n(89),Hn=n(237);n(336),n(337),n(338),n(339),n(340),n(343),n(344),n(345);var Vn={C:"text/x-csrc","C++":"text/x-c++src",Java:"text/x-java","Node.js 12.19.1":"javascript",Pascal:"pascal","Python 2":"python","Python 3":"python",Ruby:"ruby",markdown:"markdown",text:"text","Pypy 2.7 (7.3.2)":"python","Pypy 3.6 (7.3.2)":"python"},zn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).editorDidMount=function(e){r.editor=e,setTimeout((function(){return e.refresh()}),1)},r.onBeforeChange=function(e,t,n){r.setState({value:n,valueIsChanging:!0})},r.onValueChange=function(e,t,n){var a=r.props,s=a.onChange,c=a.name;try{r.setState({value:n,valueIsChanging:!1}),setTimeout((function(){return e.refresh()}),1),s({target:{name:c,value:n}})}catch(i){}},r.onSelection=function(e,t){var n=r.props.onSelectionChange;try{n(t)}catch(a){}};var a=r.props,s=a.value,c=a.mode,o=a.theme,u=a.tabSize,l=a.lineNumbers,d=a.readOnly,b=a.cursorBlinkRate;return r.state={value:s||"",valueIsChanging:!1,option:{mode:Vn[c],tabSize:u||2,smartIndent:!0,autoCloseBrackets:!0,lineNumbers:!1!==l,lineWrapping:!0,autoRefresh:!0,readOnly:!!d,theme:o||"default",cursorBlinkRate:b||530}},r}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.theme,n=e.mode,r=e.value,a=this.state,s=a.option,c=a.valueIsChanging;this.setState({option:Object(Re.a)(Object(Re.a)({},s),{},{theme:t,mode:Vn[n]})}),!1===c&&this.setState({value:r})}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.option;return Object(Y.jsx)(Hn.Controlled,{className:"h100",value:t,options:n,autoScroll:!0,onBeforeChange:this.onBeforeChange,onChange:this.onValueChange,onSelection:this.onSelection,editorDidMount:this.editorDidMount})}}]),n}(a.a.Component);zn.defaultProps={value:"",onChange:null,name:"",tabSize:null,lineNumbers:null,readOnly:null,cursorBlinkRate:null,onSelectionChange:null};var Wn=zn,Yn=n(27),Kn=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getLanguages",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.vb).request();case 3:return t=e.sent,e.abrupt("return",t.languages);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qn=a.a.createContext(),Jn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchLanguages=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.state.languages.length>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Kn.getLanguages();case 5:t=e.sent,r.setState({languages:t});case 7:case"end":return e.stop()}}),e)}))),r.findLanguageId=function(e){return r.state.languages.find((function(t){return t.Name===e})).Id},r.getLanguageName=function(e){var t=r.state.languages.find((function(t){return t.Id===e}));return t?t.Name:""},r.state={languages:[],fetchLanguages:r.fetchLanguages,findLanguageId:r.findLanguageId,getLanguageName:r.getLanguageName},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Qn.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),_n=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(e){var t=e.target,n=t.name,a=t.value,s=r.props.changeSetting;"theme"===n&&r.setState({theme:a}),s(n,a)};var a=r.props.init;return r.state={fetched:!1,theme:a.theme||"default"},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.languageContext.fetchLanguages();case 2:this.setState({fetched:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.theme,a=this.props,s=a.init,c=a.style,i=a.onFullScreen,o=a.fullScreening,u=mn()({"dark-bar":"material"===r});return Object(Y.jsx)("div",{className:"language-bar ".concat(u),style:c,children:Object(Y.jsxs)(Yn.a,{className:"p-0 d-flex flex-row justify-content-between",children:[Object(Y.jsx)(Gt.a,{className:"mr-auto p-0",children:Object(Y.jsx)(Qn.Consumer,{children:function(t){return e.languageContext=t,n?Object(Y.jsx)(wn.a,{className:"m-1",as:"select",onChange:e.onChange,id:"search-tag",name:"mode",value:s.mode,children:t.languages.map((function(e){return Object(Y.jsx)("option",{value:e.Name,children:e.Name},e.Id)}))}):Object(Y.jsx)(Yt,{})}})}),Object(Y.jsx)(Gt.a,{className:"p-0",children:Object(Y.jsxs)(wn.a,{className:"m-1 ml-auto",as:"select",onChange:this.onChange,id:"search-tag",name:"theme",value:s.theme,children:[Object(Y.jsx)("option",{value:"default",children:"Light"}),Object(Y.jsx)("option",{value:"material",children:"Dark"})]})}),i&&Object(Y.jsx)("div",{className:"m-1 p-1",role:"button",tabIndex:0,onClick:function(){return i()},style:{height:"25px"},children:o?Object(Y.jsx)("i",{className:"fas fa-lg fa-compress",style:{fontSize:"25px",color:"#606060"}}):Object(Y.jsx)("i",{className:"fas fa-lg fa-expand",style:{fontSize:"25px",color:"#606060"}})})]})})}}]),n}(a.a.Component);_n.defaultProps={style:{},fullScreening:!1,onFullScreen:void 0};var Xn=_n,Zn=n(20),$n=(Object(Zn.a)((function(){return{root:{textTransform:"unset",fontWeight:"normal"}}}))(_.a),function(e){var t=e.className,n=e.title,r=e.onClick,a=e.type,s=e.style,c=e.hidden,i=e.disabled,o=e.children;return Object(Y.jsx)("button",{className:"basic-component-button ".concat(t),title:n,onClick:r,type:a,style:s,hidden:!!c,disabled:!!i,children:o})});$n.defaultProps={className:"",title:"",onClick:null,type:"button",hidden:null,disabled:!1,style:void 0};var er=$n,tr=n(141),nr=function(e){var t=e.title,n=e.closebutton,r=e.error,a=e.footer,s=e.onHide,c=e.children;return Object(Y.jsxs)(tr.a,Object(Re.a)(Object(Re.a)({dialogClassName:"shadow-lg"},e),{},{size:"lg",children:[Object(Y.jsxs)(tr.a.Header,{className:"py-2 px-3 d-flex align-items-center",children:[Object(Y.jsx)(tr.a.Title,{className:"flex-grow-1",children:Object(Y.jsx)("h4",{className:"m-0 font-semi-bold",style:{lineHeight:"inherit"},children:t})}),1===n&&Object(Y.jsx)(er,{onClick:function(){return s()},className:"rounded-circle ".concat(r?"bg-danger":"bg-light-blue"),children:Object(Y.jsx)("span",{className:"fas fa-times"})})]}),Object(Y.jsx)(tr.a.Body,{className:"p-0",children:c}),a&&Object(Y.jsx)(tr.a.Footer,{className:"p-0",children:a})]}))};nr.defaultProps={footer:void 0,error:0,closebutton:0};var rr=nr,ar=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.disabled){e.next=3;break}return e.abrupt("return");case 3:return r.setState({toggling:!0}),t=r.props,n=t.onChange,a=t.checked,s=t.name,c=t.id,e.prev=5,e.next=8,n({target:{value:!a,checked:!a,name:s,id:c}});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:r.mounted&&r.setState({toggling:!1});case 13:case"end":return e.stop()}}),e,null,[[5,10]])}))),r.state={toggling:!1},r.mounted=!1,r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.toggling,t=this.props,n=t.className,r=t.checked,a=t.label,s=t.labelClassName;return e?Object(Y.jsx)(Yt,{className:n}):Object(Y.jsxs)("span",{role:"checkbox",tabIndex:0,"aria-checked":!1,onClick:this.onChange,style:{cursor:"pointer"},children:[r?Object(Y.jsx)("span",{className:"fas fa-check-square ".concat(n),style:{fontSize:"18px"}}):Object(Y.jsx)("span",{className:"fas fa-square ".concat(n),style:{fontSize:"18px"}}),a&&Object(Y.jsx)("span",{className:s,children:a})]})}}]),n}(a.a.Component);ar.defaultProps={className:"",checked:!1,label:null,labelClassName:"",onChange:null,id:null,name:null,disabled:!1};var sr=ar,cr=function(e){var t=e.submission,n=e.closeSubmit;return t?Object(Y.jsxs)("div",{className:"test-code-result",style:{height:"100%"},children:[Object(Y.jsxs)("div",{className:"p-1 pl-2 font-weight-bold w100 d-flex",style:{height:"2rem"},children:["Success"===t.Verdict?Object(Y.jsx)("p",{className:"green",children:Object(Y.jsx)("strong",{children:t.Verdict})}):Object(Y.jsx)("p",{className:"text-danger",children:Object(Y.jsx)("strong",{children:t.Verdict})}),Object(Y.jsxs)("p",{className:"font-weight-light ml-auto mr-2",children:["Time: ",t.Time,"(ms)"," / Memory: ",parseInt(t.Memory/1024,10),"(KB)"]}),Object(Y.jsx)("button",{className:"basic-component-button bg-light-pink text-white",type:"button",onClick:n,children:Object(Y.jsx)("span",{className:"fas fa-trash"})})]}),Object(Y.jsx)("hr",{className:"m-0"}),t.CheckerLog&&Object(Y.jsx)("div",{style:{height:"calc(100% - 2rem)"},children:Object(Y.jsx)(Wn,{value:t.CheckerLog,readOnly:!0,lineNumbers:!1,mode:"text",theme:"default",cursorBlinkRate:-1})}),t.OutputRun&&Object(Y.jsx)("div",{style:{height:"calc(100% - 2rem)"},children:Object(Y.jsx)(Wn,{value:We.Base64.decode(t.OutputRun),readOnly:!0,lineNumbers:!1,mode:"text",theme:"default",cursorBlinkRate:-1})})]}):null};cr.defaultProps={closeSubmit:function(){}};var ir=cr,or=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"submitCode",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.kb,{},{LanguageId:t,Content:n,Input:r},!0).request();case 3:return a=e.sent,e.abrupt("return",a.id);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getSubmit",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.lb,{id:t},{},!0).request();case 3:return n=e.sent,e.abrupt("return",n.LiveRun);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ur=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).changeSetting=function(e,t){var n=r.state.setting;n[e]=t,xe.write("submitcodesetting",n),r.setState({setting:n})},r.onChange=function(e){var t=e.target.value,n=r.props.problem;r.setState({value:t}),xe.write("temp-code:".concat(n.Id),t)},r.onChangeCustomInput=function(e){r.setState({customInput:e.target.value})},r.submit=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,n=t.value,a=t.setting,s=r.props.problem,Object(B.b)()||(alert("You need to login first!"),je.a.push("/login")),""!==n.trim()){e.next=5;break}return e.abrupt("return");case 5:return r.setState({submitting:!0}),e.next=8,s.submit({Content:n,LanguageId:r.findLanguageId(a.mode)});case 8:(c=e.sent)?r.setState({error:c,submitting:!1}):r.addNotification("Big-O Coding","Submitted"),r.setState({submitting:!1});case 11:case"end":return e.stop()}}),e)}))),r.closeError=function(){r.setState({error:""})},r.testCode=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i,o,u,l,d;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,n=t.value,a=t.customInput,s=t.setting,c=r.props.problem,""!==n.trim()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,r.setState({testing:!0,submission:void 0}),i="",a?i=a:c.SampleTests.length>0&&(i=We.Base64.decode(c.SampleTests[0].InputContent)),o=r.findLanguageId(s.mode),e.next=11,or.submitCode(o,We.Base64.encode(n),We.Base64.encode(i));case 11:return u=e.sent,e.next=14,or.getSubmit(u);case 14:"Pending"!==(l=e.sent).Verdict?(r.setState({submission:l,testing:!1}),Object(Gn.a)(Object(pt.a)(r))):d=Object(Gn.b)(Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or.getSubmit(u);case 2:"Pending"!==(l=e.sent).Verdict&&(r.setState({submission:l,testing:!1}),Object(Gn.a)(d));case 4:case"end":return e.stop()}}),e)}))),2e3),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),r.setState({error:"C\xf3 nhi\u1ec1u b\xe0i \u0111ang \u0111\u01b0\u1ee3c ch\u1ea5m th\u1eed! H\xe3y th\u1eed l\u1ea1i sau.",testing:!1});case 21:case"end":return e.stop()}}),e,null,[[4,18]])}))),r.closeSubmission=function(){r.setState({submission:void 0})};var a=xe.read("submitcodesetting");return r.state={value:xe.read("temp-code:".concat(e.problem.Id))||"",error:"",submitting:!1,customInput:"",withInput:!1,testing:!1,submission:void 0},r.state.setting=a?{mode:a.mode||"C",theme:a.theme||"default"}:{mode:"C",theme:"default"},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.setting,r=t.value,a=t.withInput,s=t.submitting,c=t.customInput,i=t.testing,o=t.submission,u=t.error,l=this.props,d=l.fullScreening,b=l.onFullScreen;return Object(Y.jsxs)("div",{id:"submit-code",children:[Object(Y.jsxs)(Bt,{viewName:"ide",minRight:300,minLeft:300,children:[Object(Y.jsxs)("div",{style:{height:"100%"},children:[Object(Y.jsxs)("div",{className:"editor border",children:[Object(Y.jsx)(Qn.Consumer,{children:function(t){var n=t.findLanguageId;return e.findLanguageId=n,Object(Y.jsx)(Y.Fragment,{})}}),Object(Y.jsx)(At.Consumer,{children:function(t){var n=t.addNotification;return e.addNotification=n,Object(Y.jsx)(Y.Fragment,{})}}),Object(Y.jsx)(Xn,{style:{height:"35px"},changeSetting:this.changeSetting,init:n,onFullScreen:b,fullScreening:d}),Object(Y.jsx)("hr",{className:"m-0"}),Object(Y.jsx)("div",{style:{height:"calc(100% - 36px)"},children:Object(Y.jsx)(Wn,{value:r,onChange:this.onChange,mode:n.mode,theme:n.theme})})]}),Object(Y.jsxs)("div",{className:"submit-bar",children:[Object(Y.jsx)(Gt.a,{className:"p-0 d-flex flex-column justify-content-center",children:Object(Y.jsx)(sr,{label:" Ch\u1ea1y th\u1eed v\u1edbi input t\xf9y ch\u1ec9nh",className:"green",labelClassName:"font-weight-bold",checked:a,onChange:function(){!0===a&&e.setState({customInput:""}),e.setState({withInput:!a})}})}),Object(Y.jsxs)("div",{className:"ml-auto",children:[Object(Y.jsx)(er,{className:"h-100 mr-2 green border-green corner bg-white",disabled:i,onClick:this.testCode,children:i&&Object(Y.jsx)("span",{className:"fas fa-spinner fa-spin"})||Object(Y.jsxs)("div",{children:["Ch\u1ea1y th\u1eed"," ",Object(Y.jsx)("span",{className:"fas fa-cogs"})]})}),Object(Y.jsx)(er,{className:"h-100 bg-green border-0 text-white corner",onClick:this.submit,disabled:s,children:s&&Object(Y.jsx)("span",{className:"fas fa-spinner fa-spin"})||Object(Y.jsxs)("div",{children:["N\u1ed9p b\xe0i"," ",Object(Y.jsx)("span",{className:"fas fa-paper-plane"})]})})]})]})]}),(a||o)&&Object(Y.jsxs)("div",{style:{height:"100%",overflow:"scroll"},children:[a&&Object(Y.jsxs)("div",{style:{maxHeight:"49%",overflow:"scroll"},children:[Object(Y.jsx)("div",{className:"p-1 pl-2 font-weight-bold w100",style:{height:"2rem"},children:"Input"}),Object(Y.jsx)("hr",{className:"m-0"}),Object(Y.jsx)("div",{style:{height:"calc(49% - 2rem)"},children:Object(Y.jsx)(Wn,{value:c,onChange:this.onChangeCustomInput,mode:"text",theme:n.theme,lineNumbers:!1})})]}),Object(Y.jsx)("hr",{className:"m-0"}),o&&Object(Y.jsx)("div",{style:{maxHeight:"50%",overflow:"scroll"},children:Object(Y.jsx)(ir,{submission:o,closeSubmit:this.closeSubmission})})]})]}),Object(Y.jsx)(rr,{title:"L\u1ed7i",error:1,show:""!==u,onHide:this.closeError,closebutton:1,children:Object(Y.jsx)("div",{className:"p-3",children:u})})]})}}]),n}(a.a.Component);ur.defaultProps={fullScreening:!1,onFullScreen:void 0};var lr=ur,dr=n(238),br=n.n(dr),jr=n(239),hr=n.n(jr),pr=n(194),mr=n.n(pr),fr=(n(414),n(415),n(416),n(417),n(418),n(419),new br.a({html:!0,linkify:!0,highlight:function(e,t){var n,r="";["cpp","c"].includes(t)&&(r="clike");try{n=mr.a.highlight(e,mr.a.languages[r])}catch(a){n=fr.utils.escapeHtml(e)}return'<pre class="language-'.concat(r,'"><code class="language-').concat(r,'">').concat(n,"</code></pre>")}}));fr.use(hr.a,{throwOnError:!1,errorColor:" #cc0000"});var xr=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),r=n.length;r--;)n[r].parentNode.removeChild(n[r]);return t.innerHTML},Or=function(e){var t=e.value;return Object(Y.jsx)("div",{className:"m-0 p-0 text-justify",dangerouslySetInnerHTML:{__html:xr(fr.render(t||""))}})};Or.defaultProps={value:""};var vr=Or,gr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).setLanguage=function(e){r.setState({language:e})},r.state={language:0},r}return n}(a.a.Component),wr=function(e){var t=e.languages,n=e.activeLanguage,r=e.setLanguage,a=e.add,s=e.addLanguage;return Object(Y.jsxs)("span",{className:"language-content-bar",children:[t.map((function(e,t){return Object(Y.jsx)("button",{type:"button",className:n===t?"active":"",onClick:function(n){return r(n,t,e.Id)},children:me.getLanguageName(e.Id)},e.Id)})),"\xa0",a&&Object(Y.jsx)("button",{type:"button",onClick:function(){s()},children:Object(Y.jsx)("span",{className:"fas fa-plus"})})]})};wr.defaultProps={add:void 0,addLanguage:void 0};var yr=wr,kr={vi:{Difficulty:"\u0110\u1ed9 kh\xf3",Secret:"B\xed m\u1eadt",SolvedPersons:"S\u1ed1 ng\u01b0\u1eddi gi\u1ea3i","Very hard":"R\u1ea5t kh\xf3",Hard:"Kh\xf3",Medium:"Trung b\xecnh",Easy:"D\u1ec5","Very easy":"R\u1ea5t d\u1ec5",Solved:"\u0110\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c",Unsolved:"Ch\u01b0a gi\u1ea3i \u0111\u01b0\u1ee3c"},en:{Difficulty:"Difficulty",Secret:"Secret",SolvedPersons:"Solved Persons","Very hard":"Vary Hard",Hard:"Hard",Medium:"Medium",Easy:"Easy","Very easy":"Very Easy",Solved:"Solved",Unsolved:"Unsolved"}},Cr={vi:Object(Re.a)(Object(Re.a)({},kr.vi),{},{statement:"\u0111\u1ec1 b\xe0i",tutorial:"h\u01b0\u1edbng d\u1eabn gi\u1ea3i",information:"th\xf4ng tin","time limit":"Gi\u1edbi h\u1ea1n th\u1eddi gian","memory limit":"Gi\u1edbi h\u1ea1n b\u1ed9 nh\u1edb",difficulty:"\u0110\u1ed9 kh\xf3",resource:"Ngu\u1ed3n b\xe0i",dataset:"B\u1ed9 test","sample testcases explanation":"Gi\u1ea3i th\xedch v\xed d\u1ee5","my submission":"b\xe0i n\u1ed9p c\u1ee7a t\xf4i",discussion:"th\u1ea3o lu\u1eadn",submit:"N\u1ed9p b\xe0i","sample testcases":"V\xed d\u1ee5","input format":"D\u1eef li\u1ec7u nh\u1eadp","output format":"D\u1eef li\u1ec7u xu\u1ea5t",testsubmissions:"B\xe0i n\u1ed9p th\u1eed",submissions:"B\xe0i n\u1ed9p",tutorials:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",discussions:"Th\u1ea3o lu\u1eadn"}),en:Object(Re.a)(Object(Re.a)({},kr.en),{},{statement:"Statement",tutorial:"Tutorial",information:"Information","time limit":"Time Limit","memory limit":"Memory Limit",difficulty:"Difficulty",resource:"Source",dataset:"Testcase","sample testcases explanation":"Explanation for sample test","my submission":"My submission",discussion:"Discussion",submit:"Submit","sample testcases":"Sample test","input format":"Input Format","output format":"Output Format",testsubmissions:"Test Submission",submissions:"Submission",tutorials:"Tutorials",discussions:"Discussions"})},Sr=n(240),Ir=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onClick=function(){var t=e.props.contentId,n=document.getElementById(t),r=document.createRange();r.selectNodeContents(n);var a=window.getSelection();a.removeAllRanges(),a.addRange(r),document.execCommand("copy"),a.removeAllRanges(),e.ToastContext.addNotification("Big-O Coder","Copied")},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(At.Consumer,{children:function(t){return e.ToastContext=t,Object(Y.jsx)("button",{type:"button",className:"bg-white border float-right corner",style:{fontSize:"11px"},onClick:e.onClick,children:"copy"})}})}}]),n}(a.a.Component),Nr=function(e){var t=e.testcase,n=e.index,r=t.InputContent,a=t.OutputContent;return Object(Y.jsx)(Sr.a,{striped:!0,bordered:!0,className:"sample-testcase",children:Object(Y.jsxs)("tbody",{children:[Object(Y.jsx)("tr",{children:Object(Y.jsxs)("td",{className:"border-0 text-center p-1",children:[Object(Y.jsx)("strong",{children:"input"}),Object(Y.jsx)(Ir,{contentId:"sample-input-".concat(n)})]})}),Object(Y.jsx)("tr",{children:Object(Y.jsx)("td",{className:"text-formatted p-1 font-mono",id:"sample-input-".concat(n),children:We.Base64.decode(r)})}),Object(Y.jsx)("tr",{children:Object(Y.jsxs)("td",{className:"border-0 text-center p-1",children:[Object(Y.jsx)("strong",{children:"output"}),Object(Y.jsx)(Ir,{contentId:"sample-output-".concat(n)})]})}),Object(Y.jsx)("tr",{children:Object(Y.jsx)("td",{className:"text-formatted p-1 font-mono",id:"sample-output-".concat(n),children:We.Base64.decode(a)})})]})})},Pr=new me;Pr.import(Cr);var Tr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state=Object(Re.a)({},r.state),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.problem,n=this.state.language;return Object(Y.jsx)(Oe.Consumer,{children:function(r){e.languageContext=r;var a=t.Statements[n];Pr.use(t.Statements[n].Language.ISOCode.toLowerCase());var s=mn()({"text-warning":"Medium"===t.Difficulty,"text-success":["Easy","Very Easy","Very easy"].includes(t.Difficulty),"text-danger":"Hard"===t.Difficulty,"light-blue":"Secret"===t.Difficulty});return Object(Y.jsxs)("div",{style:{marginTop:"-0.5rem"},children:[Object(Y.jsx)(yr,{languages:t.Statements.map((function(e){return e.Language})),activeLanguage:n,setLanguage:function(){var t=Object(M.a)(E.a.mark((function t(n,r){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.setLanguage(r);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}),Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Pr.get("Difficulty"),":\xa0"]}),Object(Y.jsx)("span",{className:s,children:Pr.get(t.Difficulty)})]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Pr.get("resource"),":\xa0"]}),t.Resource]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Pr.get("time limit"),":\xa0"]}),t.TimeLimit,"ms"]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Pr.get("memory limit"),":\xa0"]}),t.MemoryLimit,"MB"]}),Object(Y.jsx)(zt,{children:Object(Y.jsx)("h2",{style:{marginTop:"8px"},children:Object(Y.jsx)("strong",{children:t.Name})})}),t.Statements.length>0&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(vr,{value:a.Statement}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Pr.get("Input format")})}),Object(Y.jsx)(vr,{value:a.InputDescription}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Pr.get("Output format")})}),Object(Y.jsx)(vr,{value:a.OutputDescription}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Pr.get("Sample testcases")})}),t.SampleTests.map((function(e,t){return Object(Y.jsx)(Nr,{testcase:e,index:t},e.Id)})),a.Explanation&&Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Pr.get("sample testcases explanation")})}),Object(Y.jsx)(vr,{value:a.Explanation})]})]})}})}}]),n}(gr),Lr=n(112),Ar=n(241),Rr={vi:{"Upload image":"T\u1ea3i \u1ea3nh l\xean",Ok:"Ok",Cancel:"H\u1ee7y","Picture size must be less than 5MB":"K\xedch th\u01b0\u1edbc h\xecnh ph\u1ea3i nh\u1ecf h\u01a1n 5MB"}},Dr=new me;Dr.import(Rr);var Ur=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(e){var t=r.state.files;r.setState({files:[].concat(Object(tt.a)(t),Object(tt.a)(e.target.files))})},r.onUpload=Object(M.a)(E.a.mark((function e(){var t,n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.files,n=r.props,a=n.onHide,s=n.uploadImage,e.next=4,r.setState({uploading:!0});case 4:return e.next=6,s(t);case 6:return e.next=8,r.setState({uploading:!1,files:[]});case 8:a();case 9:case"end":return e.stop()}}),e)}))),r.toggleFileUpload=function(){document.getElementById("image-uploader").click()},r.onRemove=function(e){var t=r.state.files;t.splice(e,1),r.setState({files:t})},r.state={files:[],uploading:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onHide,r=t.multiple,a=t.show,s=this.state,c=s.uploading,i=s.files;return Object(Y.jsx)(Oe.Consumer,{children:function(t){var s=t.language;return Dr.use(s),Object(Y.jsx)(rr,{onHide:n,show:a,title:Dr.get("Upload image"),closebutton:1,footer:Object(Y.jsxs)("div",{className:"py-2 px-3 w-100 d-flex justify-content-between align-items-center",children:[Object(Y.jsxs)(Ar.a,{variant:"warning",className:"m-0 p-2 mr-auto",children:[Object(Y.jsx)("span",{className:"fas fa-exclamation-circle"}),"\xa0",Dr.get("Picture size must be less than 5MB")]}),c?Object(Y.jsx)(Yt,{}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(er,{onClick:e.onUpload,className:"bg-light-blue mr-2 p-2",children:Dr.get("Ok")}),Object(Y.jsx)(er,{onClick:n,className:"bg-light-blue p-2",children:Dr.get("Cancel")})]})]}),children:Object(Y.jsxs)("div",{className:"p-3",children:[i.map((function(t,n){var r=URL.createObjectURL(t);return Object(Y.jsxs)("div",{className:"review-img",children:[Object(Y.jsx)(Lr.a,{src:r,rounded:!0},n),Object(Y.jsx)("button",{type:"button",title:Dr.get("remove"),onClick:function(){return e.onRemove(n)},children:Object(Y.jsx)("span",{className:"fas fa-times"})})]},n)})),Object(Y.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},id:"image-uploader",multiple:!!r,onChange:e.onChange}),(r||!r&&0===i.length)&&Object(Y.jsx)("button",{type:"button",className:"upload-image-btn",onClick:e.toggleFileUpload,children:Object(Y.jsx)("span",{className:"fas fa-plus"})})]})})}})}}]),n}(a.a.Component);Ur.defaultProps={multiple:!1};var Er=Ur,Mr=n(242),Br=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"uploadImage",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.size/1024/1024>5&&Object(Mr.reject)("Your image size must be less than 5MB"),"https://api.imgur.com/3/image","3d9e320ed3356af",(n=new FormData).append("image",t),e.next=8,In()({method:"post",url:"https://api.imgur.com/3/image",headers:{Authorization:"Client-ID ".concat("3d9e320ed3356af")},data:n});case 8:return r=e.sent,e.abrupt("return",r.data.data.link);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0.message;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).toggleImageUploader=function(){var e=r.state.toggleImageUploader;r.setState({toggleImageUploader:!e})},r.onUploadImage=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],a=Object($e.a)(t);try{for(a.s();!(s=a.n()).done;){c=s.value;try{n.push(Br.uploadImage(c))}catch(u){}}}catch(l){a.e(l)}finally{a.f()}return i=null,e.prev=5,e.next=8,Promise.all(n);case 8:i=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:o=r.props.insert,i.forEach((function(e){o("",'\n\n<figure>\n  <img\n    src="'.concat(e,'"\n    style="min-width: 40%; max-width: 95%; display: block; margin-left: auto; margin-right: auto; border-radius: 5px"\n  />\n  \x3c!-- Insert the caption of picture here --\x3e\n  <figcaption style="text-align: center"><em></em></figcaption>\n</figure>'))})),e.next=19;break;case 17:e.prev=17,e.t1=e.catch(0);case 19:case"end":return e.stop()}}),e,null,[[0,17],[5,11]])})));return function(t){return e.apply(this,arguments)}}(),r.state={toggleImageUploader:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.showPreview,n=e.insert,r=e.disabled,a=this.state.toggleImageUploader;return Object(Y.jsxs)("div",{className:"toolbar m-1",children:[Object(Y.jsxs)("button",{type:"button",onClick:function(){return t()},children:[Object(Y.jsx)("span",{className:"far fa-eye"})," ","Preview"]}),Object(Y.jsx)("button",{type:"button",disabled:r,"aria-label":"italic",onClick:function(){return n("*","*")},children:Object(Y.jsx)("span",{className:"fas fa-italic"})}),Object(Y.jsx)("button",{type:"button",disabled:r,"aria-label":"bold",onClick:function(){return n("**","**")},children:Object(Y.jsx)("span",{className:"fas fa-bold"})}),Object(Y.jsx)("button",{type:"button",disabled:r,"aria-label":"unoder list",onClick:function(){return n("\n- ")},children:Object(Y.jsx)("span",{className:"fas fa-list-ul"})}),Object(Y.jsx)("button",{type:"button",disabled:r,"aria-label":"order list",onClick:function(){return n("\n1. ")},children:Object(Y.jsx)("span",{className:"fas fa-list-ol"})}),Object(Y.jsx)("button",{type:"button",disabled:r,"aria-label":"quote",onClick:function(){return n("\n> ")},children:Object(Y.jsx)("span",{className:"fas fa-quote-right"})}),Object(Y.jsx)("button",{type:"button",disabled:r,"aria-label":"link",onClick:function(){return n("[Description](link)")},children:Object(Y.jsx)("span",{className:"fas fa-link"})}),Object(Y.jsx)("button",{type:"button",disabled:r,"aria-label":"image",onClick:this.toggleImageUploader,children:Object(Y.jsx)("span",{className:"fas fa-image"})}),Object(Y.jsx)(Er,{show:a,onHide:this.toggleImageUploader,multiple:!0,uploadImage:this.onUploadImage})]})}}]),n}(a.a.Component);Fr.defaultProps={disabled:!1};var qr=Fr,Gr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).inserts=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1&&void 0!==i[1]?i[1]:"",a=r.EditorRef.current.editor,s=a.getSelections(),c=0;c<s.length;c+=1)s[c]="".concat(t).concat(s[c]).concat(n);a.replaceSelections(s);case 6:case"end":return e.stop()}}),e)}))),r.togglePreview=function(){var e=r.state.showPreview;r.setState({showPreview:!e})};var s=r.props.showToolbar;return r.state={showPreview:!1,showToolbar:void 0===s||s},r.EditorRef=a.a.createRef(),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.showToolbar,n=e.showPreview,r=this.props,a=r.mode,s=r.theme,c=r.value,i=r.name,o=r.onChange,u=r.readOnly,l=r.lineNumbers;return Object(Y.jsxs)("div",{className:"editor border",children:[t&&Object(Y.jsx)(qr,{insert:this.inserts,showPreview:this.togglePreview,disabled:u}),Object(Y.jsx)("hr",{className:"m-0"}),Object(Y.jsx)(Wn,{readOnly:u,mode:a,theme:s,value:c,name:i,lineNumbers:l,ref:this.EditorRef,onSelectionChange:this.onSelectionChange,onChange:o}),Object(Y.jsx)(rr,{show:n,title:"Preview",onHide:this.togglePreview,closebutton:1,children:Object(Y.jsx)("div",{className:"p-3",children:Object(Y.jsx)(vr,{value:c})})})]})}}]),n}(a.a.Component);Gr.defaultProps={name:"",theme:"default",value:"",showToolbar:void 0,onChange:void 0,readOnly:!1,lineNumbers:!0};var Hr=Gr,Vr=function(e){var t=Object(r.useState)(void 0),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=function(){var t=Object(M.a)(E.a.mark((function t(){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.admin?new De.a("get",e.linkToDetail,null,null):new V.a("get",e.linkToDetail,null,null,!0),t.next=4,n.request().then((function(e){if(!e.success)return null;var t=e.submission;return t&&t.Tests&&(t.Tests=t.Tests.map((function(e){var t=e;return["Input","Output","Answer"].forEach((function(e){t[e]=We.Base64.decode(t[e]),t[e].length>256&&(t[e]="".concat(t[e].substring(0,256),"..."))})),t}))),t}));case 4:r=t.sent,s(r),u(!0),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){l()}),[]);var d=function(e){var t=e.toLowerCase();return"accepted"===t?{fontWeight:"600",color:"#2ecc71"}:t.includes("wrong")||t.includes("error")?{fontWeight:"600",color:"red"}:t.includes("output")?{fontWeight:"600",color:"#34495e"}:t.includes("limit")?{fontWeight:"600",color:"orange"}:null};return Object(Y.jsxs)(tr.a,{show:!0,dialogClassName:"modal-90w",onHide:e.onHide,children:[Object(Y.jsx)(tr.a.Header,{closeButton:!0,children:Object(Y.jsx)(tr.a.Title,{children:"B\xe0i n\u1ed9p"})}),Object(Y.jsxs)(tr.a.Body,{children:[!o&&Object(Y.jsx)(Qt,{}),o&&Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("table",{className:"basic-component-table bg-white",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{textAlign:"center"},children:"#"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Th\u1eddi gian n\u1ed9p"}),Object(Y.jsx)("th",{children:"Ng\u01b0\u1eddi n\u1ed9p"}),Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Lo\u1ea1i b\xe0i"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Ng\xf4n ng\u1eef"}),Object(Y.jsx)("th",{children:"K\u1ebft qu\u1ea3"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"\u0110i\u1ec3m"}),Object(Y.jsx)("th",{style:{textAlign:"right"},children:"Th\u1eddi gian"}),Object(Y.jsx)("th",{style:{textAlign:"right"},children:"B\u1ed9 nh\u1edb"})]})}),Object(Y.jsx)("tbody",{children:Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{style:{textAlign:"center"},children:a.Id}),Object(Y.jsxs)("td",{style:{textAlign:"center"},children:[$t()(a.SubmitTime).format("DD/MM/YYYY"),Object(Y.jsx)("br",{}),$t()(a.SubmitTime).format("HH:mm")]}),Object(Y.jsx)("td",{children:Object(Y.jsx)("strong",{children:a.User})}),Object(Y.jsx)("td",{children:a.ProblemName}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:a.ProblemTypeName}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:a.Language}),Object(Y.jsx)("td",{style:d(a.Verdict),children:a.Verdict}),Object(Y.jsx)("td",{style:Object(Re.a)(Object(Re.a)({},d(a.Verdict)),{},{textAlign:"center"}),children:Math.round(100*a.Score)/100}),Object(Y.jsx)("td",{style:{textAlign:"right"},children:null!==a.Time&&"".concat(Math.round(parseFloat(a.Time))," ms")}),Object(Y.jsx)("td",{style:{textAlign:"right"},children:null!==a.Memory&&"".concat(Math.round(parseFloat(a.Memory)/1024)," KB")})]})})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)(Hr,{value:We.Base64.decode(a.Content),readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:a.Language}),Object(Y.jsx)("br",{}),a.CompileMessage&&Object(Y.jsxs)("div",{style:{padding:"10px",background:"white"},children:[Object(Y.jsx)("h3",{style:{fontWeight:"600"},children:"Compile message"}),a.CompileMessage.split("\n").map((function(e,t){return Object(Y.jsx)("p",{style:{margin:"0",fontWeight:"600"},children:e},t)}))]}),a.Tests&&a.Tests.map((function(e,t){return Object(Y.jsxs)("div",{className:"bg-white",style:{padding:"10px"},children:[Object(Y.jsxs)("p",{style:{fontWeight:"600"},children:["Test #",t+1,", Time:",Math.round(parseFloat(e.Time))," ","ms, Memory:",Math.round(parseFloat(e.Memory)/1024)," ","KB, Exit code:",e.ExitCode,", Verdict:",e.Verdict]}),Object(Y.jsx)("p",{children:Object(Y.jsx)("strong",{children:"Checker log: "})}),Object(Y.jsx)("p",{children:Object(Y.jsx)("strong",{children:e.CheckerLog})}),Object(Y.jsx)("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"},className:"border",children:"Input"}),Object(Y.jsx)("p",{style:{whiteSpace:"pre-wrap",overflow:"auto"},className:"border p-2 font-mono",children:e.Input}),Object(Y.jsx)("br",{}),Object(Y.jsx)("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"},children:"Output"}),Object(Y.jsx)("p",{style:{whiteSpace:"pre-wrap",overflow:"auto"},className:"border p-2 font-mono",children:e.Output}),Object(Y.jsx)("br",{}),Object(Y.jsx)("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"},children:"Answer"}),Object(Y.jsx)("p",{style:{whiteSpace:"pre-wrap",overflow:"auto"},className:"border p-2 font-mono",children:e.Answer}),Object(Y.jsx)("br",{}),t<a.Tests.length-1&&Object(Y.jsx)("br",{}),t<a.Tests.length-1&&Object(Y.jsx)("br",{})]},e.TestcaseId)}))]})]})]})};Vr.defaultProps={admin:!1,onHide:null};var zr=Vr,Wr=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"fetchSubmissionListAtPage",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:"",r=c.length>2&&void 0!==c[2]&&c[2],0===parseInt(t,10)&&(t=1),n){e.next=6;break}return e.abrupt("return",{submissions:[],totalSubmissions:0});case 6:return e.prev=6,a=r?new De.a("get","".concat(n,"page=").concat(t),null,null):new V.a("get","".concat(n,"page=").concat(t),null,null,!0),e.next=10,a.request();case 10:return s=e.sent,e.abrupt("return",{submissions:s.submissions,totalSubmissions:s.totalSubmissions});case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",{submissions:[],totalSubmissions:0});case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPendingSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s,c,i,o,u,l,d=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:[],n=d.length>1&&void 0!==d[1]?d[1]:[],e.prev=2,r=n,e.next=6,new V.a("put","submissions/submission-status",null,t,!0).request();case 6:a=e.sent,s=a.submissions,c=!1,i=0;case 10:if(!(i<s.length)){e.next=32;break}o=void 0,u=void 0,l=0;case 14:if(!(l<r.length)){e.next=22;break}if(r[i].Id!==s[i].Id){e.next=19;break}return o=l,u=r[l],e.abrupt("break",22);case 19:l+=1,e.next=14;break;case 22:e.prev=22,u&&u.Verdict!==s[i].Verdict&&"number"===typeof o&&(c=!0,r[o].Verdict=s[i].Verdict,"Pending"===s[i].Verdict||s[i].Verdict.includes("Judging")||(r[o].Score=s[i].Score,r[o].Memory=s[i].Memory,r[o].Time=s[i].Time)),e.next=29;break;case 26:return e.prev=26,e.t0=e.catch(22),e.abrupt("return",e.t0);case 29:i+=1,e.next=10;break;case 32:if(!c){e.next=34;break}return e.abrupt("return",r);case 34:return e.abrupt("return",[]);case 37:return e.prev=37,e.t1=e.catch(2),e.abrupt("return",[]);case 40:case"end":return e.stop()}}),e,null,[[2,37],[22,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"colorizeVerdict",value:function(e){return"Accepted"===e?{fontWeight:"600",color:"#2ecc71"}:e.includes("Wrong")||e.includes("error")?{fontWeight:"600",color:"red"}:e.includes("output")?{fontWeight:"600",color:"#34495e"}:e.includes("limit")?{fontWeight:"600",color:"orange"}:null}}]),e}(),Yr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).openDetail=function(){var t=e.props,n=t.restrictViewDetail,r=t.submission;if(n){var a=Object(B.a)();if(!["Administrator","Moderator"].includes(a.Role)&&a.username!==r.User)return}e.props.viewDetail(e.props.submission.Id)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.submission,n=e.showUsername,r=e.showProblemName;return Object(Y.jsxs)("tr",{onClick:this.openDetail,style:{cursor:"pointer"},children:[Object(Y.jsx)("td",{style:{textAlign:"center",width:"5%"},children:t.Id}),Object(Y.jsxs)("td",{style:{textAlign:"center"},children:[$t()(t.SubmitTime).format("DD/MM/YYYY"),Object(Y.jsx)("br",{}),$t()(t.SubmitTime).format("HH:mm")]}),n&&Object(Y.jsx)("td",{children:Object(Y.jsx)("strong",{children:t.User})}),r&&Object(Y.jsx)("td",{children:t.ProblemName}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:t.ProblemTypeName}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:t.Language}),Object(Y.jsxs)("td",{style:Wr.colorizeVerdict(t.Verdict),children:[t.Verdict,"\xa0",(t.Verdict.includes("Pending")||t.Verdict.includes("Judging")||t.Verdict.includes("Running"))&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto",style:{verticalAlign:"middle"}})]}),Object(Y.jsx)("td",{style:Object(Re.a)({textAlign:"center"},Wr.colorizeVerdict(t.Verdict)),children:Math.round(100*(t.Score||0))/100}),Object(Y.jsx)("td",{style:{textAlign:"right"},children:null!==t.Time&&"".concat(Math.round(parseFloat(t.Time))," ms")}),Object(Y.jsx)("td",{style:{textAlign:"right"},children:null!==t.Memory&&"".concat(Math.round(parseFloat(t.Memory)/1024)," kb")})]})}}]),n}(a.a.Component);Yr.defaultProps={showProblemName:!1,showUsername:!1,restrictViewDetail:!1};var Kr=Yr,Qr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).autoRefresh=function(){r.refresh=Object(Gn.b)(Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.autoRefresh){e.next=5;break}return e.next=3,r.fetchPendingSubmissions();case 3:e.next=12;break;case 5:if(r.countUpToFetchFull%5===4){e.next=10;break}return e.next=8,r.fetchPendingSubmissions();case 8:e.next=12;break;case 10:return e.next=12,r.fetchSubmissionListAtSpecificPage(r.state.currentPage,!1);case 12:r.countUpToFetchFull+=1;case 13:case"end":return e.stop()}}),e)}))),5e3)},r.UNSAFE_componentWillReceiveProps=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.apiUrl===t.apiUrl){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.fetchSubmissionListAtSpecificPage();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.componentDidMount=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchSubmissionListAtSpecificPage();case 2:r.autoRefresh();case 3:case"end":return e.stop()}}),e)}))),r.componentDidUpdate=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.apiUrl===t.apiUrl){e.next=3;break}return e.next=3,r.fetchSubmissionListAtSpecificPage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.componentWillUnmount=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.refresh){e.next=3;break}return e.next=3,Object(Gn.a)(r.refresh);case 3:case"end":return e.stop()}}),e)}))),r.viewDetail=function(e){r.setState({detailId:e})},r.fetchPendingSubmissions=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],r.state.submissions.forEach((function(e){("Pending"===e.Verdict||e.Verdict.includes("Judging")||e.Verdict.includes("Running"))&&t.push(e.Id)})),0!==t.length){e.next=5;break}return r.props.autoRefresh||clearInterval(r.autoRefresh),e.abrupt("return");case 5:return e.next=7,Wr.fetchPendingSubmissions(t,Object(tt.a)(r.state.submissions));case 7:(n=e.sent).length>0&&r.setState((function(){return{submissions:n}}));case 9:case"end":return e.stop()}}),e)}))),r.fetchSubmissionListAtSpecificPage=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,(n=!(i.length>1&&void 0!==i[1])||i[1])&&r.setState((function(){return{isLoading:!0}})),e.next=5,Wr.fetchSubmissionListAtPage(t,r.props.apiUrl,r.props.admin);case 5:a=e.sent,s=a.submissions,c=a.totalSubmissions,r.setState((function(){return{submissions:s,totalSubmissions:c,currentPage:t}})),n&&r.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),r.toSubmissionDetails=function(e,t){Object(B.b)()&&(r.state.submissions[t].Verdict.toLowerCase().includes("pending")||r.state.submissions[t].Verdict.toLowerCase().includes("judging")||je.a.push("".concat(window.location.pathname,"/").concat(e)))},r.render=function(){return Object(Y.jsxs)("div",{children:[r.state.isLoading&&Object(Y.jsx)(Qt,{}),!r.state.isLoading&&Object(Y.jsxs)("table",{className:"basic-component-table bg-white",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{textAlign:"center",width:"5%"},children:"#"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Th\u1eddi gian n\u1ed9p"}),r.props.showUsername&&Object(Y.jsx)("th",{children:"Ng\u01b0\u1eddi n\u1ed9p"}),r.props.showProblemName&&Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Lo\u1ea1i b\xe0i"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Ng\xf4n ng\u1eef"}),Object(Y.jsx)("th",{children:"K\u1ebft qu\u1ea3"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"\u0110i\u1ec3m"}),Object(Y.jsx)("th",{style:{textAlign:"right"},children:"Th\u1eddi gian"}),Object(Y.jsx)("th",{style:{textAlign:"right"},children:"B\u1ed9 nh\u1edb"})]})}),Object(Y.jsxs)("tbody",{children:[0===r.state.submissions.length&&Object(Y.jsxs)("tr",{className:"no-effect",children:[r.props.showUsername&&r.props.showProblemName&&Object(Y.jsx)("td",{colSpan:9,style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p"}),(r.props.showProblemName&&!r.props.showUsername||!r.props.showProblemName&&r.props.showUsername)&&Object(Y.jsx)("td",{colSpan:8,style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p"}),!r.props.showUsername&&!r.props.showProblemName&&Object(Y.jsx)("td",{colSpan:7,style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p"})]}),r.state.submissions.length>0&&r.state.submissions.map((function(e){return Object(Y.jsx)(Kr,{submission:e,viewDetail:r.viewDetail,showProblemName:r.props.showProblemName,showUsername:r.props.showUsername,restrictViewDetail:r.props.restrictViewDetail},e.Id)}))]})]}),r.state.totalSubmissions>20&&Object(Y.jsx)(on,{onPageChange:r.fetchSubmissionListAtSpecificPage,numberOfPage:Math.ceil(r.state.totalSubmissions/20)}),r.state.detailId&&Object(Y.jsx)(zr,{submissionId:r.state.detailId,linkToDetail:r.state.linkToDetail+r.state.detailId,admin:r.props.admin,onHide:function(){return r.viewDetail(void 0)}})]})},r.state={isLoading:!0,submissions:[],totalSubmissions:0,currentPage:1,detailId:void 0,linkToDetail:e.linkToDetail},r.refresh=void 0,r.countUpToFetchFull=0,r}return n}(a.a.Component);Qr.defaultProps={admin:!1,autoRefresh:!1,showUsername:!1,showProblemName:!1,apiUrl:void 0,linkToDetail:"",restrictViewDetail:!1};var Jr=Qr,_r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i,o,u,l,d=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:1,(n=!(d.length>1&&void 0!==d[1])||d[1])&&r.setState((function(){return{isLoading:!0}})),a=r.props,s=a.courseId,c=a.lectureId,i=a.problemId,e.next=6,Ze.getProblemSubmissions(s,c,i,t);case 6:o=e.sent,u=o.submissions,l=o.totalSubmissions,r.setState((function(){return{submissions:u,totalSubmissions:l,currentPage:t}})),n&&r.setState((function(){return{isLoading:!1}}));case 11:case"end":return e.stop()}}),e)}))),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{linkToDetail:"courses/".concat(e.courseId,"/lectures/").concat(e.lectureId,"/problems/").concat(e.problemId,"/submissions/")}),r}return n}(Jr),Xr=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(void 0),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useContext)(Qn),d=l.languages,j=l.fetchLanguages;Object(r.useEffect)((function(){function t(){return(t=Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.tutorial){t.next=6;break}return t.next=3,j();case 3:return t.next=5,e.tutorial.get();case 5:e.tutorial.SourceCodes.length>0&&u(e.tutorial.SourceCodes[0].LanguageId);case 6:s(!0);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var h=e.tutorial,p=e.onClose,m=h.SourceCodes.find((function(e){return e.LanguageId===o}));return Object(Y.jsx)(rr,{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",show:!0,onHide:p,dialogClassName:"modal-90w shadow-lg",closebutton:1,children:a?Object(Y.jsxs)("div",{className:"p-3",children:[Object(Y.jsx)("h2",{className:"font-semi-bold",children:h.Name}),Object(Y.jsx)(vr,{value:h.Content}),o&&Object(Y.jsx)(wn.a,{value:o,className:"w-25 mt-2 mb-2",as:"select",onChange:function(e){return u(parseInt(e.target.value,10))},id:"search-tag",name:"mode",children:h.SourceCodes.map((function(e){return Object(Y.jsx)("option",{value:e.LanguageId,children:d.find((function(t){return t.Id===e.LanguageId})).Name},e.Id)}))}),m&&Object(Y.jsx)(Hr,{value:m.Content,onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:d.find((function(e){return e.Id===o})).Name,readOnly:!0})]}):Object(Y.jsx)(Qt,{})})},Zr=function(e){var t=e.tutorials,n=Object(r.useState)(void 0),a=Object(b.a)(n,2),s=a[0],c=a[1];return Object(Y.jsxs)("div",{className:"p-3",children:[t.map((function(e){return Object(Y.jsx)(Xt.a,{className:"border corner p-3 mb-3 cursor-pointer shadow-sm",onClick:function(){return c(e)},children:Object(Y.jsx)("h3",{className:"font-semi-bold mb-0",children:e.Name})},e.Id)})),s&&Object(Y.jsx)(Xr,{tutorial:s,onClose:function(){return c(void 0)}})]})},$r=void 0,ea=new me;ea.import(Cr);var ta=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(void 0),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(void 0),d=Object(b.a)(l,2),j=d[0],h=d[1],p=Object(r.useState)(!1),m=Object(b.a)(p,2),f=m[0],x=m[1],O=Object(r.useState)("vertical"),v=Object(b.a)(O,2),g=v[0],w=v[1],y=Object(r.useContext)(nn).getLecture,k=function(){x(!f)},C=function(){window.innerWidth<800?w("horizontal"):w("vertical")};return Object(r.useEffect)((function(){return function(){var t=Object(M.a)(E.a.mark((function t(){var n,r,a,c,i,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params,r=n.courseId,a=n.lectureId,c=n.problemId,t.next=3,y(r,a);case 3:return i=t.sent,t.next=6,h(i);case 6:return t.next=8,i.getProblem(parseInt(c,10));case 8:o=t.sent,u(o),s(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),C(),document.getElementsByClassName("footer")[0].style.display="none",window.addEventListener("resize",C.bind($r)),ea.use("vi"),function(){window.removeEventListener("resize",C.bind($r)),document.getElementById("root").style.overflow="auto",document.getElementsByClassName("footer")[0].style.display="flex"}}),[]),a?Object(Y.jsx)(Oe.Consumer,{children:function(){return ea.use("vi"),Object(Y.jsxs)("div",{className:"problem-page-wrapper ".concat("vertical"===g?"fit-height":""),children:[Object(Y.jsx)("div",{className:"top-bar",children:Object(Y.jsx)(ye,{nav:[["home","/"],["courses","/courses"],[j.Course.Name,j.Course.Link],[j.Name,j.Link],[o.Name]]})}),Object(Y.jsx)("div",{className:"content-problem",children:Object(Y.jsxs)(Bt,{orientation:g,children:[f?null:Object(Y.jsxs)(qn,{controlKey:"view",children:[Object(Y.jsx)(Tr,{title:ea.get("statement"),route:"statement",problem:o}),Object(Y.jsx)("div",{title:ea.get("submissions"),route:"submissions",children:Object(Y.jsx)(_r,{courseId:j.Course.Id,lectureId:j.Id,problemId:o.Id})}),o.Lecture.PublicAnalysis&&Object(Y.jsx)("div",{title:ea.get("tutorials"),route:"tutorial",children:Object(Y.jsx)(Zr,{tutorials:o.Tutorials})})]}),Object(Y.jsx)(lr,{problem:o,allowFullScreen:!0,fullScreening:f,onFullScreen:k})]})})]})}}):Object(Y.jsx)(_t,{})},na=function(){return(0,Object(r.useContext)(K).verifyUser)()?Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/courses",component:ln}),Object(Y.jsx)(d.Route,{exact:!0,path:"/courses/:id",component:vn}),Object(Y.jsx)(d.Route,{exact:!0,path:"/courses/:courseId/lectures/:lectureId",component:Bn}),Object(Y.jsx)(d.Route,{exact:!0,path:"/courses/:courseId/lectures/:lectureId/problems/:problemId",component:ta})]}):Object(Y.jsx)(d.Redirect,{to:"/"})},ra=n(65),aa=n(131),sa=n(132),ca=n.n(sa),ia=n(509),oa=n(483),ua=function(e){var t=e.className,n=e.title,r=e.width,a=e.key,s=e.name,c=e.disabled,i=e.hidden,o=e.type,u=e.defaultValue,l=e.value,d=e.placeholder,b=e.onChange,j=e.onFocus,h=e.autoComplete,p=e.ref,m=e.message,f=e.error,x=e.helpMessage;return Object(Y.jsxs)("div",{className:"basic-component-input-div ".concat(t),title:n,style:{width:r?r.toString():"100%"},children:[Object(Y.jsxs)("label",{className:"basic-component-input-name-label d-flex",children:[s,x&&Object(Y.jsx)(ia.a,{placement:"bottom",overlay:Object(Y.jsx)(oa.a,{id:"span-tooltip-".concat(s),children:x}),children:Object(Y.jsx)("span",{className:"far fa-question-circle ml-auto",style:{fontSize:"1em"}})})]}),Object(Y.jsx)("input",{className:"basic-component-input-input",disabled:!!c,hidden:!!i,type:o,value:l||u,placeholder:d,spellCheck:!1,onChange:b?function(t){return e.onChange(t.target.value)}:null,onFocus:j,autoComplete:h,ref:p}),m&&Object(Y.jsx)("label",{className:"basic-component-input-message-label ".concat(f?"":"not-error-label"),children:m})]},a||"")};ua.defaultProps={type:"text",name:"",hidden:!1,disabled:!1,onFocus:null,placeholder:"",title:"",className:"",message:"",width:"100%",defaultValue:"",key:void 0,ref:null,autoComplete:"off",error:!0,helpMessage:void 0};var la=ua,da=function(e){var t=e.className,n=e.hidden,r=e.disabled,a=e.width,s=e.title,c=e.text,i=e.options,o=e.name,u=e.values,l=e.onChange;return Object(Y.jsxs)("div",{className:"basic-component-checkbox-div ".concat(t||""),hidden:!!n,disabled:!!r,style:{width:a?a.toString():"100%"},title:s||"",children:[c&&Object(Y.jsx)("label",{className:"basic-component-checkbox-title",htmlFor:"checkbox-".concat(o),children:c}),i&&i.length>0&&i.map((function(e,t){return Object(Y.jsxs)("label",{htmlFor:"option-".concat(t),className:"basic-component-checkbox-select-box ".concat(e.disabled?"checkbox-disabled":""),hidden:!!e.hidden,disabled:!!e.disabled,children:[e.text,Object(Y.jsx)("input",{className:"basic-component-checkbox-check-field",id:"option-".concat(t),type:"checkbox",name:o,value:e.value,checked:u.includes(e.value),onChange:l&&!e.disabled?function(e){return l(e.target.value)}:null}),Object(Y.jsx)("span",{className:"basic-component-checkbox-checkmark"})]},t)}))]})};da.defaultProps={className:void 0,hidden:void 0,disabled:void 0,width:void 0,title:void 0,text:void 0,options:void 0,name:void 0,values:void 0,onChange:void 0};var ba=da,ja=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){Object(B.b)()&&r.props.history.push("/")},r.toggleRemember=function(e){r.state.remember===e?r.setState((function(){return{remember:""}})):r.setState((function(){return{remember:"remember"}}))},r.resetWrongPassword=function(){r.state.wrongPassword&&r.setState((function(){return{wrongPassword:""}}))},r.onChangeUsername=function(e){r.setState((function(){return{Username:e}})),r.resetWrongPassword()},r.onChangePassword=function(e){r.setState((function(){return{Password:e}})),r.resetWrongPassword()},r.onSubmitLogin=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=r.state,a=n.Username,s=n.Password,c=n.remember,i=r.context.login,0!==a.trim().length&&0!==s.length){e.next=7;break}return e.next=6,r.setState((function(){return{wrongPassword:"Sai t\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u."}}));case 6:return e.abrupt("return");case 7:return r.setState((function(){return{isLoggingIn:!0}})),e.next=10,i(a,s,c);case 10:(o=e.sent)?r.setState((function(){return{wrongPassword:o.includes("Invalid user")?"Sai t\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u.":o,isLoggingIn:!1}})):je.a.goBack();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.successResponseGoogle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tokenId,a=t.googleId,s=r.context.googleLogin,r.setState((function(){return{isGoolgeLoggingIn:!0}})),e.next=5,s(n,a);case 5:(c=e.sent)?r.setState((function(){return{socialLoginError:c.includes("duplicate")?"T\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i":"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i",isGoolgeLoggingIn:!1}})):je.a.goBack();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.failureResponseGoogle=function(){},r.responseFacebook=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accessToken,a=t.userID,s=r.context.facebookLogin,r.setState((function(){return{isFacebookLoggingIn:!0}})),e.next=5,s(n,a);case 5:(c=e.sent)?r.setState((function(){return{socialLoginError:c.includes("duplicate")?"T\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i":"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i",isFacebookLoggingIn:!1}})):je.a.goBack();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.render=function(){var e=r.state,t=e.Username,n=e.wrongPassword,a=e.Password,s=e.remember,c=e.errorUsername,i=e.isLoggingIn,o=e.isGoolgeLoggingIn,u=e.isFacebookLoggingIn,l=e.socialLoginError;return Object(Y.jsx)(K.Consumer,{children:function(e){return r.context=e,e.verifyUser()?Object(Y.jsx)(d.Redirect,{to:"/"}):Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Home","/"],["Login"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(ra.a,{children:[Object(Y.jsx)(Yn.a,{className:"justify-content-md-center",children:Object(Y.jsx)(Gt.a,{xs:!0,lg:"5",className:"form login-div shadow-sm",style:{backgroundColor:"white"},children:Object(Y.jsxs)("form",{onSubmit:r.onSubmitLogin,children:[Object(Y.jsx)("h1",{children:"\u0110\u0103ng nh\u1eadp"}),n&&Object(Y.jsx)("div",{className:"login-error",children:Object(Y.jsx)("label",{children:n})}),Object(Y.jsx)(la,{name:"T\xean \u0111\u0103ng nh\u1eadp / Email",value:t,type:"text",message:c,onChange:r.onChangeUsername}),Object(Y.jsx)(la,{name:"M\u1eadt kh\u1ea9u",type:"password",className:"password-input",value:a,onChange:r.onChangePassword}),Object(Y.jsx)(ra.a,{children:Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{children:Object(Y.jsx)(ba,{name:"remember",values:s,options:[{value:"remember",text:"Ghi nh\u1edb t\xe0i kho\u1ea3n"}],className:"login-remember",onChange:r.toggleRemember})}),Object(Y.jsx)(Gt.a,{style:{textAlign:"right"},children:Object(Y.jsx)("label",{className:"forgot-password-label",children:Object(Y.jsx)("div",{role:"link",tabIndex:0,onClick:function(){return r.props.history.push("/forgot")},children:"Qu\xean m\u1eadt kh\u1ea9u?"})})})]})}),Object(Y.jsx)(er,{type:"submit",disabled:i,className:"login-button w-100",children:i?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):"\u0110\u0103ng nh\u1eadp"})]})})}),Object(Y.jsx)(Yn.a,{className:"justify-content-md-center",style:{marginBottom:"10%"},children:Object(Y.jsxs)(Gt.a,{xs:!0,lg:"5",className:"form login-div shadow-sm",style:{textAlign:"center",marginTop:"20px",backgroundColor:"white"},children:["L\u1ea7n \u0111\u1ea7u \u0111\u1ebfn v\u1edbi Big-O Coder? ",Object(Y.jsx)("label",{className:"to-register",children:Object(Y.jsx)("div",{role:"link",tabIndex:0,onClick:function(){return r.props.history.push("/register")},children:"T\u1ea1o ngay t\xe0i kho\u1ea3n."})}),Object(Y.jsxs)("div",{className:"mt-1",children:["Ho\u1eb7c \u0111\u0103ng nh\u1eadp v\u1edbi ",Object(Y.jsx)(aa.GoogleLogin,{clientId:r.GOOGLE_ID,render:function(e){return Object(Y.jsx)("button",{type:"button",onClick:function(){e.onClick()},disabled:e.disabled,className:"social-login-button",children:o?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):Object(Y.jsx)("img",{src:"./image/logo/google.svg",alt:"google-login"})})},buttonText:"Google",onSuccess:r.successResponseGoogle,onFailure:r.failureResponseGoogle,cookiePolicy:"single_host_origin"}),Object(Y.jsx)(ca.a,{appId:r.FACEBOOK_ID,textButton:"",icon:u?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):Object(Y.jsx)("img",{src:"./image/logo/facebook.svg",alt:"facebook-login"}),cssClass:"social-login-button",fields:"name,email,picture",callback:r.responseFacebook})]}),l&&Object(Y.jsx)("div",{className:"login-error",children:Object(Y.jsx)("label",{children:l})})]})})]})})]})}})},r.state={Username:"",Password:"",remember:"",wrongPassword:"",isLoggingIn:!1,isGoolgeLoggingIn:!1,isFacebookLoggingIn:!1,socialLoginError:""},r.GOOGLE_ID="916414237631-rbrot0g9ghrsi758m2ad92noobe1a7v5.apps.googleusercontent.com",r.FACEBOOK_ID="773118273601172",r.context=K,r}return n}(a.a.Component),ha={vi:{Register:"\u0110\u0103ng k\xfd",Username:"T\xean \u0111\u0103ng nh\u1eadp",Email:"Email",Password:"M\u1eadt kh\u1ea9u","Confirm password":"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u","Already have account? ":"\u0110\xe3 c\xf3 s\u1eb5n t\xe0i kho\u1ea3n? ","Login now":"\u0110\u0103ng nh\u1eadp ngay.","Username can not be empty.":"T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.","Email can not be empty.":"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.","Invalid email.":"Email kh\xf4ng h\u1ee3p l\u1ec7.","Password can not be empty":"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.","Password must have at least 8 characters.":"M\u1eadt kh\u1ea9u ph\u1ea3i ch\u1ee9a \xedt nh\u1ea5t 8 k\xfd t\u1ef1.","Confirm password and password must be the same.":"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn ph\u1ea3i gi\u1ed1ng m\u1eadt kh\u1ea9u.","Username already exists.":"T\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 t\u1ed3n t\u1ea1i.","Email already exists.":"Email \u0111\xe3 t\u1ed3n t\u1ea1i."}},pa=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).validateUsername=function(e){e?e.includes(" ")?r.setState((function(){return{errorUsername:"T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a kho\u1ea3ng tr\u1eafng"}})):r.setState((function(){return{errorUsername:""}})):r.setState((function(){return{errorUsername:r.language.get("Username can not be empty.")}}))},r.validateEmail=function(e){if(e){void 0!==q()({from:e},{from:{email:!0}})?r.setState((function(){return{errorEmail:"Email kh\xf4ng h\u1ee3p l\u1ec7."}})):r.setState((function(){return{errorEmail:""}}))}else r.setState((function(){return{errorEmail:"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."}}))},r.validatePassword=function(e){e?e.length<8?r.setState((function(){return{errorPassword:"M\u1eadt kh\u1ea9u ph\u1ea3i ch\u1ee9a \xedt nh\u1ea5t 8 k\xfd t\u1ef1.",passwordStrength:0}})):(r.setState((function(){return{errorPassword:""}})),r.calculatePasswordStrength(e)):r.setState((function(){return{errorPassword:"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.",passwordStrength:0}}))},r.validateConfirmPassword=function(e,t){t!==e?r.setState((function(){return{errorConfirmPassword:"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn ph\u1ea3i gi\u1ed1ng m\u1eadt kh\u1ea9u."}})):r.setState((function(){return{errorConfirmPassword:""}}))},r.onChangeUsername=function(e){r.setState((function(){return{Username:e}})),r.validateUsername(e)},r.onChangeEmail=function(e){r.setState((function(){return{Email:e}})),r.validateEmail(e)},r.calculatePasswordStrength=function(e){var t=0;e.match(/[a-z]/g)&&(t+=1),e.match(/[A-Z]/g)&&(t+=1),e.match(/[0-9]/g)&&(t+=1),e.match(/[`~!@#$%^&*()_+{}|;:'",<.>?]/g)&&(t+=1),r.setState((function(){return{passwordStrength:t}}))},r.onChangePassword=function(e){r.setState((function(){return{Password:e}})),r.validatePassword(e)},r.onChangeConfirmPassword=function(e){r.setState((function(){return{confirmPassword:e}}));var t=r.state.Password;r.validateConfirmPassword(t,e)},r.onFocusEmail=function(){var e=r.state.Username;r.validateUsername(e)},r.onFocusPassword=function(){var e=r.state,t=e.Username,n=e.Email;r.validateUsername(t),r.validateEmail(n)},r.onFocusConfirmPassword=function(){var e=r.state,t=e.Username,n=e.Email,a=e.Password;r.validateUsername(t),r.validateEmail(n),r.validatePassword(a)},r.registerNewUser=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i,o,u,l,d,b,j;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state,a=n.Username,s=n.Email,c=n.Password,i=n.confirmPassword,o=n.errorUsername,u=n.errorEmail,l=n.errorPassword,d=n.errorConfirmPassword,b=r.props.history,t.preventDefault(),r.validateUsername(a),r.validateEmail(s),r.validatePassword(c),r.validateConfirmPassword(c,i),!(o||u||l||d)){e.next=9;break}return e.abrupt("return");case 9:return r.setState((function(){return{isRegistering:!0}})),e.next=12,r.authenticationcContext.register(a,s,H()(c).toString());case 12:(j=e.sent)||b.push("/login"),j.includes("exists")&&r.setState({errorUsername:"T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c email \u0111\xe3 t\u1ed3n t\u1ea1i."}),r.setState((function(){return{isRegistering:!1}}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.successResponseGoogle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tokenId,a=t.googleId,s=r.authenticationcContext.googleLogin,r.setState((function(){return{isGoolgeLoggingIn:!0}})),e.next=5,s(n,a);case 5:(c=e.sent)?r.setState((function(){return{socialLoginError:c.includes("duplicate")?"T\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i":"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i",isGoolgeLoggingIn:!1}})):r.props.history.goBack();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.failureResponseGoogle=function(){},r.responseFacebook=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accessToken,a=t.userID,s=r.authenticationcContext.facebookLogin,r.setState((function(){return{isFacebookLoggingIn:!0}})),e.next=5,s(n,a);case 5:(c=e.sent)?r.setState((function(){return{socialLoginError:c.includes("duplicate")?"T\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i":"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i",isFacebookLoggingIn:!1}})):r.props.history.goBack();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.render=function(){var e=r.state,t=e.Username,n=e.Email,a=e.Password,s=e.confirmPassword,c=e.errorUsername,i=e.errorEmail,o=e.errorPassword,u=e.errorConfirmPassword,l=e.passwordStrength,b=e.isRegistering,j=e.isGoolgeLoggingIn,h=e.isFacebookLoggingIn,p=e.socialLoginError,m=r.props.history;return Object(Y.jsx)(Oe.Consumer,{children:function(e){return r.language.use(e.language),Object(Y.jsx)(K.Consumer,{children:function(e){return r.authenticationcContext=e,e.verifyUser()?Object(Y.jsx)(d.Redirect,{to:"/"}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["Home","/"],["Register"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(ra.a,{children:[Object(Y.jsx)(Yn.a,{className:"justify-content-md-center",children:Object(Y.jsx)(Gt.a,{xg:!0,lg:"5",className:"form register-div shadow-sm",style:{backgroundColor:"white"},children:Object(Y.jsxs)("form",{onSubmit:r.registerNewUser,children:[Object(Y.jsx)("h1",{children:r.language.get("Register")}),Object(Y.jsx)(la,{name:r.language.get("Username"),value:t,onChange:r.onChangeUsername,message:c}),Object(Y.jsx)(la,{name:r.language.get("Email"),type:"email",value:n,onChange:r.onChangeEmail,message:i,onFocus:r.onFocusEmail}),Object(Y.jsx)(la,{name:r.language.get("Password"),type:"password",autoComplete:"new-password",className:"register-password",value:a,onChange:r.onChangePassword,message:o,onFocus:r.onFocusPassword}),Object(Y.jsx)(ra.a,{children:Object(Y.jsxs)(Yn.a,{className:"justify-content-md-center",children:[Object(Y.jsx)(Gt.a,{className:"".concat(l>0&&"very-weak-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(l>1&&"weak-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(l>2&&"medium-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(l>3&&"strong-password")})]})}),Object(Y.jsx)(la,{name:r.language.get("Confirm password"),type:"password",value:s,onChange:r.onChangeConfirmPassword,message:u,onFocus:r.onFocusConfirmPassword}),Object(Y.jsx)(er,{className:"register-button w-100",type:"submit",disabled:b||u||i||o||c,children:b?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):r.language.get("Register")})]})})}),Object(Y.jsx)(Yn.a,{className:"justify-content-md-center",children:Object(Y.jsxs)(Gt.a,{xg:!0,lg:"5",className:"form register-div shadow-sm",style:{textAlign:"center",marginTop:"20px",marginBottom:"50px",backgroundColor:"white"},children:[r.language.get("Already have account? "),Object(Y.jsx)("label",{className:"to-login",htmlFor:"login-now-text",children:Object(Y.jsx)("div",{role:"link",tabIndex:0,id:"login-now-text",onClick:function(){return m.push("/login")},children:r.language.get("Login now")})}),Object(Y.jsxs)("div",{className:"mt-1",children:["Ho\u1eb7c \u0111\u0103ng nh\u1eadp v\u1edbi ",Object(Y.jsx)(aa.GoogleLogin,{clientId:r.GOOGLE_ID,render:function(e){return Object(Y.jsx)("button",{type:"button",onClick:function(){e.onClick()},disabled:e.disabled,className:"social-login-button",children:j?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):Object(Y.jsx)("img",{src:"./image/logo/google.svg",alt:"google-login"})})},buttonText:"Google",onSuccess:r.successResponseGoogle,onFailure:r.failureResponseGoogle,cookiePolicy:"single_host_origin"}),Object(Y.jsx)(ca.a,{appId:r.FACEBOOK_ID,textButton:"",icon:h?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):Object(Y.jsx)("img",{src:"./image/logo/facebook.svg",alt:"facebook-login"}),cssClass:"social-login-button",fields:"name,email,picture",callback:r.responseFacebook})]}),p&&Object(Y.jsx)("div",{className:"login-error text-danger",children:Object(Y.jsx)("p",{children:p})})]})})]})})]})}})}})},r.state={Username:"",Email:"",Password:"",confirmPassword:"",errorUsername:"",errorEmail:"",errorPassword:"",errorConfirmPassword:"",passwordStrength:0,isRegistering:!1,isGoolgeLoggingIn:!1,socialLoginError:""},r.GOOGLE_ID="916414237631-rbrot0g9ghrsi758m2ad92noobe1a7v5.apps.googleusercontent.com",r.FACEBOOK_ID="773118273601172",r.language=new me,r.language.import(ha),r}return n}(a.a.Component),ma=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){Object(B.b)()&&je.a.push("/")},r.onChangeUsernameEmail=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(){return{emailOrUsername:t}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onSendResetEmail=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==(n=r.state.emailOrUsername).trim().length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,a={Username:n},e.next=8,r.setState((function(){return{isSending:!0}}));case 8:return s=new V.a("post","".concat(z.d,"forgot-password"),null,a),e.next=11,s.request();case 11:je.a.push("/reset"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),r.setState((function(){return{error:e.t0.message}}));case 17:r.setState((function(){return{isSending:!1}}));case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),r.render=function(){var e=r.state,t=e.emailOrUsername,n=e.error,a=e.isSending;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["home","/"],["login","/login"],["Qu\xean m\u1eadt kh\u1ea9u"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)(ra.a,{children:Object(Y.jsx)(Yn.a,{className:"justify-content-md-center",style:{marginBottom:"30%"},children:Object(Y.jsx)(Gt.a,{xs:!0,lg:"5",className:"form shadow-sm",style:{backgroundColor:"white"},children:Object(Y.jsx)(Xt.a,{children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)("h1",{className:"text-center font-semi-bold",children:"Qu\xean m\u1eadt kh\u1ea9u"}),Object(Y.jsxs)("form",{onSubmit:r.onSendResetEmail,children:[Object(Y.jsx)(la,{name:"Username ho\u1eb7c Email",value:t,onChange:r.onChangeUsernameEmail,message:n}),Object(Y.jsx)(er,{type:"submit",disabled:a,className:"w-50 bg-light-blue float-right",children:Object(Y.jsx)("div",{style:{fontSize:"18px"},children:a?Object(Y.jsx)("div",{className:"py-1",children:Object(Y.jsx)(Yt,{})}):"X\xe1c nh\u1eadn"})})]})]})})})})})})]})},r.state={emailOrUsername:"",error:"",isSending:!1},r}return n}(a.a.Component),fa=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){Object(B.b)()&&je.a.push("/")},r.onChangeResetCode=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(){return{resetCode:t}}));case 2:r.verifyResetCode();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.verifyResetCode=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.state.resetCode.trim().length){e.next=6;break}return e.next=4,r.setState((function(){return{errorResetCode:"Reset code can not be empty."}}));case 4:e.next=8;break;case 6:return e.next=8,r.setState((function(){return{errorResetCode:""}}));case 8:case"end":return e.stop()}}),e)}))),r.onChangeNewPassword=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(){return{newPassword:t}}));case 2:r.verifyNewPassword();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.verifyNewPassword=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.state.newPassword.length){e.next=5;break}return e.next=3,r.setState((function(){return{errorNewPassword:"New password can not be empty.",passwordStrength:0,isPasswordValid:!1}}));case 3:e.next=13;break;case 5:if(!(r.state.newPassword.length<8)){e.next=10;break}return e.next=8,r.setState((function(){return{errorNewPassword:"Password must have at least 8 characters.",passwordStrength:0,isPasswordValid:!1}}));case 8:e.next=13;break;case 10:return e.next=12,r.setState((function(){return{errorNewPassword:"",isPasswordValid:!0}}));case 12:r.calculatePasswordStrength(r.state.newPassword);case 13:if(r.state.newPassword===r.state.confirmPassword){e.next=18;break}return e.next=16,r.setState((function(){return{errorConfirmPassword:"Confirm password must be the same as new password.",isPasswordValid:!1}}));case 16:e.next=20;break;case 18:return e.next=20,r.setState((function(){return{errorConfirmPassword:"",isPasswordValid:!0}}));case 20:case"end":return e.stop()}}),e)}))),r.calculatePasswordStrength=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=/[a-z]/g,a=/[A-Z]/g,s=/[0-9]/g,c=/[`~!@#$%^&*()_+{}|;:'",<.>?]/g,i=0,t.match(n)&&(i+=1),t.match(a)&&(i+=1),t.match(s)&&(i+=1),t.match(c)&&(i+=1),e.next=11,r.setState((function(){return{passwordStrength:i}}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onChangeConfirmPassword=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(){return{confirmPassword:t}}));case 2:r.verifyConfirmPassword();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.verifyConfirmPassword=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.state.confirmPassword===r.state.newPassword){e.next=5;break}return e.next=3,r.setState((function(){return{errorConfirmPassword:"Confirm password must be the same as new password.",isPasswordValid:!1}}));case 3:e.next=7;break;case 5:return e.next=7,r.setState((function(){return{errorConfirmPassword:"",isPasswordValid:!0}}));case 7:case"end":return e.stop()}}),e)}))),r.onResetPassword=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i,o,u,l,d,b;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.verifyResetCode();case 3:return e.next=5,r.verifyNewPassword();case 5:return e.next=7,r.verifyConfirmPassword();case 7:if(n=r.state,a=n.errorUsername,s=n.errorResetCode,c=n.errorNewPassword,i=n.errorConfirmPassword,o=n.username,u=n.resetCode,l=n.newPassword,!(a||s||c||i)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,r.setState((function(){return{isSending:!0}}));case 12:return e.prev=12,d={username:o,resetPasswordToken:u,newPassword:H()(l).toString()},b=new V.a("post","".concat(z.d,"reset-password"),null,d),e.next=17,b.request();case 17:je.a.push("/login"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),"Reset password token mismatch"===e.t0.message?r.setState((function(){return{errorResetCode:"Wrong reset code"}})):e.t0.message.includes("username")&&r.setState((function(){return{errorUsername:e.t0.message}}));case 23:r.setState((function(){return{isSending:!1}}));case 24:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}(),r.render=function(){return Object(Y.jsx)(Ft,{children:Object(Y.jsx)(ra.a,{children:Object(Y.jsx)(Yn.a,{className:"justify-content-md-center",style:{marginBottom:"5%"},children:Object(Y.jsx)(Gt.a,{xs:!0,lg:"5",className:"form reset-div shadow-sm",style:{backgroundColor:"white"},children:Object(Y.jsxs)("form",{onSubmit:r.onResetPassword,children:[Object(Y.jsx)("h1",{children:"Reset password"}),Object(Y.jsx)(la,{name:"Reset code",value:r.state.resetCode,onChange:r.onChangeResetCode,message:r.state.errorResetCode||"Reset code is send to your email",error:!!r.state.errorResetCode}),Object(Y.jsx)(la,{name:"New password",value:r.state.newPassword,className:"reset-new-password-input",type:"password",onChange:r.onChangeNewPassword,message:r.state.errorNewPassword}),Object(Y.jsx)(ra.a,{children:Object(Y.jsxs)(Yn.a,{className:"justify-content-md-center",children:[Object(Y.jsx)(Gt.a,{className:"".concat(r.state.passwordStrength>0&&"very-weak-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(r.state.passwordStrength>1&&"weak-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(r.state.passwordStrength>2&&"medium-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(r.state.passwordStrength>3&&"strong-password")})]})}),Object(Y.jsx)(la,{name:"Confirm password",value:r.state.confirmPassword,type:"password",onChange:r.onChangeConfirmPassword,message:r.state.errorConfirmPassword}),Object(Y.jsx)(er,{type:"submit",disabled:r.state.isSending||!r.state.isPasswordValid,className:"start-reset-button w-100",children:r.state.isSending?Object(Y.jsx)(Yt,{}):"Reset password"})]})})})})})},r.state={username:"",resetCode:"",newPassword:"",confirmPassword:"",passwordStrength:0,isSending:!1,isPasswordValid:!1,errorUsername:"",errorResetCode:"",errorNewPassword:"",errorConfirmPassword:""},r}return n}(a.a.Component),xa=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"login",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new V.a("post",z.d+z.Ab,void 0,void 0,!1,{Authorization:t}).request();case 2:return n=e.sent,e.abrupt("return",n.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Oa=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={fetched:!1,status:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=ze.a.getAllQueryString(),n=t.token,r=t.red_to,e.next=4,xa.login(n);case 4:a=e.sent,Object(B.d)(a,!0),r?window.location.replace(r):window.location.replace("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.setState({fetched:!0});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fetched,n=e.status;return t?n?void 0:Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["home","/"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)(Xt.a,{className:"w-100",children:Object(Y.jsx)(Xt.a.Body,{className:"text-center",children:Object(Y.jsx)("h1",{children:Object(Y.jsx)("storng",{children:"\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng!"})})})})})]}):Object(Y.jsx)(_t,{})}}]),n}(a.a.Component),va=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getContestType",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.B).request();case 3:return t=e.sent,e.abrupt("return",t.contestTypes);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ga=a.a.createContext(),wa=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getContestType=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=r.state.contestTypes).length){e.next=7;break}return e.next=4,va.getContestType();case 4:return n=e.sent,r.setState({contestTypes:n}),e.abrupt("return",t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),r.getContestTypeName=function(e){var t=r.state.contestTypes.find((function(t){return t.Id===parseInt(e,10)}));return t?t.Name:""},r.getContestTypeId=function(e){return r.state.contestTypes.find((function(t){return t.Name===e})).Id},r.state={contestTypes:[],getContestType:r.getContestType,getContestTypeName:r.getContestTypeName,getContestTypeId:r.getContestTypeId},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContestType();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(ga.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),ya=n(109),ka=n.n(ya),Ca=n(105),Sa=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"saveData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=new Ca.a;if(r.get(e))return!1;var a=ka.a.encrypt(JSON.stringify(t),"Big-O Coder private key"),s=new Date;return s.setMinutes(s.getMinutes()+n),r.set(e,a.toString(),{expires:s,path:"/",sameSite:!0}),!0}},{key:"getData",value:function(e){var t=(new Ca.a).get(e);if(t){var n=ka.a.decrypt(t,"Big-O Coder private key");return JSON.parse(n.toString(rt.a.enc.Utf8))}}},{key:"clearData",value:function(e){(new Ca.a).remove(e)}}]),e}(),Ia=a.a.createContext(),Na=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.getProblem(t);case 2:n=e.sent,a=r.state.container,n&&a.add(new Je(Xe.parse(n)),0),r.setState((function(){return{container:a}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.container,a=Number.parseInt(t,10),n.getId(a)){e.next=6;break}return e.next=6,r.fetchProblem(a);case 6:return e.abrupt("return",n.getId(t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.fetchContestProblem=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.getContestProblem(t,n);case 2:a=e.sent,s=r.state.container,a&&s.add(new Je(Xe.parse(a)),0),r.setState((function(){return{container:s}}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.getContestProblem=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.state.container,s=a.getCustom("ProblemCode",n)){e.next=14;break}if(s=Sa.getData(t+n)){e.next=10;break}return e.next=7,r.fetchContestProblem(t,n);case 7:Sa.saveData(t+n,a.getCustom("ProblemCode",n)),e.next=14;break;case 10:return(c=a).add(new Je(Xe.parse(s)),0),e.next=14,r.setState((function(){return{container:c}}));case 14:return e.abrupt("return",a.getCustom("ProblemCode",n));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.state={container:new Be,getProblem:r.getProblem,getContestProblem:r.getContestProblem},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Ia.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),Pa=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getTags",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addTag",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeTag",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ta=function(e){var t=e.title,n=e.clearError,r=e.footer,a=e.error,s=e.message;return Object(Y.jsx)(rr,{title:t,show:!0,onHide:n,footer:r,closebutton:1,error:a?1:0,children:Object(Y.jsxs)("div",{className:"p-3",children:[a&&Object(Y.jsx)("ul",{className:"list-unstyled",children:a.split("\n").filter((function(e){return e.length>0})).map((function(e,t){return Object(Y.jsxs)("li",{children:[Object(Y.jsx)("span",{className:"fas fa-times-circle light-pink"})," ",e]},t)}))}),s&&Object(Y.jsx)("ul",{className:"list-unstyled",children:s.split("\n").map((function(e,t){return Object(Y.jsxs)("li",{children:[Object(Y.jsx)("span",{className:"fas fa-check-circle green"})," ",e]},t)}))})]})})};Ta.defaultProps={title:"",clearError:null,footer:void 0,error:"",message:""};var La=Ta,Aa=a.a.createContext(),Ra=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchTags=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.state.tags.length>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Pa.getTags();case 5:t=e.sent,r.setState({tags:t.sort((function(e,t){return e.localeCompare(t)}))});case 7:case"end":return e.stop()}}),e)}))),r.addTag=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.tags,!t.trim()){e.next=6;break}return e.next=4,Pa.addTag(t);case 4:(a=e.sent)?r.setState({error:a}):r.setState({tags:[].concat(Object(tt.a)(n),[t]).sort((function(e,t){return e.localeCompare(t)})),message:'Tag "'.concat(t,'" added!')});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeTag=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.tags,!window.confirm("This action can not be undone!")){e.next=6;break}return e.next=4,Pa.removeTag(t);case 4:(a=e.sent)?r.setState({error:a}):r.setState({tags:n.filter((function(e){return e!==t})),message:'Tag "'.concat(t,'" removed!')});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.clearError=function(){r.setState({error:"",message:""})},r.state={tags:[],fetchTags:r.fetchTags,addTag:r.addTag,removeTag:r.removeTag,error:"",message:""},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTags();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.message,n=e.error,r=this.props.children;return Object(Y.jsxs)(Aa.Provider,{value:this.state,children:[r,(n.length>0||t.length>0)&&Object(Y.jsx)(La,{title:"Tag",clearError:this.clearError,message:t,error:n})]})}}]),n}(a.a.Component),Da=a.a.createContext(),Ua=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getCollections=Object(M.a)(E.a.mark((function e(){var t,n,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=s.length>0&&void 0!==s[0]?s[0]:null)){e.next=7;break}return e.next=4,jt.getCollections();case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,jt.getSubCollections(t);case 9:n=e.sent;case 10:return a=n.map((function(e){return new ht(e)})).sort((function(e,t){return new Date(e.CreateAt).getTime()-new Date(t.CreateAt).getTime()})),r.setState({collections:a}),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),r.getCollection=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.collections,a=n.find((function(e){return e.Id===t}))){e.next=10;break}return e.next=5,jt.getCollection(t);case 5:if(s=e.sent){e.next=9;break}return r.setState({error:s}),e.abrupt("return",null);case 9:a=new ht(s);case 10:if(1!==a.Type){e.next=13;break}return e.next=13,a.getProblems();case 13:return r.setState({collection:a}),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.getProblem(t);case 2:return n=e.sent,e.abrupt("return",new Je(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.resetCollection=function(){r.setState({collection:new ht}),r.getCollections()},r.state={collection:new ht,collections:[],getCollection:r.getCollection,resetCollection:r.resetCollection,getCollections:r.getCollections,getProblem:r.getProblem},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Da.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),Ea=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getCourseTypes",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.I,void 0,void 0,!0).request();case 3:return t=e.sent,e.abrupt("return",t.CourseTypes.sort((function(e,t){return new Date(e.CreateAt)-new Date(t.CreateAt)})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCourseType",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.H,{courseTypeCode:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.CourseType);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ma=a.a.createContext(),Ba=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchCourseTypes=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.state.courseTypes.length>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ea.getCourseTypes();case 5:t=(t=e.sent).map((function(e){return{content:e,id:te()()}})),r.setState({courseTypes:t});case 8:case"end":return e.stop()}}),e)}))),r.state={courseTypes:[],fetchCourseTypes:r.fetchCourseTypes},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Ma.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),Fa=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"apiGetListContestsForUser",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.Qb,null,null,!0).request();case 3:return t=e.sent,e.abrupt("return",t.contests);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),qa=a.a.createContext(),Ga=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).moveFromNotStartToRunning=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.state.upcomingContests,s=0;case 2:if(!(s<a.length)){e.next=11;break}if(a[s].Id!==t){e.next=8;break}return e.delegateYield(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.splice(s,1)[0]).ContestStatus="Running",(t=r.state.runningContests).push(n),t=t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})),e.next=7,r.setState((function(){return{upcomingContests:a,runningContests:t}}));case 7:return e.abrupt("return",{v:void 0});case 8:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(c=e.t0)){e.next=8;break}return e.abrupt("return",c.v);case 8:++s,e.next=2;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.startFetchContests=Object(M.a)(E.a.mark((function e(){var t,n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fa.apiGetListContestsForUser();case 3:t=e.sent,n=t.filter((function(e){return"Running"===e.ContestStatus})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e){return new Ge(e)})),a=t.filter((function(e){return["Registration opened","Registration not open"].includes(e.ContestStatus)})).sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()})).map((function(e){return new Ge(e)})),s=t.filter((function(e){return"Ended"===e.ContestStatus})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e){return new Ge(e)})),r.setState({contests:t,upcomingContests:a,runningContests:n,endedContests:s}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))),r.state={contests:[],upcomingContests:[],runningContests:[],endedContests:[],startFetchContests:r.startFetchContests,moveContestFromNotStartToRunning:r.moveFromNotStartToRunning},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(qa.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),Ha=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"registerContest",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.yb,{id:t},n,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getContestDetailsForUesr",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new V.a("get",z.q,{id:t},null,Object(B.b)()).request();case 2:return n=e.sent,e.abrupt("return",n.contest);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblemsList",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new V.a("get",z.v,{id:t},null,!0).request();case 2:return n=e.sent.Problems,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,r=s.length>2&&void 0!==s[2]?s[2]:null,0===parseInt(n,10)&&(n=1),e.prev=3,e.next=6,new V.a("get",z.y,{id:t,page:n},null,Object(B.b)(),{},r).request();case 6:return a=e.sent,e.abrupt("return",a.scoreboard);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"adminGetScoreboard",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,r=s.length>2&&void 0!==s[2]?s[2]:null,0===parseInt(n,10)&&(n=1),e.prev=3,e.next=6,new De.a("get",z.a,{id:t,page:n},null,{},r).request();case 6:return a=e.sent,e.abrupt("return",a.scoreboard);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getContestLink",value:function(e){var t=e.Name.toLowerCase();return t.includes("tour")?"https://codetour.vn/":t.includes("line")?"https://lin.ee/R05yNK8/kgdu":"/contests/".concat(e.Id,"/register")}},{key:"getProblemContestSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r,a,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:1,0===parseInt(r,10)&&(r=1),e.prev=2,e.next=5,new V.a("get",z.w,{id:t,problemId:n,page:r},null,!0).request();case 5:return a=e.sent,e.abrupt("return",{submissions:a.submissions,totalSubmissions:a.totalSubmissions});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getContestSubmissions",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,0===parseInt(n,10)&&(n=1),e.prev=2,e.next=5,new V.a("get",z.z,{id:t,page:n},null,!0).request();case 5:return r=e.sent,e.abrupt("return",{submissions:r.submissions,totalSubmissions:r.totalSubmissions});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ha.sortScoreboardByRank=function(e){e.sort((function(e,t){return e.Rank-t.Rank}))};var Va=Ha,za=a.a.createContext(),Wa=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).startFetchContest=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va.getContestDetailsForUesr(t);case 2:return n=e.sent,e.next=5,r.setState({contest:new Ge(n)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.fetchContestProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.state.contest,e.next=3,Xe.getContestProblem(n.Id,t);case 3:a=e.sent,s=r.state.container,a&&s.add(a),r.setState((function(){return{container:s}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getContestProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchContestProblem(t);case 2:return n=r.state.container,e.abrupt("return",n.getId(parseInt(t,10)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={contest:null,startFetchContest:r.startFetchContest,container:new Be,getContestProblem:r.getContestProblem},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(za.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),Ya=function e(t){var n=parseInt(t,10);if(n<60)return"".concat(n," gi\xe2y");if(n<3600){var r=Math.floor(n/60);if(60*r===n)return"".concat(Math.floor(n/60)," ph\xfat");var a=n-60*r;return"".concat(r," ph\xfat ").concat(e(a))}if(n<86400){var s=Math.floor(n/3600);if(3600*s===n)return"".concat(s," gi\u1edd");var c=n-3600*s;return"".concat(s," gi\u1edd ").concat(e(c))}var i=Math.floor(n/86400);if(86400*i===n)return"".concat(i," ng\xe0y");var o=n-86400*i;return"".concat(i," ng\xe0y ").concat(e(o))},Ka=function(e){return function(t){var n=t.contest,r=t.forceUpdate;return Object(Y.jsx)(Xt.a,{className:"single-contest shadow-sm my-3",children:Object(Y.jsx)(Xt.a.Body,{children:Object(Y.jsxs)(Yn.a,{style:{height:"200px"},children:[Object(Y.jsx)(Gt.a,{className:"col-md-3 d-table h-100",children:Object(Y.jsx)("div",{className:"card card-block d-table-cell align-middle h-100",children:Object(Y.jsx)(Xt.a.Img,{width:"100%",src:n.Logo||"./image/logo.svg"})})}),Object(Y.jsx)(Gt.a,{className:"col-md-9 py-3",children:Object(Y.jsxs)(Xt.a.Body,{className:"py-0",children:[Object(Y.jsx)(Xt.a.Title,{style:{fontWeight:"600",fontSize:"20px",marginBottom:"20px"},children:n.Name}),Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",marginBottom:"10px"},children:[Object(Y.jsx)("span",{className:"fas fa-hourglass-half"}),"\xa0\xa0Th\u1eddi gian thi:"," ",Object(Y.jsx)("span",{style:{fontWeight:"600"},children:Ya(60*n.Duration)})]}),Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",marginBottom:"10px"},children:[Object(Y.jsx)("span",{className:"fas fa-calendar-week"}),"\xa0\xa0Th\u1eddi gian b\u1eaft \u0111\u1ea7u:"," ",Object(Y.jsx)("span",{style:{fontWeight:"600"},children:$t()(n.StartTime).format("DD/MM/YYYY - HH:mm")})]}),Object(Y.jsx)(e,{contest:n,forceUpdate:r})]})})]})})})}},Qa=Ka(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentWillUnmount=function(){void 0!==r.countDownTimer&&clearInterval(r.countDownTimer)},r.componentDidUpdate=function(){var e=r.state.count,t=r.props.forceUpdate;0===e&&void 0!==r.countDownTimer&&(t(),clearInterval(r.countDownTimer),r.countDownTimer=void 0)},r.render=function(){var e=r.props.contest,t=r.state,n=t.current,a=t.count;return Object(Y.jsxs)("div",{children:[n.isBefore($t()(Number(e.ActiveTime)))&&Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",marginBottom:"10px"},children:[Object(Y.jsx)("span",{className:"fas fa-calendar-week"}),"\xa0\xa0Th\u1eddi gian m\u1edf \u0111\u0103ng k\xfd tham gia:"," ",Object(Y.jsx)("span",{style:{fontWeight:"600"},children:$t()(Number(e.ActiveTime)).format("DD/MM/YYYY - HH:mm")})]}),a>0&&Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",marginBottom:"10px"},children:[Object(Y.jsx)("span",{className:"fas fa-clock"}),"\xa0\xa0C\xf2n"," ",Object(Y.jsx)("b",{style:{fontWeight:"600"},children:Ya(Math.ceil(a))})," ","tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u k\u1ef3 thi"]}),$t()().isAfter(Number(e.ActiveTime))&&Object(Y.jsxs)(Yn.a,{style:{margin:0,padding:0},children:[Object(Y.jsxs)(Gt.a,{style:{margin:0,padding:0},children:[(!e.RegistrationStatus||"Unregistered"===e.RegistrationStatus)&&Object(Y.jsx)("a",{href:Va.getContestLink(e),children:Object(Y.jsx)(er,{className:"w-75",children:"\u0110\u0103ng k\xfd"})}),"Registered"===e.RegistrationStatus&&Object(Y.jsx)(er,{disabled:!0,className:"w-75",children:"\u0110\xe3 \u0111\u0103ng k\xfd"})]}),Object(Y.jsx)(Gt.a,{})]})]})},r.state={count:"Registration opened"===r.props.contest.ContestStatus?Math.floor($t.a.duration($t()(r.props.contest.StartTime).diff($t()())).asSeconds()):-1,current:$t()()},r.countDownTimer=void 0,-1!==r.state.count&&(r.countDownTimer=setInterval((function(){r.state.count>0&&r.setState((function(e){return{count:e.count-1}})),r.setState((function(){return{current:$t()()}}))}),1e3)),r}return n}(a.a.Component)),Ja=Ka((function(e){var t=Object(r.useContext)(ga).getContestTypeName,n=e.contest;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",fontWeight:"600",marginBottom:"10px"},children:[Object(Y.jsx)("span",{className:"fas fa-clock"}),"\xa0\xa0\u0110ang di\u1ec5n ra"]}),Object(Y.jsxs)(Yn.a,{style:{margin:0,padding:0},children:[Object(Y.jsxs)(Gt.a,{style:{margin:0,padding:0},children:[["Registered","Joined"].includes(n.RegistrationStatus)&&Object(Y.jsx)(j.a,{to:"/contests/".concat(n.Id),children:Object(Y.jsx)(er,{className:"w-75",children:"V\xe0o thi"})}),["Ended"].includes(n.RegistrationStatus)&&"HIRING"!==t(n.ContestType)&&Object(Y.jsx)(j.a,{to:"/contests/".concat(n.Id),children:Object(Y.jsx)(er,{className:"w-75",children:"V\xe0o thi"})}),(!n.RegistrationStatus||"Unregistered"===n.RegistrationStatus)&&Object(Y.jsx)("a",{href:Va.getContestLink(n),children:Object(Y.jsx)(er,{className:"w-75",children:"\u0110\u0103ng k\xfd"})})]}),Object(Y.jsx)(Gt.a,{children:"HIRING"!==t(n.ContestType)&&Object(Y.jsx)(j.a,{to:"/contests/".concat(n.Id,"?view=scoreboard"),children:Object(Y.jsx)(er,{className:"w-75",children:"Xem b\u1ea3ng x\u1ebfp h\u1ea1ng"})})})]})]})})),_a=Ka((function(e){var t=Object(r.useContext)(ga).getContestTypeName,n=e.contest;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Xt.a.Text,{style:{fontWeight:"600",fontSize:"14px",marginBottom:"10px"},children:[Object(Y.jsx)("span",{className:"fas fa-clock"}),"\xa0\xa0\u0110\xe3 k\u1ebft th\xfac"]}),"HIRING"!==t(n.ContestType)&&"Code Tour 2019 - Code Challenge #02"!==n.Name&&"Code Tour 2019 - Code Challenge #01"!==n.Name&&Object(Y.jsxs)(Yn.a,{style:{margin:0,padding:0},children:[Object(Y.jsx)(Gt.a,{style:{margin:0,padding:0},children:Object(Y.jsx)(j.a,{to:"/contests/".concat(n.Id,"?view=scoreboard"),children:Object(Y.jsx)(er,{className:"single-contest-registered w-75",children:"Xem b\u1ea3ng x\u1ebfp h\u1ea1ng"})})}),Object(Y.jsx)(Gt.a,{})]})]})})),Xa=function(e){return function(t){var n=t.contest,r=t.forceUpdate;return Object(Y.jsxs)(Xt.a,{style:{width:"100%",marginBottom:"20px"},className:"single-contest-mobile shadow-sm",children:[Object(Y.jsx)(Yn.a,{style:{textAlign:"center",paddingTop:"20px"},children:Object(Y.jsx)(Gt.a,{style:{textAlign:"center"},children:Object(Y.jsx)(Xt.a.Img,{style:{width:"150px"},src:n.Logo||"./image/logo.svg"})})}),Object(Y.jsx)(Yn.a,{style:{textAlign:"center"},children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)(Xt.a.Title,{style:{fontWeight:"600",textAlign:"center",fontSize:"20px",marginBottom:"20px"},children:n.Name}),Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",marginBottom:"20px"},children:[Object(Y.jsx)("span",{className:"fas fa-hourglass-half"}),"\xa0\xa0Th\u1eddi gian thi"," ",Object(Y.jsx)("br",{}),Object(Y.jsx)("span",{style:{fontWeight:"600"},children:Ya(60*n.Duration)})]}),Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",marginBottom:"20px"},children:[Object(Y.jsx)("span",{className:"fas fa-calendar-week"}),"\xa0\xa0Th\u1eddi gian b\u1eaft \u0111\u1ea7u"," ",Object(Y.jsx)("br",{}),Object(Y.jsx)("span",{style:{fontWeight:"600"},children:$t()(n.StartTime).format("DD/MM/YYYY - HH:mm")})]}),Object(Y.jsx)(e,{contest:n,forceUpdate:r})]})})]})}},Za=Xa((function(e){var t=Object(r.useContext)(ga).getContestTypeName,n=e.contest;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",fontWeight:"600",marginBottom:"20px"},children:[Object(Y.jsx)("span",{className:"fas fa-clock"}),"\xa0\xa0\u0110ang di\u1ec5n ra"]}),Object(Y.jsx)(Yn.a,{style:{margin:0,padding:0},children:Object(Y.jsxs)(Gt.a,{style:{margin:0,padding:0},children:[["Registered","Joined"].includes(n.RegistrationStatus)&&Object(Y.jsx)(j.a,{to:"/contests/".concat(n.Id),children:Object(Y.jsx)(er,{className:"single-contest-mobile-button w-100",children:"V\xe0o thi"})}),["Ended"].includes(n.RegistrationStatus)&&"HIRING"!==t(n.ContestType)&&Object(Y.jsx)(j.a,{to:"/contests/".concat(n.Id),children:Object(Y.jsx)(er,{className:"single-contest-mobile-button w-100",children:"V\xe0o thi"})}),(!n.RegistrationStatus||"Unregistered"===n.RegistrationStatus)&&Object(Y.jsx)("a",{href:Va.getContestLink(n),children:Object(Y.jsx)(er,{className:"single-contest-mobile-button w-100",children:"\u0110\u0103ng k\xfd"})})]})}),"HIRING"!==t(n.ContestType)&&Object(Y.jsx)(Yn.a,{style:{margin:0,padding:0},children:Object(Y.jsx)(Gt.a,{style:{margin:0,padding:0},children:"HIRING"!==t(n.ContestType)&&Object(Y.jsx)(j.a,{to:"/contests/".concat(n.Id,"?view=scoreboard"),children:Object(Y.jsx)(er,{className:"single-contest-mobile-button w-100",children:"Xem b\u1ea3ng x\u1ebfp h\u1ea1ng"})})})})]})})),$a=Xa(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentWillUnmount=function(){void 0!==r.countDownTimer&&clearInterval(r.countDownTimer)},r.componentDidUpdate=function(){var e=r.state.count,t=r.props.forceUpdate;0===e&&void 0!==r.countDownTimer&&(t(),clearInterval(r.countDownTimer),r.countDownTimer=void 0)},r.render=function(){var e=r.state,t=e.current,n=e.count,a=r.props.contest;return Object(Y.jsxs)("div",{children:[t.isBefore($t()(Number(a.ActiveTime)))&&Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",marginBottom:"20px"},children:[Object(Y.jsx)("span",{className:"fas fa-calendar-week"}),"\xa0\xa0Th\u1eddi gian m\u1edf \u0111\u0103ng k\xfd tham gia"," ",Object(Y.jsx)("br",{}),Object(Y.jsx)("span",{style:{fontWeight:"600"},children:$t()(Number(a.ActiveTime)).format("DD/MM/YYYY - HH:mm")})]}),n>0&&Object(Y.jsxs)(Xt.a.Text,{style:{fontSize:"14px",marginBottom:"20px"},children:[Object(Y.jsx)("span",{className:"fas fa-clock"}),"\xa0\xa0C\xf2n"," ",Object(Y.jsx)("b",{style:{fontWeight:"600"},children:Ya(Math.ceil(n))}),Object(Y.jsx)("br",{}),"tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u k\u1ef3 thi"]}),$t()().isAfter(Number(a.ActiveTime))&&Object(Y.jsx)(Yn.a,{style:{margin:0,padding:0},children:Object(Y.jsxs)(Gt.a,{style:{margin:0,padding:0},children:[(!a.RegistrationStatus||"Unregistered"===a.RegistrationStatus)&&Object(Y.jsx)("a",{href:Va.getContestLink(a),children:Object(Y.jsx)(er,{className:"single-contest-mobile-button w-100",children:"\u0110\u0103ng k\xfd"})}),"Registered"===a.RegistrationStatus&&Object(Y.jsx)(er,{className:"single-contest-mobile-button w-100",disabled:!0,children:"\u0110\xe3 \u0111\u0103ng k\xfd"})]})})]})},r.state={count:"Registration opened"===r.props.contest.ContestStatus?Math.floor($t.a.duration($t()(r.props.contest.StartTime).diff($t()())).asSeconds()):-1,current:$t()()},r.countDownTimer=void 0,-1!==r.state.count&&(r.countDownTimer=setInterval((function(){r.state.count>0&&r.setState((function(e){return{count:e.count-1}})),r.setState((function(){return{current:$t()()}}))}),1e3)),r}return n}(a.a.Component)),es=Xa((function(e){var t=Object(r.useContext)(ga).getContestTypeName,n=e.contest;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Xt.a.Text,{style:{fontWeight:"600",fontSize:"14px",marginBottom:"20px"},children:[Object(Y.jsx)("span",{className:"fas fa-clock"}),"\xa0\xa0\u0110\xe3 k\u1ebft th\xfac"]}),"HIRING"!==t(n.ContestType)&&"Code Tour 2019 - Code Challenge #02"!==n.Name&&"Code Tour 2019 - Code Challenge #01"!==n.Name&&Object(Y.jsx)(Yn.a,{style:{margin:0,padding:0},children:Object(Y.jsx)(Gt.a,{style:{margin:0,padding:0},children:Object(Y.jsx)(j.a,{to:"/contests/".concat(n.Id,"?view=scoreboard"),children:Object(Y.jsx)(er,{className:"single-contest-mobile-button",children:"Xem b\u1ea3ng x\u1ebfp h\u1ea1ng"})})})})]})})),ts=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onBrowserWidthChange=function(){r.setState((function(){return{width:window.innerWidth}}))},r.componentDidMount=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.context.startFetchContests,e.next=3,r.setState((function(){return{isLoading:!0}}));case 3:return e.prev=3,e.next=6,t();case 6:r.setState((function(){return{isLoading:!1}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),r.setState((function(){return{isLoading:!1}}));case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),r.componentWillUnmount=function(){window.removeEventListener("resize",r.onBrowserWidthChange)},r.onChangeSearchQuery=function(e){r.setState((function(){return{searchQuery:e}}))},r.onChangeFilterStatus=function(e){r.setState((function(){return{filterStatus:e}}))},r.onChangeFilterType=function(e){r.setState((function(){return{filterType:e}}))},r.filterContests=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.state,n=t.searchQuery,a=t.filterType;return e.filter((function(e){return e.Name.toLowerCase().includes(n)&&e.ContestType.Name.includes(a)}))},r.renderUpcomingContests=function(){var e=r.state.width,t=r.context,n=t.moveContestFromNotStartToRunning,a=t.upcomingContests;if(0===a.length)return Object(Y.jsx)("p",{style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 k\u1ef3 thi n\xe0o s\u1eafp t\u1edbi."});var s=r.filterContests(a);return 0===s.length?Object(Y.jsx)("p",{style:{textAlign:"center"},children:"Kh\xf4ng t\xecm th\u1ea5y k\u1ef3 thi."}):e>=1e3?s.map((function(e){return Object(Y.jsx)(Qa,{contest:e,forceUpdate:function(){return n(e.Id)}},e.Id)})):s.map((function(e){return Object(Y.jsx)($a,{contest:e,forceUpdate:function(){return n(e.Id)}},e.Id)}))},r.renderRunningContests=function(){var e=r.state.width,t=r.context.runningContests;if(0===t.length)return Object(Y.jsx)("p",{style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 k\u1ef3 thi n\xe0o \u0111ang di\u1ec5n ra."});var n=r.filterContests(t);return 0===n.length?Object(Y.jsx)("p",{style:{textAlign:"center"},children:"Kh\xf4ng t\xecm th\u1ea5y k\u1ef3 thi."}):e>=1e3?n.map((function(e){return Object(Y.jsx)(Ja,{contest:e},e.Id)})):n.map((function(e){return Object(Y.jsx)(Za,{contest:e},e.Id)}))},r.renderFinishedContests=function(){var e=r.state.width,t=r.context.endedContests;if(0===t.length)return Object(Y.jsx)("p",{style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 k\u1ef3 thi n\xe0o \u0111\xe3 k\u1ebft th\xfac."});var n=r.filterContests(t);return 0===n.length?Object(Y.jsx)("p",{style:{textAlign:"center"},children:"Kh\xf4ng t\xecm th\u1ea5y k\u1ef3 thi."}):e>=1e3?n.map((function(e){return Object(Y.jsx)(_a,{contest:e},e.Id)})):n.map((function(e){return Object(Y.jsx)(es,{contest:e},e.Id)}))},r.render=function(){var e=r.state,t=e.width,n=e.isLoading,a=e.filterStatus;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Home","/"],["Contests","/contests"]]}),Object(Y.jsx)(qa.Consumer,{children:function(e){return r.context=e,n?Object(Y.jsx)(Ft,{children:Object(Y.jsx)(ra.a,{children:Object(Y.jsx)(Qt,{})})}):Object(Y.jsxs)(Ft,{children:[t>=1e3&&Object(Y.jsx)(Gt.a,{className:"col-sm-1"}),Object(Y.jsxs)(Gt.a,{className:t>=1e3?"col-sm-10":"col-sm-12",children:[Object(Y.jsx)("br",{}),!a&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("h2",{style:{fontWeight:"600",textAlign:t>=1e3?"left":"center"},children:"K\u1ef3 thi \u0111ang di\u1ec5n ra"}),r.renderRunningContests(),Object(Y.jsx)("br",{}),Object(Y.jsx)("h2",{style:{fontWeight:"600",textAlign:t>=1e3?"left":"center"},children:"K\u1ef3 thi s\u1eafp t\u1edbi"}),r.renderUpcomingContests(),Object(Y.jsx)("br",{}),Object(Y.jsx)("h2",{style:{fontWeight:"600",textAlign:t>=1e3?"left":"center"},children:"K\u1ef3 thi \u0111\xe3 k\u1ebft th\xfac"}),r.renderFinishedContests()]}),"Running"===a&&r.renderRunningContests(),"Registration opened"===a&&r.renderUpcomingContests(),"Ended"===a&&r.renderFinishedContests()]}),t>=1e3&&Object(Y.jsx)(Gt.a,{className:"col-sm-1"})]})}})]})},r.state={isLoading:!0,searchQuery:"",filterStatus:"",filterType:"",width:window.innerWidth},r.context=qa,window.addEventListener("resize",r.onBrowserWidthChange),r}return n}(a.a.Component),ns=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getClarification",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.e,{id:t},null,!0).request();case 3:return n=e.sent,e.abrupt("return",n.clarifications.map((function(e){return new bt(e)})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addClarification",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r,a){var s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.e,{id:t},{Title:n,Question:r,IsPublic:a,Username:Object(B.a)("Username")},!0).request();case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()}]),e}(),rs=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getClarification",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.e,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.clarifications.map((function(e){return new bt(e)})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addClarification",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.e,{id:t},{Title:n,Answer:r,IsPublic:!0,IsAnswered:!0}).request();case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateClarification",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.f,{id:t,clarificationId:n},{Answer:r,IsPublic:a}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"deleteClarification",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.f,{id:t,clarificationId:n}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),as=a.a.createContext(),ss=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).stopFetching=function(){r.timer&&Object(Gn.a)(r.timer),r.timer=void 0},r.startFetching=function(){r.getClarification(),r.timer=Object(Gn.b)(Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getClarification();case 2:case"end":return e.stop()}}),e)}))),5e3)},r.componentDidMount=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.startFetching();case 2:case"end":return e.stop()}}),e)}))),r.notificationFooter=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.props.contest;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(er,{className:"bg-light-pink",onClick:r.clearError,children:"\u0110\xf3ng"}),"\xa0",!e&&Object(Y.jsx)(j.a,{to:"/contests/".concat(t.Id,"?view=clarification"),target:"_blank",children:Object(Y.jsx)(er,{className:"bg-light-blue",onClick:r.clearError,children:"Xem th\xf4ng b\xe1o \u2039M\u1edf trong tab m\u1edbi\u203a"})})]})},r.handleNotification=function(){var e=r.props.contest;if(!$t()(e.CurrentTime).isAfter(e.EndTime)){xe.read("clarification")||xe.write("clarification",{}),xe.read("readClarification")||xe.write("readClarification",{}),xe.read("showNotification")||xe.write("showNotification",!1);var t,n,a=xe.read("clarification"),s=xe.read("readClarification"),c=!1,i=r.state.clarification,o=Object($e.a)(i);try{for(o.s();!(n=o.n()).done;){var u=n.value;Object.prototype.hasOwnProperty.call(a,u.Id)?a[u.Id]!==u.IsAnswered&&(xe.write("showNotification",!0),u.Username===Object(B.a)("Username")?c=2:(c=1,t=void 0===t?u:-1),s[u.Id]=!1,a[u.Id]=u.IsAnswered):(xe.write("showNotification",!0),u.Username!==Object(B.a)("Username")&&(Object.prototype.hasOwnProperty.call(s,u.Id)||(t=void 0===t?u:-1,c=1)),a[u.Id]=u.IsAnswered)}}catch(l){o.e(l)}finally{o.f()}void 0!==t&&-1!==t&&r.setState({singleClarification:t}),c&&xe.read("showNotification")&&(1===c?r.setState({message:"C\xf3 th\xf4ng b\xe1o ho\u1eb7c c\xe2u h\u1ecfi m\u1edbi trong m\u1ee5c h\u1ecfi/\u0111\xe1p!",footer:r.notificationFooter()}):r.setState({message:"Admin v\u1eeba tr\u1ea3 l\u1eddi c\xe2u h\u1ecfi c\u1ee7a b\u1ea1n!",footer:r.notificationFooter()}),xe.write("showNotification",!1)),xe.write("clarification",a),xe.write("readClarification",s)}},r.readClarification=function(e){xe.read("readClarification")||xe.write("readClarification",{});var t=xe.read("readClarification");t[e]=!0,xe.write("readClarification",t)},r.getClarification=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n&&(r.setFetched=t,r.setClarification=n),a=r.props.contest,s=a.Id,!W.verifyModerator()){e.next=9;break}return e.next=6,rs.getClarification(s);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,ns.getClarification(s);case 11:e.t0=e.sent;case 12:return c=e.t0,r.setState({clarification:c}),r.handleNotification(),r.setFetched&&(r.setFetched(!1),r.setClarification(c),r.setFetched(!0)),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.addClarification=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i,o,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ContestId,a=t.Title,s=t.Question,c=t.Answer,!W.verifyModerator()){e.next=7;break}return e.next=4,rs.addClarification(n,a,c);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,ns.addClarification(n,a,s);case 9:e.t0=e.sent;case 10:i=e.t0,o=r.state.clarification,"string"===typeof i?r.setState({error:i}):(o.unshift(i.clarification),(u=xe.read("readClarification"))[i.clarification.Id]=i.clarification.IsAnswered,xe.write("readClarification",u),r.setState({clarification:o,message:W.verifyModerator()?"Th\xf4ng b\xe1o \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng":"C\xe2u h\u1ecfi \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng!",footer:void 0}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateClarification=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a,s,c,i,o,u,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.contestId,s=t.Id,c=t.IsPublic,(i=t.Answer)&&(o=xe.read("readClarification"),(u=xe.read("clarification"))[s]=!0,o[s]=!0,xe.write("readClarification",o),xe.write("clarification",u)),e.next=4,rs.updateClarification(a,s,i,c);case 4:(l=e.sent)?r.setState({error:l,footer:void 0}):n&&r.setState({message:"\u0110\xe3 c\u1eadp nh\u1eadt!",footer:void 0});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.clearError=function(){r.setState({error:"",message:"",footer:void 0})},r.state={clarification:[],singleClarification:void 0,error:"",message:"",timer:void 0,footer:void 0,notification:!1,getClarification:r.getClarification,addClarification:r.addClarification,updateClarification:r.updateClarification,startFetching:r.startFetching,stopFetching:r.stopFetching,readClarification:r.readClarification},r.timer=void 0,r}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){this.stopFetching()}},{key:"render",value:function(){var e=this.state,t=e.singleClarification,n=e.message,r=e.error,a=e.footer,s=this.props.children;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(as.Provider,{value:this.state,children:s}),(r.length>0||n.length>0)&&(t?Object(Y.jsx)(rr,{title:"H\u1ecfi/\u0111\xe1p",show:!0,closebutton:1,onHide:this.clearError,error:r?1:0,footer:this.notificationFooter(!0),children:Object(Y.jsxs)("div",{className:"m-3",children:[Object(Y.jsx)("strong",{children:t.Title}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("span",{children:[t.Username,","," ",$t()(t.createdAt).format("hh:mm DD/MM/YYYY")]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),t.Question?Object(Y.jsxs)("div",{children:[Object(Y.jsx)("em",{children:"C\xe2u h\u1ecfi:"}),Object(Y.jsx)(vr,{value:t.Question||""}),t.Answer&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("em",{children:"Tr\u1ea3 l\u1eddi:"}),Object(Y.jsx)(vr,{value:t.Answer})]})||Object(Y.jsx)("em",{children:"C\xe2u h\u1ecfi ch\u01b0a \u0111\u01b0\u1ee3c tr\u1ea3 l\u1eddi."})]}):Object(Y.jsxs)("div",{children:[Object(Y.jsx)("em",{children:"N\u1ed9i dung:"}),Object(Y.jsx)(vr,{value:t.Answer||""})]})]})}):Object(Y.jsx)(La,{title:"H\u1ecfi/\u0111\xe1p",clearError:this.clearError,message:n,error:r,footer:a}))]})}}]),n}(a.a.Component),cs=n(88),is=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).calculateJoinTime=function(){var e=r.props.contest;return"HIRING"===e.ContestType.Name?$t()(e.ParticipateTime):$t()(e.StartTime)},r.startCountDown=function(){var e=r.props.contest,t=r.calculateJoinTime();r.countDownInterval=setInterval((function(){var n=$t()(),a=$t.a.duration(n.diff(t)).asSeconds();r.setState((function(){return{countDown:a/(60*e.Duration)*100,leftTime:Ya(Math.round(a)),remainingTime:Ya(Math.round(60*e.Duration-a))}}))}),1e3)},r.componentDidMount=function(){var e=r.props.contest;"Running"===e.ContestStatus?r.startCountDown():r.setState((function(){return{countDown:100,leftTime:Ya(60*e.Duration),remainingTime:"\u0111\xe3 h\u1ebft gi\u1edd"}}))},r.componentDidUpdate=function(){var e=r.props.contest;void 0!==r.countDownInterval&&(60*parseInt(e.Duration,10)-$t.a.duration($t()().diff(r.calculateJoinTime())).asSeconds()<=0&&(clearInterval(r.countDownInterval),alert("K\u1ef3 thi n\xe0y \u0111\xe3 k\u1ebft th\xfac."),window.location.replace("/contests/".concat(e.Id))))},r.componentWillUnmount=function(){void 0!==r.countDownInterval&&clearInterval(r.countDownInterval)},r.render=function(){var e=r.props.contest,t=r.state,n=t.leftTime,a=t.countDown,s=t.remainingTime;return Object(Y.jsx)(ga.Consumer,{children:function(t){var c=t.getContestTypeName;return r.getContestTypeName=c,Object(Y.jsx)(Gt.a,{className:"col-md-12 mb-4",children:Object(Y.jsx)(Xt.a,{className:"w-100 shadow-sm",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)(Yn.a,{style:{textAlign:"center"},children:Object(Y.jsxs)(Gt.a,{children:[Object(Y.jsx)("h1",{style:{marginBottom:"10px"},children:e.Name}),Object(Y.jsx)(cs.a,{variant:"success",animated:!0,now:a})]})}),Object(Y.jsxs)(Yn.a,{style:{marginTop:"10px"},children:[Object(Y.jsxs)(Gt.a,{children:["Th\u1eddi gian \u0111\xe3 qua:",Object(Y.jsx)("b",{children:n})]}),Object(Y.jsxs)(Gt.a,{style:{textAlign:"right"},children:["Th\u1eddi gian c\xf2n l\u1ea1i:",Object(Y.jsx)("b",{children:s})]})]})]})})})}})},r.state={countDown:0,leftTime:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"}),remainingTime:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"})},r.countDownInterval=void 0,r}return n}(a.a.Component),os=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,(n=!(i.length>1&&void 0!==i[1])||i[1])&&r.setState((function(){return{isLoading:!0}})),e.next=5,Va.getContestSubmissions(r.props.contestId,t);case 5:a=e.sent,s=a.submissions,c=a.totalSubmissions,r.setState((function(){return{submissions:s,totalSubmissions:c,currentPage:t}})),n&&r.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{linkToDetail:"contests/".concat(e.contestId,"/submissions/")}),r}return n}(Jr),us=function(e){var t=e.contestId;return Object(Y.jsx)("div",{className:"p-2",children:Object(Y.jsx)(os,{contestId:t,showProblemName:!0,autoRefresh:!0})})},ls=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).toggleAdmin=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.isAdmin,e.next=3,r.setState({isAdmin:!t});case 3:return e.next=5,r.setState({isRefreshing:!0});case 5:return e.next=7,r.setState({isRefreshing:!1});case 7:case"end":return e.stop()}}),e)}))),r.state={isAdmin:!1,isRefreshing:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isAdmin,r=t.isRefreshing,a=this.props,s=a.IOI,c=a.ACM,i=a.contestId,o=a.problems,u=a.service;return Object(Y.jsx)(K.Consumer,{children:function(t){var a=t.verifyModerator;return Object(Y.jsxs)("div",{style:{width:"100%"},children:[a()&&Object(Y.jsx)(sr,{label:"Admin",className:"green",name:"isAdmin",labelClassName:"font-weight-bold",checked:n,onChange:e.toggleAdmin}),Object(Y.jsxs)("div",{className:"border corner p-1 mb-1 float-right",children:[Object(Y.jsx)("span",{className:"first-solved corner mr-1",children:"\xa0\xa0\xa0\xa0\xa0"}),"First to solve problem",Object(Y.jsx)("span",{className:"solved corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Solved problem",Object(Y.jsx)("span",{className:"wrong-answer corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Attempted problem",Object(Y.jsx)("span",{className:"pending corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Pending problem"]}),r&&Object(Y.jsx)("div",{})||Object(Y.jsxs)(zt,{style:{width:"100%",paddingTop:"1.0rem"},children:[s&&Object(Y.jsx)(An,{service:u,contestId:i,isAdmin:n}),c&&Object(Y.jsx)(Un,{problems:o})]})]})}})}}]),n}(a.a.Component);ls.defaultProps={IOI:!1,ACM:!1,contestId:0,problems:[],service:void 0};var ds=ls,bs=function(e){var t=e.contestId;return Object(Y.jsx)("div",{className:"p-2",children:Object(Y.jsx)(ds,{IOI:!0,contestId:t,service:Va})})},js=function(e){var t=e.problems,n=t.reduce((function(e,t){return e+t.BestSubmission.Score}),0),r=parseInt(100*n,10)/100,a=t.filter((function(e){return"Accepted"===e.BestSubmission.Verdict})).length;return Object(Y.jsx)("div",{children:Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsx)("tr",{children:Object(Y.jsx)("th",{className:"text-center",style:{background:"#3498db"},children:"K\u1ebft qu\u1ea3"})})}),Object(Y.jsx)("tbody",{children:Object(Y.jsx)("tr",{children:Object(Y.jsxs)("td",{children:[Object(Y.jsxs)("div",{className:"p-2",children:[Object(Y.jsx)("strong",{children:" S\u1ed1 \u0111i\u1ec3m \u0111\u1ea1t \u0111\u01b0\u1ee3c: "}),r," ","\u0111i\u1ec3m"]}),Object(Y.jsxs)("div",{className:"p-2",children:[Object(Y.jsx)("strong",{children:" S\u1ed1 b\xe0i \u0111\xe3 gi\u1ea3i: "}),a,"/",t.length]})]})})})]})})},hs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.contestId,e.prev=1,n=new V.a("get",z.v,{id:t},null,!0),e.next=5,n.request();case 5:for(a=e.sent.Problems.sort((function(e,t){return e.Order-t.Order})),s=[],c=0;c<a.length;++c)s.push(-1);r.setState((function(){return{problems:a,isFetched:!0}})),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),r.result=function(e){var t=parseInt(100*e.Score,10)/100;return"Accepted"===e.Verdict?Object(Y.jsx)("td",{className:"green text-center",children:Object(Y.jsxs)("strong",{children:[t," ",Object(Y.jsx)("span",{className:"far fa-check-circle"})]})}):t>0?Object(Y.jsx)("td",{className:"text-warning text-center",children:Object(Y.jsxs)("strong",{children:[t," ",Object(Y.jsx)("span",{className:"far fa-check-circle"})]})}):0===t?Object(Y.jsx)("td",{className:"text-danger text-center",children:Object(Y.jsxs)("strong",{children:[t," ",Object(Y.jsx)("span",{className:"far fa-times-circle"})]})}):void 0},r.render=function(){var e=r.state,t=e.isFetched,n=e.problems,a=r.props.contestId;return Object(Y.jsxs)("div",{className:"p-2",children:[!t&&Object(Y.jsx)(Qt,{}),t&&Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:9,className:"pl-0",children:Object(Y.jsxs)("table",{className:"basic-component-table bg-white",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"5%"},children:"#"}),Object(Y.jsx)("th",{style:{width:"80%"},children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"K\u1ebft qu\u1ea3"})]})}),Object(Y.jsx)("tbody",{children:n.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"py-3",children:Object(Y.jsx)(j.a,{to:"/contests/".concat(a,"/problems/").concat(e.Id),children:String.fromCharCode(e.Rank+64)})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:"/contests/".concat(a,"/problems/").concat(e.Id),children:e.Name})}),r.result(e.BestSubmission)]},e.Id)}))})]})}),Object(Y.jsx)(Gt.a,{md:3,className:"pr-0",children:Object(Y.jsx)(js,{problems:n})})]})]})},r.state={isFetched:!1,problems:[]},r}return n}(a.a.Component),ps=new me;ps.import(Cr);var ms=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state=Object(Re.a)({},r.state),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.problem,n=this.state.language;return Object(Y.jsx)(Oe.Consumer,{children:function(r){var a=r.language;e.languageContext=r,ps.use(a);var s=t.Statements[n];return Object(Y.jsxs)("div",{className:"p-2",children:[Object(Y.jsx)(yr,{languages:t.Statements,activeLanguage:n,setLanguage:e.setLanguage}),Object(Y.jsxs)("button",{onClick:function(){window.location.hash="submit-code"},className:"basic-component-button bg-green m-auto",type:"button",style:{fontSize:"12px"},children:["Submit"," ",Object(Y.jsx)("span",{className:"fas fa-paper-plane"})]}),Object(Y.jsx)(zt,{children:Object(Y.jsx)("h2",{children:Object(Y.jsx)("strong",{children:t.Name})})}),t.Statements.length>0&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(vr,{value:s.Statement}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:ps.get("Input format")})}),Object(Y.jsx)(vr,{value:s.InputDescription}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:ps.get("Output format")})}),Object(Y.jsx)(vr,{value:s.OutputDescription}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:ps.get("Sample testcases")})}),t.SampleTests.map((function(e,t){return Object(Y.jsx)(Nr,{testcase:e,index:t},e.Id)})),s.Explanation&&Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:ps.get("Sample testcases explanation")})}),Object(Y.jsx)(vr,{value:s.Explanation})]}),Object(Y.jsx)("h3",{id:"submit-code",children:Object(Y.jsx)("strong",{children:"N\u1ed9p b\xe0i"})}),Object(Y.jsx)(lr,{problem:t})]})}})}}]),n}(gr),fs=new me;fs.import(Cr);var xs=function(e){var t=e.problem,n=t.TimeLimit,r=t.MemoryLimit,a=t.Resource,s=t.Dataset,c=t.Difficulty,i=mn()({"text-warning":"Medium"===c,"text-success":["Easy","Very Easy"].includes(c),"text-danger":"Hard"===c,"light-blue":"Secret"===c});return Object(Y.jsx)(Oe.Consumer,{children:function(e){var t=e.language;return fs.use(t),Object(Y.jsx)(xn,{title:fs.get("Information"),className:"mb-4",children:Object(Y.jsxs)("ul",{className:"mt-2",children:[Object(Y.jsxs)("li",{children:[fs.get("Time Limit"),":"," ",Object(Y.jsxs)("strong",{children:[n,"ms"]})]}),Object(Y.jsxs)("li",{children:[fs.get("Memory Limit"),":"," ",Object(Y.jsxs)("strong",{children:[r,"MB"]})]}),Object(Y.jsxs)("li",{children:[fs.get("Difficulty"),":"," ",Object(Y.jsx)("strong",{children:Object(Y.jsx)("span",{className:i,children:fs.get(c)})})]}),Object(Y.jsxs)("li",{children:[fs.get("Resource"),":"," ",Object(Y.jsx)("strong",{children:a})]}),Object(Y.jsxs)("li",{children:[fs.get("Dataset"),":"," ",Object(Y.jsx)("strong",{children:s})]})]})})}})},Os=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,(n=!(i.length>1&&void 0!==i[1])||i[1])&&r.setState((function(){return{isLoading:!0}})),e.next=5,Va.getProblemContestSubmissions(r.props.contestId,r.props.problemId,t);case 5:a=e.sent,s=a.submissions,c=a.totalSubmissions,r.setState((function(){return{submissions:s,totalSubmissions:c,currentPage:t}})),n&&r.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{linkToDetail:"contests/".concat(e.contestId,"/problems/").concat(e.problemId,"/submissions/")}),r}return n}(Jr),vs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.context.getContestProblem,n=r.props.match,e.prev=2,e.next=5,t(n.params.id);case 5:if(!(a=e.sent)){e.next=10;break}r.setState((function(){return{problem:a,isProblemFetched:!0}})),e.next=11;break;case 10:throw new Error("");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),je.a.push("/contests/".concat(n.params.contestId)),r.setState((function(){return{hasError:!0,isProblemFetched:!0}}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),r.render=function(){return Object(Y.jsx)(za.Consumer,{children:function(e){r.context=e;var t=r.state,n=t.isProblemFetched,a=t.hasError,s=t.problem,c=r.props.match;return n?a?Object(Y.jsx)(hn,{}):n&&!a?Object(Y.jsx)("div",{className:"container p-0",children:Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Et,{className:"pl-0",md:9,children:Object(Y.jsx)(Xt.a,{className:"shadow-sm corner",children:Object(Y.jsxs)(kn,{controlKey:"problem_view",children:[Object(Y.jsx)(ms,{route:"statement",title:"\u0110\u1ec1 b\xe0i",problem:s}),Object(Y.jsx)("div",{route:"submissions",title:"B\xe0i n\u1ed9p c\u1ee7a t\xf4i",children:Object(Y.jsx)(Os,{problemId:s.Id,contestId:c.params.contestId})})]})})}),Object(Y.jsx)(Mt,{className:"pr-0",md:3,children:Object(Y.jsx)(xs,{problem:s})})]})}):null:Object(Y.jsx)(Qt,{})}})},r.state={isProblemFetched:!1,hasError:!1,problem:void 0},r.context=za,r}return n}(a.a.Component),gs=function(e){return new bt({ContestId:e,UserId:Object(B.a)("Id"),Username:Object(B.a)("Username"),Title:"",Question:"",Answer:"",IsAnswered:!1,IsPublic:!1,createdAt:(new Date).getTime()})},ws=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(e){var t=e.target.value,n=e.target.name,a=r.state.clarification;a[n]=t,r.setState({clarification:a})},r.onSave=function(){var e=r.state.clarification,t=r.props.contestId;""===e.Title.trim()||!W.verifyModerator()&&""===e.Question.trim()||(r.setState({isSaving:!0}),r.clarificationContext.addClarification(e),r.setState({isSaving:!1,showModal:!1,clarification:Te.a.cloneDeep(gs(t))}),r.clarificationContext.startFetching())},r.openModal=function(){var e=r.props.contestId;r.clarificationContext.stopFetching(),r.setState({showModal:!0,clarification:Te.a.cloneDeep(gs(e))})},r.closeModal=function(){var e=r.props.contestId;r.clarificationContext.startFetching(),r.setState({showModal:!1,clarification:Te.a.cloneDeep(gs(e))})},r.state={clarification:Te.a.cloneDeep(gs(e.contestId)),isSaving:!1,showModal:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.showModal,r=t.isSaving,a=t.clarification;return Object(Y.jsx)(as.Consumer,{children:function(t){return e.clarificationContext=t,Object(Y.jsxs)("div",{children:[Object(Y.jsx)(er,{className:"bg-light-blue mb-2 p-2",onClick:e.openModal,children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ","\u0110\u0103ng c\xe2u h\u1ecfi"]})}),Object(Y.jsx)(rr,{title:"\u0110\u0103ng c\xe2u h\u1ecfi",show:n,onHide:e.closeModal,closebutton:!0,footer:Object(Y.jsxs)("div",{className:"py-2 px-3 d-flex justify-content-between w-100",children:[Object(Y.jsx)("em",{children:"Admin s\u1ebd tr\u1ea3 l\u1eddi th\u1eafc m\u1eafc c\u1ee7a b\u1ea1n trong v\xf2ng v\xe0i ph\xfat."}),Object(Y.jsx)("div",{className:"float-right",children:Object(Y.jsx)(er,{className:"bg-light-blue",onClick:e.onSave,disabled:r,children:r&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{style:{fontSize:"16px"},children:" \u0110\u0103ng c\xe2u h\u1ecfi"})})})]}),children:Object(Y.jsx)(Xt.a,{classNam:"border corner",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Ti\xeau \u0111\u1ec1 c\xe2u h\u1ecfi"})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Title",value:a.Title,onChange:e.onChange})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"N\u1ed9i dung c\xe2u h\u1ecfi"})}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Question",value:a.Question,onChange:e.onChange})]})]})})})]})}})}}]),n}(a.a.Component),ys=function(e){var t=e.width,n=e.className,r=e.children;return Object(Y.jsx)("table",{className:"basic-component-table ".concat(n),style:t?{width:t.toString()}:null,children:r})};ys.defaultProps={width:null,className:""};var ks=ys,Cs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).openModal=function(){var e=r.props.clarification;r.clarificationContext.stopFetching(),r.clarificationContext.readClarification(e.Id),r.setState({showModal:!0})},r.closeModal=function(){r.clarificationContext.startFetching(),r.setState({showModal:!1})},r.state={showModal:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.showModal,n=this.props.clarification,r=n.Id,a=n.Username,s=n.Title,c=n.Question,i=n.Answer,o=n.createdAt,u=n.IsAnswered;return Object(Y.jsx)(as.Consumer,{children:function(n){return e.clarificationContext=n,Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("tr",{className:"single-clarification",onClick:e.openModal,children:[Object(Y.jsx)("td",{style:{textAlign:"left"},children:a}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:$t()(o).format("hh:mm")}),Object(Y.jsx)("td",{style:{textAlign:"left"},children:!0===xe.read("readClarification")[r]&&s||Object(Y.jsx)("strong",{children:s})}),Object(Y.jsx)("td",{className:"text-center",children:u&&Object(Y.jsx)("span",{className:"fas fa-check-circle green"})})]}),Object(Y.jsx)(rr,{title:"H\u1ecfi \u0111\xe1p",show:t,onHide:e.closeModal,closebutton:1,children:Object(Y.jsxs)("div",{className:"m-3",children:[Object(Y.jsx)("strong",{children:s}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("span",{children:[a,","," ",$t()(o).format("hh:mm DD/MM/YYYY")]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("em",{children:"N\u1ed9i dung:"}),Object(Y.jsx)(vr,{value:c}),i&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("em",{children:"Tr\u1ea3 l\u1eddi:"}),Object(Y.jsx)(vr,{value:i})]})||Object(Y.jsx)("em",{children:"C\xe2u h\u1ecfi ch\u01b0a \u0111\u01b0\u1ee3c tr\u1ea3 l\u1eddi."})]})})]})}})}}]),n}(a.a.Component),Ss=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).openModal=function(){var e=r.props.clarification;r.clarificationContext.stopFetching(),r.clarificationContext.readClarification(e.Id),r.setState({showModal:!0})},r.closeModal=function(){r.clarificationContext.startFetching(),r.setState({showModal:!1})},r.state={showModal:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.clarification,n=t.Id,r=t.Username,a=t.Title,s=t.Answer,c=t.createdAt,i=this.state.showModal;return Object(Y.jsx)(as.Consumer,{children:function(t){return e.clarificationContext=t,Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("tr",{className:"single-clarification",onClick:e.openModal,children:[Object(Y.jsx)("td",{style:{textAlign:"left"},children:r}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:$t()(c).format("hh:mm")}),Object(Y.jsx)("td",{style:{textAlign:"left"},children:!0===xe.read("readClarification")[n]&&a||Object(Y.jsx)("strong",{children:a})}),Object(Y.jsx)("td",{})]}),Object(Y.jsx)(rr,{title:"H\u1ecfi \u0111\xe1p",show:i,onHide:e.closeModal,closebutton:1,children:Object(Y.jsxs)("div",{className:"mx-3 my-2",children:[Object(Y.jsx)("strong",{children:a}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("span",{children:[r,",",$t()(c).format("hh:mm DD/MM/YYYY")]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("em",{children:"N\u1ed9i dung:"}),Object(Y.jsx)(vr,{value:s})]})})]})}})}}]),n}(a.a.Component),Is=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value;"boolean"===typeof n&&(n=!0===n?"1":"0");var a=r.state.clarification;a[t]=n,r.setState({clarification:a})},r.onSave=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.clarification,r.setState({isSaving:!0}),r.clarificationContext.updateClarification(t,!0),r.setState({isSaving:!1}),r.clarificationContext.startFetching();case 5:case"end":return e.stop()}}),e)}))),r.openModal=function(){var e=r.props.clarification;r.clarificationContext.stopFetching(),r.clarificationContext.readClarification(e.Id),r.setState({showModal:!0})},r.closeModal=function(){r.clarificationContext.startFetching(),r.setState({showModal:!1})},r.state={showModal:!1,clarification:Te.a.cloneDeep(r.props.clarification),isSaving:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.clarification,r=t.showModal,a=t.isSaving,s=n.Id,c=n.Username,i=n.Title,o=n.Question,u=n.Answer,l=n.IsPublic,d=n.createdAt,b=n.IsAnswered;return Object(Y.jsx)(as.Consumer,{children:function(t){return e.clarificationContext=t,Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("tr",{className:"single-clarification",onClick:e.openModal,children:[Object(Y.jsx)("td",{style:{textAlign:"left"},children:c}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:$t()(d).format("hh:mm")}),Object(Y.jsx)("td",{style:{textAlign:"left"},children:!0===xe.read("readClarification")[s]&&i||Object(Y.jsx)("strong",{children:i})}),Object(Y.jsx)("td",{className:"text-center",children:b&&Object(Y.jsx)("span",{className:"fas fa-check-circle green"})})]}),Object(Y.jsx)(rr,{title:"H\u1ecfi \u0111\xe1p",show:r,onHide:e.closeModal,closebutton:1,children:Object(Y.jsxs)("div",{className:"m-3",children:[Object(Y.jsx)("strong",{children:i}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("span",{children:[c,","," ",$t()(d).format("hh:mm DD/MM/YYYY")]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("em",{children:"N\u1ed9i dung:"}),Object(Y.jsx)(vr,{value:o}),Object(Y.jsx)("em",{children:"Tr\u1ea3 l\u1eddi:"}),e.props.clarification.Answer?Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(vr,{value:u})}):Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Answer",value:u,onChange:e.onChange}),Object(Y.jsxs)("div",{className:"float-right my-2",children:[Object(Y.jsx)(sr,{label:"C\xf4ng khai",name:"IsPublic",className:"green",labelClassName:"font-weight-bold",checked:1==l,onChange:e.onChange}),"\xa0\xa0",Object(Y.jsx)(er,{className:"bg-light-blue",onClick:e.onSave,disabled:a,children:a&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{style:{fontSize:"16px"},children:" L\u01b0u thay \u0111\u1ed5i"})})]})]})})]})}})}}]),n}(a.a.Component),Ns=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).setFetched=function(e){r.setState({fetched:e})},r.setClarification=function(e){r.setState({clarification:e})},r.state={fetched:!1,clarification:[]},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clarificationContext.getClarification(this.setFetched,this.setClarification);case 2:t=e.sent,this.setState({clarification:t,fetched:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.clarification;return Object(Y.jsx)(as.Consumer,{children:function(t){return e.clarificationContext=t,n?Object(Y.jsx)("div",{children:Object(Y.jsxs)(ks,{children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{textAlign:"left",width:"15%"},children:"Ng\u01b0\u1eddi g\u1eedi"}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"10%"},children:"Th\u1eddi gian"}),Object(Y.jsx)("th",{style:{textAlign:"left",width:"65%"},children:"Ti\xeau \u0111\u1ec1"}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"10%"},children:"\u0110\xe3 tr\u1ea3 l\u1eddi"})]})}),Object(Y.jsx)("tbody",{children:r.map((function(e){var t=W.verifyModerator()?Object(Y.jsx)(Is,{clarification:e},"cla-".concat(e.Id)):Object(Y.jsx)(Cs,{clarification:e},"cla-".concat(e.Id));return e.Question?t:Object(Y.jsx)(Ss,{clarification:e},"cla-".concat(e.Id))}))})]})}):Object(Y.jsx)(Qt,{})}})}}]),n}(a.a.Component),Ps=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(as.Consumer,{children:function(t){return e.clarificationContext=t,Object(Y.jsxs)("div",{children:[Object(Y.jsx)(er,{className:"bg-light-blue mb-2 p-2",onClick:e.openModal,children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ","\u0110\u0103ng th\xf4ng b\xe1o"]})}),Object(Y.jsx)(rr,{title:"\u0110\u0103ng th\xf4ng b\xe1o",show:e.state.showModal,onHide:e.closeModal,closebutton:1,footer:Object(Y.jsx)("div",{className:"py-2 px-3",children:Object(Y.jsx)("div",{className:"float-right",children:Object(Y.jsx)(er,{className:"bg-light-blue",onClick:e.onSave,disabled:e.state.isSaving,children:e.state.isSaving&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{style:{fontSize:"16px"},children:" \u0110\u0103ng th\xf4ng b\xe1o"})})})}),children:Object(Y.jsx)(Xt.a,{className:"border corner",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Ti\xeau \u0111\u1ec1"})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Title",value:e.state.clarification.Title,onChange:e.onChange})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Th\xf4ng b\xe1o"})}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Answer",value:e.state.clarification.Answer,onChange:e.onChange})]})]})})})]})}})}}]),n}(ws),Ts=function(e){var t=Object(r.useContext)(K).verifyModerator;return Object(Y.jsxs)("div",{children:[t()?Object(Y.jsx)(Ps,Object(Re.a)({},e)):Object(Y.jsx)(ws,Object(Re.a)({},e)),Object(Y.jsx)(Ns,Object(Re.a)({},e))]})},Ls=function(e){var t=e.validViews,n=e.contestId;return Object(Y.jsxs)(kn,{controlKey:"view",children:[t.includes("problems")&&Object(Y.jsx)(hs,{route:"problems",title:"\u0110\u1ec1 b\xe0i",contestId:n}),t.includes("submissions")&&Object(Y.jsx)(us,{route:"submissions",title:"B\xe0i n\u1ed9p c\u1ee7a t\xf4i",contestId:n}),t.includes("scoreboard")&&Object(Y.jsx)(bs,{route:"scoreboard",title:"B\u1ea3ng x\u1ebfp h\u1ea1ng",contestId:n}),t.includes("clarification")&&Object(Y.jsx)(Ts,Object(Re.a)(Object(Re.a)({},e),{},{route:"clarification",title:"H\u1ecfi/\u0110\xe1p",contestId:n}))]})},As=function(e){return Object(Y.jsx)(Gt.a,{md:"12",children:Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/contests/:contestId",component:function(){return Object(Y.jsx)(Ls,Object(Re.a)({},e))}}),Object(Y.jsx)(d.Route,{exact:!0,path:"/contests/:contestId/problems/:id",component:vs})]})})},Rs=new me;Rs.import(Cr);var Ds=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state=Object(Re.a)({},r.state),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.problem,n=this.state.language;return Object(Y.jsx)(Oe.Consumer,{children:function(r){e.languageContext=r;var a=t.Statements[n];Rs.use(t.Statements[n].Language.ISOCode.toLowerCase());var s=mn()({"text-warning":"Medium"===t.Difficulty,"text-success":["Easy","Very Easy","Very easy"].includes(t.Difficulty),"text-danger":"Hard"===t.Difficulty,"light-blue":"Secret"===t.Difficulty});return Object(Y.jsxs)("div",{style:{marginTop:"-0.5rem"},children:[Object(Y.jsx)(yr,{languages:t.Statements.map((function(e){return e.Language})),activeLanguage:n,setLanguage:function(){var t=Object(M.a)(E.a.mark((function t(n,r){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.setLanguage(r);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}),Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Rs.get("Difficulty"),":\xa0"]}),Object(Y.jsx)("span",{className:s,children:Rs.get(t.Difficulty)})]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Rs.get("resource"),":\xa0"]}),t.Resource]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Rs.get("time limit"),":\xa0"]}),t.TimeLimit,"ms"]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Rs.get("memory limit"),":\xa0"]}),t.MemoryLimit,"MB"]}),Object(Y.jsx)(zt,{children:Object(Y.jsx)("h2",{children:Object(Y.jsx)("strong",{children:t.Name})})}),t.Statements.length>0&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(vr,{value:a.Statement}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Rs.get("Input format")})}),Object(Y.jsx)(vr,{value:a.InputDescription}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Rs.get("Output format")})}),Object(Y.jsx)(vr,{value:a.OutputDescription}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Rs.get("Sample testcases")})}),t.SampleTests.map((function(e,t){return Object(Y.jsx)(Nr,{testcase:e,index:t},e.Id)})),a.Explanation&&Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Rs.get("Sample testcases explanation")})}),Object(Y.jsx)(vr,{value:a.Explanation})]})]})}})}}]),n}(gr),Us=function(e){var t,n=e.contest,a=e.contestId,s=Object(r.useState)(0),c=Object(b.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)(Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"})),l=Object(b.a)(u,2),d=l[0],j=l[1],h=Object(r.useState)(Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"})),p=Object(b.a)(h,2),m=p[0],f=p[1],x=function(){return"HIRING"===n.ContestType.Name?$t()(n.ParticipateTime):$t()(n.StartTime)};return Object(r.useEffect)((function(){return"Running"===n.ContestStatus?function(){var e=x();t=setInterval((function(){var t=$t()(),r=$t.a.duration(t.diff(e)).asSeconds();o(r/(60*n.Duration)*100),j(Ya(Math.round(r))),f(Ya(Math.round(60*n.Duration-r)))}),1e3)}():(o(100),j(Ya(60*n.Duration)),f("\u0111\xe3 h\u1ebft gi\u1edd")),function(){void 0!==t&&clearInterval(t)}}),[]),Object(r.useEffect)((function(){void 0!==t&&(60*parseInt(n.Duration,10)-$t.a.duration($t()().diff(x())).asSeconds()<=0&&(clearInterval(t),alert("K\u1ef3 thi n\xe0y \u0111\xe3 k\u1ebft th\xfac."),window.location.replace("/contests/".concat(n.Id))))}),[t]),Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(er,{className:"back-button",type:"button",onClick:function(){je.a.push("/contests/".concat(a))},children:[Object(Y.jsx)("i",{className:"fas fa-chevron-left"})," ","Back"]}),Object(Y.jsx)("p",{className:"title",children:n.Name}),Object(Y.jsxs)("div",{className:"during-time",children:[$t()(Number(n.StartTime)).format("DD/MM/YYYY - HH:mm")," ",$t()(Number(n.EndTime)).format("DD/MM/YYYY - HH:mm")]}),Object(Y.jsxs)("div",{className:"d-flex justify-content-between progress-bar-contest",children:[Object(Y.jsxs)("div",{style:{textAlign:"left"},children:["\u0110\xe3 qua:"," ",Object(Y.jsx)("strong",{children:d})]}),Object(Y.jsx)("div",{className:"flex-fill mx-2",children:Object(Y.jsx)(cs.a,{variant:"success",animated:!0,now:i})}),Object(Y.jsxs)("div",{style:{textAlign:"right"},children:["C\xf2n l\u1ea1i:"," ",Object(Y.jsx)("strong",{children:m})]})]}),Object(Y.jsxs)("div",{className:"progress-bar-contest-mini",children:[Object(Y.jsx)("div",{className:"flex-fill mx-2",children:Object(Y.jsx)(cs.a,{variant:"success",animated:!0,now:i})}),Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsxs)("div",{style:{textAlign:"left"},children:["\u0110\xe3 qua:",Object(Y.jsx)("strong",{children:d})]}),Object(Y.jsxs)("div",{style:{textAlign:"right"},children:["C\xf2n l\u1ea1i:",Object(Y.jsx)("strong",{children:m})]})]})]})]})},Es=new me;Es.import(Cr);var Ms=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onViewSettingChange=function(e){var t=r.state.viewSetting;t[e]=!t[e],xe.write("view-setting",t),r.setState(t)},r.onFullScreenChange=function(){r.setState((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{fullScreen:!e.fullScreen})}))},r.render=function(){return Object(Y.jsx)(Oe.Consumer,{children:function(e){return r.languageContext=e,Es.use("vi"),Object(Y.jsx)(za.Consumer,{children:function(e){r.context=e;var t=r.state,n=t.fetched,a=t.problem,s=t.fullScreen,c=t.orientation,i=r.props,o=i.nav,u=i.contest,l=i.contestId;return n?a?Object(Y.jsxs)("div",{className:"problem-page-wrapper ".concat("vertical"===c?"fit-height":""),children:[Object(Y.jsx)("div",{className:"top-bar",children:Object(Y.jsx)(ye,{nav:o})}),Object(Y.jsxs)("div",{className:"content-problem",children:[Object(Y.jsx)("div",{className:"contest-bar",children:Object(Y.jsx)(Us,{contest:u,contestId:l})}),Object(Y.jsxs)(Bt,{style:{height:"calc(100% - 110px"},orientation:c,children:[s?null:Object(Y.jsxs)(qn,{controlKey:"problem_view",children:[Object(Y.jsx)(Ds,{route:"statement",title:Es.get("statement"),problem:a}),Object(Y.jsx)("div",{route:"submissions",title:Es.get("submissions"),children:Object(Y.jsx)(Os,{problemId:a.Id,contestId:l})})]}),Object(Y.jsx)(lr,{problem:a,allowFullScreen:!0,fullScreening:s,onFullScreen:r.onFullScreenChange})]})]})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})}})}})},r.state={problem:void 0,fetched:!1,fullScreen:!1,orientation:"vertical",countDown:0,leftTime:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"}),remainingTime:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"})},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.problemId,r=t.contestId,this.setState({fetched:!1}),a=this.context.getContestProblem,e.prev=3,e.next=6,a(n);case 6:if(!(s=e.sent)){e.next=11;break}this.setState((function(){return{problem:s}})),e.next=12;break;case 11:throw new Error("");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),je.a.push("/contests/".concat(r));case 17:this.setState({fetched:!0}),document.getElementsByClassName("footer")[0].style.display="none",this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this)),c=this.state.problem,i=me.getLanguageName(c.Statements[0].Language.Id).toLowerCase(),this.languageContext.setLanguage(i),Es.use(c.Statements.length>1?i:"vi");case 25:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){document.getElementsByClassName("footer")[0].style.display="flex",document.getElementById("root").style.overflow="auto",window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"updateDimensions",value:function(){window.innerWidth<800?(this.setState({orientation:"horizontal"}),document.getElementById("root").style.overflow="auto"):(this.setState({orientation:"vertical"}),document.getElementById("root").style.overflow="hidden")}}]),n}(a.a.Component);Ms.defaultProps={nav:[]};var Bs=Ms,Fs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).startJoinContest=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new V.a("put",z.Q,{id:r.props.match.params.contestId},null,!0),e.next=3,t.request();case 3:return e.next=5,r.context.startFetchContest(r.props.match.params.contestId);case 5:case"end":return e.stop()}}),e)}))),r.generateValidViews=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],"Running"!==r.context.contest.ContestStatus||!r.context.contest.RegistrationStatus||"Joined"!==r.context.contest.RegistrationStatus&&"Ended"!==r.context.contest.RegistrationStatus||(t.push("problems"),t.push("submissions"),"HIRING"!==r.context.contest.ContestType.Name&&t.push("clarification")),r.context.contest.RegistrationStatus&&"Ended"===r.context.contest.RegistrationStatus&&t.push("submissions"),"HIRING"!==r.context.contest.ContestType.Name&&t.push("scoreboard"),r.authContext.verifyModerator()&&"HIRING"!==r.context.contest.ContestType.Name&&t.push("clarification"),e.next=7,r.setState((function(){return{views:t}}));case 7:if(0!==t.length){e.next=9;break}throw new Error("Invalid access");case 9:case"end":return e.stop()}}),e)}))),r.checkValidViews=function(){ze.a.getQueryString("view")||ze.a.setQueryString("view",r.state.views[0])},r.generateNavBar=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[["Home","/"],["Contests","/contests"],[r.context.contest.Name,"/contests/".concat(r.context.contest.Id)]],(a=t.split("/")[4])&&n.push([a]),e.next=5,r.setState((function(){return{nav:n}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.componentDidMount=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.context.startFetchContest(r.props.match.params.contestId);case 3:if("Registered"!==r.context.contest.RegistrationStatus){e.next=6;break}return e.next=6,r.startJoinContest();case 6:return"Registration opened"===r.context.contest.ContestStatus&&je.a.push("/contests"),e.next=9,r.generateValidViews();case 9:r.checkValidViews(),r.generateNavBar(r.props.match.url),r.setState((function(){return{isLoading:!1}})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),r.setState((function(){return{hasError:!0,isLoading:!1}})),je.a.push("/contests");case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),r.UNSAFE_componentWillReceiveProps=function(e){e.match.url!==r.props.match.url&&r.generateNavBar(e.match.url)},r.render=function(){return Object(Y.jsx)(K.Consumer,{children:function(e){return r.authContext=e,Object(Y.jsx)(ga.Consumer,{children:function(e){var t=e.getContestTypeName;return r.getContestTypeName=t,Object(Y.jsx)(za.Consumer,{children:function(e){return r.context=e,r.state.isLoading?Object(Y.jsx)(_t,{}):r.state.hasError?Object(Y.jsx)(hn,{}):"/contests/:contestId"===r.props.match.path?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:r.state.nav}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(ss,{contest:r.context.contest,children:[Object(Y.jsx)(is,{contest:r.context.contest}),Object(Y.jsx)(As,Object(Re.a)(Object(Re.a)({},r.props),{},{contestId:r.context.contest.Id,validViews:r.state.views,match:r.props.match,location:r.props.location}))]})})]}):Object(Y.jsx)(ss,{contest:r.context.contest,children:Object(Y.jsx)(Bs,{nav:r.state.nav,contest:r.context.contest,contestId:r.props.match.params.contestId,problemId:r.props.match.params.id})})}})}})}})},r.state={isLoading:!0,hasError:!1,nav:[["Home","/"],["Contests","/contests"]],views:[]},r.context=za,r}return n}(a.a.Component),qs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.context.startFetchContest,n=r.props.match,e.prev=2,e.next=5,t(n.params.contestId);case 5:(a=r.context.contest)||je.a.push("/"),$t()(Number(a.ActiveTime)).isAfter($t()())?je.a.push("/"):["Registered","Joined","ed"].includes(a.RegistrationStatus)&&je.a.push("/contests/".concat(a.Id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r.setState((function(){return{hasError:!0}}));case 13:r.setState((function(){return{isLoading:!1}}));case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),r.onChangeContestPassword=function(e){var t=r.state.errorPassword;r.setState((function(){return{contestPassword:e}})),t&&r.setState((function(){return{errorPassword:""}}))},r.onRegisterForContest=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.context.contest,a=r.state.contestPassword,t.preventDefault&&t.preventDefault(),e.next=5,r.setState((function(){return{isSending:!0}}));case 5:return s={},n.Private&&(s.Password=a),e.next=9,Va.registerContest(n.Id,s);case 9:"string"===typeof e.sent?r.setState((function(){return{errorPassword:"Sai m\u1eadt kh\u1ea9u!",isSending:!1}})):"Registration opened"===n.ContestStatus?je.a.push("/contests"):je.a.push("/contests/".concat(n.Id,"/"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.render=function(){var e=r.state,t=e.isLoading,n=e.hasError,a=e.isSending,s=e.contestPassword,c=e.errorPassword;return Object(Y.jsx)(za.Consumer,{children:function(e){if(r.context=e,t)return Object(Y.jsx)(_t,{});var i=r.context.contest;return null===i||n?Object(Y.jsx)(hn,{}):Object(Y.jsx)(K.Consumer,{children:function(e){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["Home","/"],["Contests","/contests"],[i.Name,"/contests/".concat(i.Id,"/register")],["Register","/contests/".concat(i.Id,"/register")]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(ra.a,{children:[Object(Y.jsx)(Yn.a,{className:"justify-content-md-center",children:Object(Y.jsx)(Gt.a,{xs:!0,lg:"8",className:"form contest-entry-div shadow-sm",style:{backgroundColor:"white"},children:Object(Y.jsxs)("form",{style:{padding:"30px 10px 20px 10px"},onSubmit:r.onRegisterForContest,children:[Object(Y.jsx)("h2",{style:{textAlign:"center",fontWeight:"600",marginBottom:"20px"},children:i.Creater}),Object(Y.jsx)("div",{style:{textAlign:"center",marginBottom:"40px"},children:Object(Y.jsx)("img",{height:"150px",src:i.Logo?i.Logo:"./image/logo.svg",alt:"Contest's logo"})}),Object(Y.jsx)("h1",{style:{textAlign:"center",fontWeight:"600"},children:i.Name}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("h3",{style:{fontWeight:"600",marginBottom:"10px"},children:"Th\xf4ng tin m\xf4 t\u1ea3"}),Object(Y.jsx)("p",{children:i.Description}),Object(Y.jsx)("br",{}),Object(Y.jsx)("h3",{style:{fontWeight:"600",marginBottom:"10px"},children:"Th\xf4ng tin k\u1ef3 thi"}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{style:{marginBottom:"8px"},children:["Th\u1eddi gian l\xe0m b\xe0i:",Object(Y.jsxs)("b",{style:{fontWeight:"600"},children:[i.Duration," ","ph\xfat"]})]}),Object(Y.jsxs)("li",{children:["Ng\xe0y thi:",Object(Y.jsx)("b",{style:{fontWeight:"600"},children:$t()(i.StartTime).format("DD/MM/YYYY - HH:mm")})]})]}),i.Private&&Object(B.b)()&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)("br",{}),Object(Y.jsx)("h3",{style:{fontWeight:"600",marginBottom:"10px"},children:"Nh\u1eadp m\u1eadt kh\u1ea9u k\u1ef3 thi"}),Object(Y.jsx)(la,{width:r.isMobile?"100%":"50%",type:"password",value:s,onChange:r.onChangeContestPassword,message:c,autoComplete:"new-password"})]}),null!==e.user&&Object(Y.jsx)("div",{style:{textAlign:"center",marginTop:"60px"},children:Object(Y.jsx)(er,{type:"submit",className:"contest-entry-register-button w-50",disabled:a,children:a?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):"\u0110\u0103ng k\xfd tham gia"})}),!e.user&&Object(Y.jsx)("div",{style:{textAlign:"center",marginTop:"40px"},children:Object(Y.jsx)("p",{children:"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 \u0111\u0103ng k\xfd tham gia k\u1ef3 thi."})})]})})}),Object(Y.jsx)("br",{}),!e.user&&Object(Y.jsx)(Yn.a,{className:"justify-content-md-center",children:Object(Y.jsxs)(Gt.a,{xs:!0,lg:"8",className:"form contest-entry-div shadow-sm",style:{backgroundColor:"white",textAlign:"center",padding:"20px"},children:["\u0110\xe3 c\xf3 s\u1eb5n t\xe0i kho\u1ea3n?"," ",Object(Y.jsx)(j.a,{to:"/login",children:Object(Y.jsx)("b",{style:{cursor:"pointer",color:"#3498db"},children:"\u0110\u0103ng nh\u1eadp ngay."})})]})})]})})]})}})}})},r.state={contestPassword:"",errorPassword:"",isSending:!1,isLoading:!0,hasError:!1},r.context=za,r.isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),r}return n}(a.a.Component),Gs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t,n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(){return{isLoading:!0}}));case 2:return t=r.props.match,e.prev=3,n=new V.a("get","submission/".concat(t.params.submissionId),null,null,!0),e.next=7,n.request();case 7:return a=e.sent,s=a.submission,r.setState((function(){return{submission:s,isLoading:!1}})),e.next=12,r.generateNavigateLink();case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(3),e.next=18,r.setState((function(){return{isLoading:!1,error:!0}}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])}))),r.generateNavigateLink=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i,o,u,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.match,n=t.url.split("/"),a=t.path.split("/"),n.shift(),n.pop(),a.shift(),a.pop(),s=[["Home","/"]],c="/",i=0;case 10:if(!(i<n.length)){e.next=27;break}if(c+=n[i],":contestId"===a[i]){e.next=17;break}"courses"===n[0]&&2===i&&(c+="/problems"),s.push([n[i],c]),e.next=23;break;case 17:return o=new V.a("get","contest/".concat(n[i])),e.next=20,o.request();case 20:u=e.sent.Name,l="".concat(c,"/submissions"),s.push([u,l]);case 23:c+="/";case 24:++i,e.next=10;break;case 27:return s.push(["Details"]),e.next=30,r.setState((function(){return{urls:s}}));case 30:case"end":return e.stop()}}),e)}))),r.colorizeVerdict=function(e){var t=e.toLowerCase();return"accepted"===t?{fontWeight:"600",color:"#2ecc71"}:t.includes("wrong")||t.includes("error")?{fontWeight:"600",color:"red"}:t.includes("output")?{fontWeight:"600",color:"#34495e"}:t.includes("limit")?{fontWeight:"600",color:"orange"}:null},r.render=function(){var e=r.state,t=e.urls,n=e.isLoading,a=e.error,s=e.submission;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:t}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(Gt.a,{children:[n&&Object(Y.jsx)(Qt,{}),a&&Object(Y.jsx)(hn,{}),!n&&!a&&Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("table",{className:"basic-component-table bg-white",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"#"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Th\u1eddi gian n\u1ed9p"}),Object(Y.jsx)("th",{children:"Ng\u01b0\u1eddi n\u1ed9p"}),Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{children:"Lo\u1ea1i b\xe0i"}),Object(Y.jsx)("th",{children:"Ng\xf4n ng\u1eef"}),Object(Y.jsx)("th",{children:"K\u1ebft qu\u1ea3"}),Object(Y.jsx)("th",{children:"Th\u1eddi gian"}),Object(Y.jsx)("th",{children:"B\u1ed9 nh\u1edb"})]})}),Object(Y.jsx)("tbody",{children:Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:s.InternalId}),Object(Y.jsxs)("td",{style:{textAlign:"center"},children:[$t()(s.SubmitTime).format("DD/MM/YYYY"),Object(Y.jsx)("br",{}),$t()(s.SubmitTime).format("HH:mm")]}),Object(Y.jsx)("td",{style:{cursor:"pointer",fontWeight:"600"},children:Object(Y.jsx)("div",{role:"button",tabIndex:0,onClick:function(){return je.a.push("/user/".concat(s.User))},children:s.User})}),Object(Y.jsx)("td",{children:s.ProblemName.Vi?s.ProblemName.Vi:s.ProblemName.En}),Object(Y.jsx)("td",{children:s.Type}),Object(Y.jsx)("td",{children:s.Language}),Object(Y.jsx)("td",{style:r.colorizeVerdict(s.Verdict),children:s.Verdict}),Object(Y.jsxs)("td",{children:[Math.round(parseFloat(s.Time))," ","ms"]}),Object(Y.jsxs)("td",{children:[Math.round(parseFloat(s.Memory)/1024)," ","KB"]})]})})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)(Hr,{value:s.Content,readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:s.Language}),Object(Y.jsx)("br",{}),s.CompileMessage&&Object(Y.jsxs)("div",{style:{padding:"10px",background:"white"},children:[Object(Y.jsx)("h3",{style:{fontWeight:"600"},children:"Compile message"}),s.CompileMessage.split("\n").map((function(e,t){return Object(Y.jsx)("p",{style:{margin:"0",fontWeight:"600"},children:e},t)}))]}),s.Tests&&s.Tests.map((function(e,t){return Object(Y.jsxs)("div",{className:"bg-white",style:{padding:"10px"},children:[Object(Y.jsxs)("p",{style:{fontWeight:"600"},children:["Test #",t+1,", Time:",Math.round(parseFloat(e.Time))," ","ms, Memory:",Math.round(parseFloat(e.Memory)/1024)," ","KB, Exit code:",e.ExitCode,", Verdict:",e.Verdict]}),Object(Y.jsx)("p",{children:Object(Y.jsx)("strong",{children:"Checker log: "})}),Object(Y.jsx)("p",{children:Object(Y.jsx)("strong",{children:e.CheckerLog})}),Object(Y.jsx)("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"},className:"border",children:"Input"}),Object(Y.jsx)("p",{style:{whiteSpace:"pre-line"},className:"border p-2 font-mono",children:e.Input}),Object(Y.jsx)("br",{}),Object(Y.jsx)("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"},children:"Output"}),Object(Y.jsx)("p",{style:{whiteSpace:"pre-line"},className:"border p-2 font-mono",children:e.Output}),Object(Y.jsx)("br",{}),Object(Y.jsx)("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"},children:"Answer"}),Object(Y.jsx)("p",{style:{whiteSpace:"pre-line"},className:"border p-2 font-mono",children:e.Answer}),Object(Y.jsx)("br",{}),t<s.Tests.length-1&&Object(Y.jsx)("br",{}),t<s.Tests.length-1&&Object(Y.jsx)("br",{})]},e.Id)}))]})]})})]})},r.state={isLoading:!0,submission:void 0,error:!1,urls:[["Home","/"],["Loading navigation bar...","/"]]},r}return n}(a.a.Component),Hs=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/",component:ts}),Object(Y.jsx)(d.Route,{exact:!0,path:"/contests",component:ts}),Object(Y.jsx)(d.Route,{exact:!0,path:"/contests/:contestId",component:Fs}),Object(Y.jsx)(d.Route,{exact:!0,path:"/contests/:contestId/register",component:qs}),Object(Y.jsx)(d.Route,{exact:!0,path:"/contests/:contestId/submissions/:submissionId",component:Gs}),Object(Y.jsx)(d.Route,{exact:!0,path:"/contests/:contestId/problems/:id",component:Fs}),Object(Y.jsx)(d.Route,{component:hn})]})},Vs=function(){return Object(Y.jsx)("div",{children:Object(Y.jsx)(Yn.a,{className:"justify-content-xl-center",children:Object(Y.jsxs)(Gt.a,{xl:!0,lg:"1",className:"help-page-div",style:{backgroundColor:"white",padding:"3%"},children:[Object(Y.jsx)("h1",{children:"Th\xf4ng s\u1ed1"}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"10%"},children:"Ng\xf4n ng\u1eef"}),Object(Y.jsx)("th",{children:"Phi\xean b\u1ea3n"}),Object(Y.jsx)("th",{style:{width:"15%"},children:"H\u1ec7 s\u1ed1 th\u1eddi gian"}),Object(Y.jsx)("th",{children:"Tham s\u1ed1 bi\xean d\u1ecbch"})]})}),Object(Y.jsxs)("tbody",{children:[Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"C"}),Object(Y.jsx)("td",{children:"gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0"}),Object(Y.jsx)("td",{children:"x1"}),Object(Y.jsxs)("td",{children:["gcc -x c -Wall -O2 -static -pipe $","{","files","}"," ","-lm"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"C++"}),Object(Y.jsx)("td",{children:"g++ (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0"}),Object(Y.jsx)("td",{children:"x1"}),Object(Y.jsxs)("td",{children:["g++ -x c++ -std=c++14 -Wall -O2 -static -pipe $","{","files","}"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"Java"}),Object(Y.jsxs)("td",{children:[Object(Y.jsx)("p",{style:{margin:"0"},children:'Openjdk version "11.0.9.1" 2020-11-04'}),Object(Y.jsx)("p",{style:{margin:"0"},children:"OpenJDK Runtime Environment (build 11.0.9.1+1-Ubuntu-0ubuntu1.18.04)"}),Object(Y.jsx)("p",{style:{margin:"0"},children:"OpenJDK 64-Bit Server VM (build 11.0.9.1+1-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)"})]}),Object(Y.jsx)("td",{children:"x3"}),Object(Y.jsxs)("td",{children:["javac -encoding UTF-8 -sourcepath . -d . $","{","files","}"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"Python 2"}),Object(Y.jsx)("td",{children:"Python 2.7.17"}),Object(Y.jsx)("td",{children:"x5"}),Object(Y.jsxs)("td",{children:["python2 -m py_compile $","{","files","}"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"Python 3"}),Object(Y.jsx)("td",{children:"Python 3.6.7"}),Object(Y.jsx)("td",{children:"x5"}),Object(Y.jsxs)("td",{children:["python3 -m py_compile $","{","files","}"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"Pypy 2"}),Object(Y.jsx)("td",{children:"Pypy2 7.3.2"}),Object(Y.jsx)("td",{children:"x3"}),Object(Y.jsxs)("td",{children:["pypy -m py_compile $","{","files","}"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"Pypy 3"}),Object(Y.jsx)("td",{children:"Pypy3 7.3.2"}),Object(Y.jsx)("td",{children:"x3"}),Object(Y.jsxs)("td",{children:["pypy3 -m py_compile $","{","files","}"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"Pascal"}),Object(Y.jsx)("td",{children:"fpc 3.0.4"}),Object(Y.jsx)("td",{children:"x1"}),Object(Y.jsxs)("td",{children:["fpc -viwn -O2 -Sg -XS $","{","files","}"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"NodeJS"}),Object(Y.jsx)("td",{children:"Node.js v12.19.1"}),Object(Y.jsx)("td",{children:"x5"}),Object(Y.jsxs)("td",{children:["nodejs $","{","files","}"]})]}),Object(Y.jsxs)("tr",{className:"no-effect",children:[Object(Y.jsx)("td",{children:"Ruby"}),Object(Y.jsx)("td",{children:"Ruby 2.5.1"}),Object(Y.jsx)("td",{children:"x5"}),Object(Y.jsxs)("td",{children:["ruby -c $","{","files","}"]})]})]})]}),Object(Y.jsx)("h1",{style:{marginTop:"5%"},children:"Code m\u1eabu"}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"\u0110\u1ec1 b\xe0i m\u1eabu"}),Object(Y.jsx)("p",{children:'Cho m\u1ed9t s\u1ed1 nguy\xean n (0 < n < 10000), in ra d\xf2ng ch\u1eef "Hello, World!!!" n l\u1ea7n (kh\xf4ng c\xf3 d\u1ea5u " ")'}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"Input m\u1eabu"}),Object(Y.jsx)(Hr,{value:"3",readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"markdown",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"Output m\u1eabu"}),Object(Y.jsx)(Hr,{value:"Hello, World!!!\nHello, World!!!\nHello, World!!!",readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"markdown",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"C"}),Object(Y.jsx)(Hr,{value:'#include <stdio.h>\n\nint main() {\n  int n;\n  scanf("%d", &n);\n\n  for (int i = 0; i < n; ++i) {\n    printf("Hello, World!!!\\n");\n  }\n\n  return 0;\n}',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"C",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"C++"}),Object(Y.jsx)(Hr,{value:'#include <iostream>\nusing namespace std;\n\nint main() {\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; ++i) {\n    cout << "Hello, World!!!\\n";\n  }\n}',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"CPP 14",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"Java"}),Object(Y.jsx)(Hr,{value:'import java.io.*;\nimport java.util.*;\n\npublic class Main {\n  public static void main(String args[]) throws Exception {\n    Scanner reader = new Scanner(System.in);\n    int n = reader.nextInt();\n\n    for (int i = 0; i < n; ++i) {\n      System.out.println("Hello, World!!!");\n    }\n  }\n}',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Java 8",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"Python 2, Pypy 2"}),Object(Y.jsx)(Hr,{value:'n = int(raw_input())\nfor i in range(0, n):\n    print "Hello, World!!!"',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Python 2",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"Python 3, Pypy 3"}),Object(Y.jsx)(Hr,{value:'n = int(input())\nfor i in range(0, n):\n    print("Hello, World!!!")',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Python 3",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"Pascal"}),Object(Y.jsx)(Hr,{value:"program HelloWorld;\nvar\n  n, i: integer;\nbegin\n  readln(n);\n  for i := 1 to n do\n  begin\n    writeln('Hello, World!!!');\n  end;\nend.",readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Pascal",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"NodeJS"}),Object(Y.jsx)(Hr,{value:'process.stdin.addListener("data", (data) => {\n  var n = data.toString();\n  for (let i = 0; i < n; ++i) {\n    console.log("Hello, World!!!");\n  }\n});',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"JavaScript",showToolbar:!1}),Object(Y.jsx)("h3",{style:{marginTop:"3%"},children:"Ruby"}),Object(Y.jsx)(Hr,{value:'n = gets.to_i\nfor i in 0..n\n  puts("Hello World!!!")\nend',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Ruby",showToolbar:!1})]})})})},zs=function(){return Object(Y.jsxs)("div",{style:{padding:"20px"},children:[Object(Y.jsx)("h1",{children:"C\xe1c k\u1ebft qu\u1ea3 ch\u1ea5m"}),Object(Y.jsx)("p",{children:"C\u1ea3 2 k\u1ef3 thi h\xecnh th\u1ee9c ACM-ICPC v\xe0 IOI \u0111\u1ec1u c\xf3 c\xe1c k\u1ebft qu\u1ea3 ch\u1ea5m nh\u01b0 sau:"}),Object(Y.jsxs)("ul",{children:[Object(Y.jsx)("li",{style:{marginBottom:"5px"},children:"Accepted: b\xe0i l\xe0m \u0111\xfang t\u1ea5t c\u1ea3 c\xe1c test."}),Object(Y.jsx)("li",{style:{marginBottom:"5px"},children:"Wrong answer: c\xf3 1 test cho k\u1ebft qu\u1ea3 sai."}),Object(Y.jsx)("li",{style:{marginBottom:"5px"},children:"Runtime error: l\u1ed7i khi ch\u1ea1y ch\u01b0\u01a1ng tr\xecnh (tr\xe0n m\u1ea3ng, chia cho 0, exit code kh\xe1c 0,...)."}),Object(Y.jsx)("li",{style:{marginBottom:"5px"},children:"Time limit exceed: ch\u1ea1y qu\xe1 gi\u1edbi h\u1ea1n th\u1eddi gian c\u1ee7a b\xe0i."}),Object(Y.jsx)("li",{style:{marginBottom:"5px"},children:"Memory limit exceed: ch\u1ea1y qu\xe1 gi\u1edbi h\u1ea1n b\u1ed9 nh\u1edb c\u1ee7a b\xe0i."}),Object(Y.jsx)("li",{children:"Compilation error: bi\xean d\u1ecbch l\u1ed7i (l\u1ed7i n\xe0y kh\xf4ng t\xednh \u0111i\u1ec3m ph\u1ea1t penalty trong k\u1ef3 thi)."})]}),Object(Y.jsxs)("p",{children:[Object(Y.jsx)("strong",{children:"*L\u01b0u \xfd:"})," ","N\u1ebfu ch\u01b0\u01a1ng tr\xecnh d\u1ecbch th\xe0nh c\xf4ng nh\u01b0ng ch\u1ea1y th\u1ea5t b\u1ea1i th\xec k\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1 l\xe0"," ",Object(Y.jsx)("i",{children:"Runtime Error"}),"."]})]})},Ws=function(){return Object(Y.jsx)(Yn.a,{children:Object(Y.jsxs)("div",{style:{padding:"20px"},children:[Object(Y.jsx)("h1",{children:"X\u1ebfp h\u1ea1ng"}),Object(Y.jsx)("p",{children:"\u01afu ti\xean v\u1ec1 \u0111i\u1ec3m/s\xf4 b\xe0i t\u1eeb l\u1edbn \u0111\u1ebfn b\xe9, sau \u0111\xf3 \u0111\u1ebfn \u0111i\u1ec3m ph\u1ea1t penalty t\u1eeb b\xe9 \u0111\u1ebfn l\u1edbn."}),Object(Y.jsx)("h1",{children:"C\xe1ch t\xednh \u0111i\u1ec3m:"}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{style:{marginBottom:"20px"},children:[Object(Y.jsx)("p",{style:{marginBottom:"0"},children:"\u0110\u1ed1i v\u1edbi cu\u1ed9c thi theo h\xecnh th\u1ee9c ACM-ICPC: k\u1ebft qu\u1ea3 ch\u1ea5m s\u1ebd \u0111\u01b0\u1ee3c d\u1ef1a tr\xean to\xe0n b\u1ed9 testcase c\u1ee7a b\xe0i."}),Object(Y.jsx)("div",{style:{width:"100%"},children:Object(Y.jsx)("img",{alt:"scoreboard ACM-ICPC example",style:{width:"80%"},src:"./image/contest/scoreboard acm.png"})}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("p",{style:{marginBottom:"0"},children:[Object(Y.jsx)("b",{children:"V\xed d\u1ee5"}),": b\xe0i 1 th\xed sinh \u0111\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c v\xe0 c\xf3 k\xfd hi\u1ec7u 5/27"]}),Object(Y.jsxs)("ul",{children:[Object(Y.jsx)("li",{children:"5: s\u1ed1 l\u1ea7n th\xed sinh submit cho b\xe0i 1 l\xe0 5 l\u1ea7n."}),Object(Y.jsx)("li",{children:"27: th\u1eddi gian th\xed sinh gi\u1ea3i \u0111\u01b0\u1ee3c b\xe0i 1 (t\xednh theo ph\xfat)."})]})]}),Object(Y.jsxs)("li",{style:{marginBottom:"20px"},children:[Object(Y.jsx)("p",{style:{marginBottom:"0"},children:"\u0110\u1ed1i v\u1edbi cu\u1ed9c thi theo h\xecnh th\u1ee9c IOI: k\u1ebft qu\u1ea3 ch\u1ea5m s\u1ebd \u0111\u01b0\u1ee3c d\u1ef1a t\xean s\u1ed1 l\u01b0\u1ee3ng testcase \u0111\xfang."}),Object(Y.jsx)("div",{style:{width:"100%"},children:Object(Y.jsx)("img",{alt:"scoreboard ACM-ICPC example",style:{width:"80%"},src:"./image/contest/scoreboard IOI.png"})}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("p",{style:{marginBottom:"0"},children:[Object(Y.jsx)("b",{children:"V\xed d\u1ee5"}),": b\xe0i 1 c\xf3 t\u1ed5ng s\u1ed1 \u0111i\u1ec3m l\xe0 10, s\u1ed1 test l\xe0 20 (*), v\u1eady \u0111i\u1ec3m cho m\u1ed7i test s\u1ebd l\xe0 0.5."]}),Object(Y.jsx)("p",{children:Object(Y.jsx)("i",{children:"(*): s\u1ed1 test v\xe0 t\u1ed5ng s\u1ed1 \u0111i\u1ec3m c\u1ee7a m\u1ed7i b\xe0i s\u1ebd kh\xe1c nhau t\xf9y theo ng\u01b0\u1eddi ra \u0111\u1ec1."})})]})]}),Object(Y.jsx)("h1",{children:"C\xe1ch t\xednh penalty (th\u1eddi gian ph\u1ea1t)"}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{children:[Object(Y.jsx)("h3",{children:"C\xf4ng th\u1ee9c t\xednh cho 1 b\xe0i:"}),Object(Y.jsx)("code",{children:Object(Y.jsx)("b",{children:"<num_rejected> * <penalty_time> + <submission_time>"})}),Object(Y.jsx)("p",{style:{marginTop:"8px"},children:"Trong \u0111\xf3:"}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{style:{marginBottom:"5px"},children:["<num_rejected>: S\u1ed1 b\xe0i n\u1ed9p kh\xf4ng th\xe0nh c\xf4ng (kh\xf4ng t\xednh nh\u1eefng b\xe0i n\u1ed9p c\xf3 k\u1ebft qu\u1ea3 ch\u1ea5m l\xe0"," ",Object(Y.jsx)("strong",{children:Object(Y.jsx)("i",{children:"Compilation error"})}),")"," ","tr\u01b0\u1edbc l\u1ea7n accepted \u0111\u1ea7u ti\xean."]}),Object(Y.jsx)("li",{style:{marginBottom:"5px"},children:"<penalty_time>: th\u1eddi gian ph\u1ea1t t\xf9y theo m\u1ed7i k\u1ef3 thi (v\xed d\u1ee5 4 ph\xfat, 5 ph\xfat, 20 ph\xfat,...)."}),Object(Y.jsx)("li",{children:"<submission_time>: th\u1eddi \u0111i\u1ec3m b\xe0i n\u1ed9p accepted \u0111\u1ea7u ti\xean, ho\u1eb7c b\xe0i n\u1ed9p cu\u1ed1i c\xf9ng n\u1ebfu ch\u01b0a accepted (\u0111\u1ed1i v\u1edbi h\xecnh th\u1ee9c thi IOI)."})]}),Object(Y.jsxs)("p",{children:[Object(Y.jsx)("strong",{children:Object(Y.jsx)("i",{children:"L\u01b0u \xfd:"})})," ","\u1edf h\xecnh th\u1ee9c thi ACM-ICPC, penalty ch\u1ec9 \u0111\u01b0\u1ee3c t\xednh khi \u0111\xe3 accepted b\xe0i."]})]}),Object(Y.jsxs)("li",{children:[Object(Y.jsx)("h3",{children:"C\xf4ng th\u1ee9c t\xednh cho 1 th\xed sinh:"}),Object(Y.jsx)("p",{children:"T\u1ed5ng penalty m\u1ed7i b\xe0i trong contest"})]})]}),Object(Y.jsx)("h4",{children:Object(Y.jsx)("strong",{children:Object(Y.jsx)("i",{children:"L\u01b0u \xfd:"})})}),Object(Y.jsx)("p",{children:"B\xe0i n\u1ed9p c\u1ee7a b\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ea5m (0 \u0111i\u1ec3m) n\u1ebfu kh\xf4ng v\u01b0\u1ee3t qua \u0111\u01b0\u1ee3c b\u1ed9 test v\xed d\u1ee5 \u1edf \u0111\u1ec1 b\xe0i v\xe0 s\u1ebd b\u1ecb \u0111\u01b0a v\xe0o t\xednh penalty."})]})})},Ys=function(){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Home","/"],["Help","/help"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)(Gt.a,{children:Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)(Vs,{route:"environment",title:"M\xf4i tr\u01b0\u1eddng ch\u1ea5m"}),Object(Y.jsx)(zs,{route:"judgement",title:"K\u1ebft qu\u1ea3 ch\u1ea5m"}),Object(Y.jsx)(Ws,{route:"ranking",title:"X\u1ebfp h\u1ea1ng trong contest"})]})})})]})},Ks=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/help",component:Ys}),Object(Y.jsx)(d.Route,{exact:!0,path:"/help/:view",component:Ys})]})},Qs=n(485),Js=n(487),_s=n(486),Xs=n(488),Zs=n(512),$s=n(484),ec=Object(Zn.a)((function(e){return{root:{backgroundSize:"auto 100%",height:"12rem",backgroundPosition:"center",borderRadius:"5px"}}}))($s.a),tc=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=(n[0],n[1],e.article),s=a.Id,c=a.Title,i=a.Author,o=a.Username,u=a.createdAt,l=a.Thumbnail,d=a.Content;return Object(Y.jsx)(Qs.a,{component:p.a,mx:"1rem",mb:"0.75rem",variant:"outlined",children:Object(Y.jsx)(_s.a,{children:Object(Y.jsxs)(ke.a,{container:!0,spacing:2,children:[Object(Y.jsx)(ke.a,{item:!0,xs:12,ls:12,md:4,children:Object(Y.jsx)(ec,{title:c,image:l||"./image/logo.svg"})}),Object(Y.jsx)(ke.a,{item:!0,xs:12,md:8,style:{height:"12rem",overflow:"hidden"},children:Object(Y.jsx)(p.a,{display:"flex",children:Object(Y.jsx)(p.a,{flexGrow:1,children:Object(Y.jsxs)(j.a,{to:"/articles/".concat(s),children:[Object(Y.jsx)(X.a,{variant:"h6",children:c}),Object(Y.jsxs)(p.a,{display:"flex",mb:1,children:[Object(Y.jsx)(X.a,{variant:"body2",children:i||o}),Object(Y.jsx)(X.a,{variant:"body2",style:{paddingLeft:"0.5rem",paddingRight:"0.5rem"},children:"-"}),Object(Y.jsx)(X.a,{variant:"body2",children:Object(Y.jsx)("em",{children:$t()(u).format("DD/MM/YYYY")})})]}),Object(Y.jsx)(w.a,{}),Object(Y.jsx)(p.a,{className:"overview-content",mt:1,children:Object(Y.jsx)(vr,{value:"".concat(d,"...")})})]})})})})]})})})},nc=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getArticles",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,n=a.length>1&&void 0!==a[1]?a[1]:20,e.prev=2,e.next=5,new V.a("get",z.b,{page:t,limit:n}).request();case 5:return r=e.sent,e.abrupt("return",{totalArticles:r.totalArticles,articles:r.articles});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{totalArticles:0,Articles:[]});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getPinnedArticles",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.ob,{}).request();case 3:return t=e.sent,n=t.articles.filter((function(e){return!0===e.Pinned})),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.c,{articleId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.article);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.b,{},Object(Re.a)({},t)).request();case 3:return n=e.sent,e.abrupt("return",n.article);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.c,{articleId:t.Id},Object(Re.a)({},t)).request();case 3:return n=e.sent,e.abrupt("return",n.article);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","Update article failed!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.c,{articleId:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","Delete article failed");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLatestArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.U).request();case 3:return t=e.sent,e.abrupt("return",t.Articles);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"voteArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.Vb,{id:t},{Value:n},!0).request();case 3:return r=e.sent,e.abrupt("return",r.vote);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("put",z.c,{ArticleId:t},{Content:n},!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),rc=a.a.createContext(),ac=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getArticles=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:20,e.next=4,nc.getArticles(t,n);case 4:return a=e.sent,s=a.articles.map((function(e){return new St(e)})).sort((function(e,t){return $t()(t.createdAt).subtract($t()(e.createdAt))})),r.setState({articles:s,totalArticles:a.totalArticles}),e.abrupt("return",{articles:s,totalArticles:a.totalArticles});case 8:case"end":return e.stop()}}),e)}))),r.getArticle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc.getArticle(t);case 2:return n=e.sent,r=new St(n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getPinnedArticles=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc.getPinnedArticles();case 2:return t=e.sent,n=t.map((function(e){return new St(e)})).sort((function(e,t){return $t()(t.createdAt).subtract($t()(e.createdAt))})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),r.state={articles:[],totalArticles:0,getArticles:r.getArticles,getArticle:r.getArticle,getPinnedArticles:r.getPinnedArticles},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(rc.Provider,{value:this.state,children:e})})}}]),n}(a.a.Component),sc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchArticles=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,r.setState({fetched:!1,page:t}),window.scrollTo(0,0),e.next=5,r.articleContext.getArticles(t,r.limit);case 5:n=e.sent,a=n.totalArticles,s=n.articles,r.setState({fetched:!0,totalArticles:a,articles:s,maxPage:Math.floor((a+r.limit-1)/r.limit)});case 9:case"end":return e.stop()}}),e)}))),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{fetched:!1,totalArticles:0,articles:[],page:1,maxPage:1}),r.limit=10,r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchArticles();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.page,r=t.maxPage;return Object(Y.jsx)(rc.Consumer,{children:function(t){e.articleContext=t;var a=e.state,s=a.fetched,c=a.articles;return Object(Y.jsxs)(Qs.a,{style:{width:"100%"},children:[Object(Y.jsx)(Js.a,{title:Object(Y.jsx)(X.a,{variant:"h5",children:Object(Y.jsx)("strong",{children:"B\xe0i vi\u1ebft m\u1edbi"})}),style:{paddingTop:"0.5rem",paddingBottom:"0.5rem"}}),Object(Y.jsx)(_s.a,{style:{paddingTop:"0.5rem"},children:s?c.map((function(e){return Object(Y.jsx)(tc,{article:e},e.Id)})):Object(Y.jsx)(Qt,{})}),r>1&&Object(Y.jsx)(Xs.a,{style:{justifyContent:"center"},children:Object(Y.jsx)(Zs.a,{count:r,boundaryCount:1,defaultPage:1,page:n,shape:"rounded",showFirstButton:!0,showLastButton:!0,onChange:function(t,n){return e.fetchArticles(n)}})})]})}})}}]),n}(Ln),cc=n(195),ic=function(e){var t=e.article;return Object(Y.jsx)(f.a,{component:j.a,to:"/articles/".concat(t.Id),divider:!0,children:Object(Y.jsxs)("div",{style:{width:"100%"},children:[Object(Y.jsx)(X.a,{variant:"subtitle1",children:t.Title}),Object(Y.jsxs)(p.a,{display:"flex",mt:"0.2rem",children:[Object(Y.jsx)(p.a,{flexGrow:1,children:Object(Y.jsx)(X.a,{variant:"caption",children:Object(Y.jsx)("em",{children:t.Author||t.Username})})}),Object(Y.jsx)(p.a,{children:Object(Y.jsx)(X.a,{variant:"caption",children:Object(Y.jsx)("em",{children:$t()(t.createdAt).format("DD/MM/YYYY")})})})]})]})},t.Id)},oc=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),c=Object(b.a)(s,2),i=c[0],o=c[1],u=Object(r.useContext)(rc),l=Object(J.a)();return Object(r.useEffect)((function(){(function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.next=3,u.getPinnedArticles();case 3:t=e.sent,o(t),a(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(Y.jsx)(cc.a,{children:Object(Y.jsxs)(m.a,{title:"B\xe0i vi\u1ebft n\u1ed5i b\u1eadt",disablePadding:!0,children:[Object(Y.jsx)(f.a,{style:{backgroundColor:l.palette.primary.main,color:l.palette.primary.contrastText},divider:!0,children:Object(Y.jsx)(X.a,{variant:"h6",children:"B\xe0i vi\u1ebft n\u1ed5i b\u1eadt"})}),n?i.map((function(e){return Object(Y.jsx)(ic,{article:e},e.Id)})):Object(Y.jsx)(f.a,{style:{flexDirection:"row",justifyContent:"center"},children:Object(Y.jsx)(Jt,{})})]})})},uc=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["home","/"],["B\xe0i vi\u1ebft"]]}),Object(Y.jsxs)(Ft,{children:[Object(Y.jsx)(Et,{children:Object(Y.jsx)(sc,{})}),Object(Y.jsx)(Mt,{children:Object(Y.jsx)(oc,{})})]})]})},lc=n(510),dc=n(243),bc=n.n(dc),jc=n(489),hc=n(490),pc=n(491),mc=n(492),fc=n(493),xc=n(494),Oc=n(495),vc=n(496),gc=function(e){var t=e.url,n=Object(r.useState)(null),a=Object(b.a)(n,2),s=a[0],c=a[1],i=function(){if(s)c(null);else{var e=document.getElementById("share-button");c(e)}};return Object(Y.jsxs)("div",{style:{display:"inline-block"},children:[Object(Y.jsxs)(_.a,{id:"share-button",onClick:i,variant:"outlined",children:[Object(Y.jsx)(bc.a,{fontSize:"small"})," ","Chia s\u1ebb"]}),Object(Y.jsxs)(Z.a,{id:"share-menu",anchorEl:s,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,open:Boolean(s),onClose:i,children:[Object(Y.jsxs)(p.a,{display:"flex",flexDirection:"row",p:"0.5rem",children:[Object(Y.jsx)(jc.a,{className:"mr-2",url:t,children:Object(Y.jsx)(hc.a,{round:!0,size:40})}),Object(Y.jsx)(pc.a,{className:"mr-2",url:t,children:Object(Y.jsx)(mc.a,{round:!0,size:40})}),Object(Y.jsx)(fc.a,{className:"mr-2",url:t,children:Object(Y.jsx)(xc.a,{round:!0,size:40})}),Object(Y.jsx)(Oc.a,{className:"mr-2",url:t,children:Object(Y.jsx)(vc.a,{round:!0,size:40})})]}),Object(Y.jsxs)(p.a,{px:"0.5rem",children:[Object(Y.jsx)(lc.a,{id:"url-textfield",value:t,readOnly:!0,variant:"outlined",margin:"dense",style:{margin:"0",marginRight:"0.3rem"}}),Object(Y.jsx)(_.a,{onClick:function(){document.getElementById("url-textfield").select(),document.execCommand("copy"),c(null)},variant:"contained",color:"primary",children:"Copy"})]})]})]})};gc.defaultProps={url:""};var wc=gc,yc=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)({}),i=Object(b.a)(c,2),o=i[0],u=i[1],l=e.match,d=function(){var e=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.next=3,nc.getArticle(l.params.id);case 3:t=e.sent,n=new St(t),u(n),s(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){d()}),[l.params.id]);var j=o.Title,h=o.Content,m=o.Author,f=o.Username;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Trang ch\u1ee7","/"],["B\xe0i vi\u1ebft","/articles"],[j||""]]}),Object(Y.jsxs)(Ft,{children:[Object(Y.jsx)(Et,{children:a?Object(Y.jsxs)(Qs.a,{style:{width:"100%"},children:[Object(Y.jsx)(Js.a,{title:Object(Y.jsx)(p.a,{children:Object(Y.jsx)(X.a,{variant:"h5",children:Object(Y.jsx)("strong",{children:j})})}),subheader:Object(Y.jsx)(p.a,{children:Object(Y.jsx)(X.a,{variant:"body2",children:Object(Y.jsx)("em",{children:"".concat(m||f," - ").concat($t()(o.createdAt).format("DD/MM/YYYY"))})})})}),Object(Y.jsxs)(_s.a,{children:[Object(Y.jsx)(p.a,{px:"0.5rem",fontSize:"120%",children:Object(Y.jsx)(vr,{value:h})}),Object(Y.jsx)(p.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{width:"100%"},pt:"2rem",pr:"1rem",mb:"1rem",children:Object(Y.jsx)(p.a,{display:"flex",flexDirection:"column",justifyContent:"center",children:Object(Y.jsx)(wc,{url:"https://bigocoder.com/api/".replace("/api/","")+l.url})})})]})]}):Object(Y.jsx)(Qt,{})}),Object(Y.jsx)(Mt,{children:Object(Y.jsx)(oc,{})})]})]})},kc=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/articles",component:uc}),Object(Y.jsx)(d.Route,{exact:!0,path:"/articles/:id",component:yc})]})},Cc=n(245),Sc=n(515),Ic=n(253),Nc=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"connectGoogle",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.p,{uid:t},{tokenId:n,googleId:r},!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"disconnectGoogle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("delete",z.p,{uid:t},null,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connectFacebook",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.o,{uid:t},{accessToken:n,userID:r},!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"disconnectFacebook",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("delete",z.o,{uid:t},null,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pc=n(244),Tc=n.n(Pc),Lc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(e){if(e instanceof $t.a||""===e){var t=e?e.valueOf():null;r.props.onChange&&r.props.onChange({target:{value:t,name:r.props.name,id:r.props.id}}),r.setState({error:!1})}else r.setState({error:!0});r.setState({value:e})},r.state={error:!1,value:"--/--/--"},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.value;if(e){var t=$t()(Number(e)||e).set({second:0});this.setState({value:t})}}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.value!==t.value||this.state.value!==e.value}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,r=e.initialViewDate,a=e.dateFormat,s=e.timeFormat,c=e.disabled,i=e.isValidDate,o=this.state,u=o.value,l=o.error;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Tc.a,{id:t,className:"basic-component-datetime-picker ".concat(n),initialViewDate:r,dateFormat:a,timeFormat:s,defaultValue:u,value:u,onChange:this.onChange,isValidDate:i,inputProps:{disabled:c}}),l&&Object(Y.jsx)("div",{className:"text-danger",children:Object(Y.jsx)("em",{children:"Wrong format"})})]})}}]),n}(a.a.Component);Lc.defaultProps={value:0,className:"",initialViewDate:$t()(),id:void 0,dateFormat:!0,timeFormat:!0,onChange:null,disabled:!1,isValidDate:function(){return!0}};var Ac=Lc,Rc=function(e){var t=e.options,n=e.value,r=e.hidden,a=e.disabled,s=e.name,c=e.title,i=e.onChange,o=e.needName,u=e.width,l=e.message,d=e.className,b=o?function(e){return i(e.target.name,e.target.value)}:function(e){return i(e.target.value)};return Object(Y.jsxs)("div",{hidden:!!r,title:c||"",className:"basic-component-select ".concat(d||""),children:[s&&Object(Y.jsx)("label",{htmlFor:"select-".concat(s),children:s}),Object(Y.jsx)("select",{id:"select-".concat(s),className:"basic-component-select-select",name:s,onChange:i?b:null,disabled:!!a,value:n,style:u?{width:u.toString()}:{width:"100%"},children:t&&t.length>0&&t.map((function(e,t){return Object(Y.jsx)("option",{value:e.value?e.value:e.text,hidden:!!e.hidden,disabled:!!e.disabled,children:e.text},t)}))}),l&&Object(Y.jsx)("p",{style:{color:"red",fontSize:"13px",fontStyle:"italic"},children:l})]})};Rc.defaultProps={width:"100%",hidden:!1,disabled:!1,className:"",title:""};var Dc=Rc,Uc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).UNSAFE_componentWillMount=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.uid,!Object(B.b)()||Object(B.a)("Id")!==t){e.next=7;break}delete(n=Object(B.a)()).Password,r.setState((function(){return{user:n,viewAsGuest:!1,isLoading:!1}})),e.next=19;break;case 7:return e.prev=7,a=new V.a("get","users/".concat(t),{},{},!0),e.next=11,a.request();case 11:s=e.sent,c=s.user,r.setState((function(){return{user:c,isLoading:!1}})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),r.setState((function(){return{isLoading:!1,page404Error:!0}}));case 19:case"end":return e.stop()}}),e,null,[[7,16]])}))),r.refreshPage=function(){window.scrollTo(0,0)},r.renderAccountType=function(e,t){return"SuperAdministrator"===e||"Administrator"===e?"Administrator":"Moderator"===e?"Moderator":1===parseInt(t,10)?"Premium user":"Normal user"},r.onChangeUsername=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{Username:t})}}));case 2:r.validateUsername(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateUsername=function(e){e?e.includes(" ")?r.setState((function(){return{errorUsername:"T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a kho\u1ea3ng tr\u1eafng"}})):r.setState((function(){return{errorUsername:""}})):r.setState((function(){return{errorUsername:"Username kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."}}))},r.onChangeFullname=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{Fullname:t})}}));case 2:r.validateFullname();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateFullname=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=r.state.user).Fullname&&t.Fullname.trim().length>255?r.setState((function(){return{errorFullname:"H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c d\xe0i qu\xe1 255 k\xed t\u1ef1"}})):r.setState((function(){return{errorFullname:""}}));case 2:case"end":return e.stop()}}),e)}))),r.onChangeEmail=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{Email:t})}}));case 2:r.validateEmail();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateEmail=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.state.user).Email||0!==t.Email.trim().length){e.next=4;break}return r.setState((function(){return{errorEmail:"Email kh\xf4ng \u0111\u01b0\u1ee3c tr\u1ed1ng"}})),e.abrupt("return");case 4:if(!(t.Email&&t.Email.trim().length>255)){e.next=7;break}return r.setState((function(){return{errorEmail:"Email kh\xf4ng \u0111\u01b0\u1ee3c d\xe0i qu\xe1 255 k\xed t\u1ef1"}})),e.abrupt("return");case 7:if(n={from:{email:!0}},void 0===q()({from:t.Email},n)){e.next=11;break}return r.setState((function(){return{errorEmail:"Email kh\xf4ng h\u1ee3p l\u1ec7"}})),e.abrupt("return");case 11:r.setState((function(){return{errorEmail:""}}));case 12:case"end":return e.stop()}}),e)}))),r.onChangeBirthday=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.validateBirthday(t);case 2:if(!e.sent){e.next=5;break}return e.next=5,r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{Birthday:t.target.value})}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateBirthday=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=5;break}if(!(t.length>0)){e.next=5;break}return e.next=4,r.setState((function(){return{errorBirthday:"Ng\xe0y sinh kh\xf4ng h\u1ee3p l\u1ec7"}}));case 4:return e.abrupt("return",!1);case 5:return e.next=7,r.setState((function(){return{errorBirthday:""}}));case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validRangeBirthday=function(e){var t=$t()().year()-e.year();return!(t>60||t<6)},r.onChangeAffiliation=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{Affiliation:t})}}));case 2:r.validateAffiliation();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateAffiliation=function(){r.state.user.Affiliation.trim().length>255?r.setState((function(){return{errorAffiliation:"N\u01a1i c\xf4ng t\xe1c kh\xf4ng \u0111\u01b0\u1ee3c d\xe0i qu\xe1 255 k\xed t\u1ef1"}})):r.setState((function(){return{errorAffiliation:""}}))},r.onChangeCountry=function(e){r.setState((function(t){return{user:Object(Re.a)(Object(Re.a)({},t.user),{},{Country:e})}}))},r.onChangeCurrentPassword=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{Password:t})}}));case 2:return e.next=4,r.setState((function(){return{errorCurrentPassword:""}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onChangeNewPassword=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{NewPassword:t})}}));case 2:r.validateNewPassword();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateNewPassword=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState((function(){return{passwordStrength:0}})),!((t=r.state.user).NewPassword&&t.NewPassword.length<6)){e.next=7;break}return e.next=5,r.setState((function(){return{errorNewPassword:"M\u1eadt kh\u1ea9u m\u1edbi ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1"}}));case 5:e.next=16;break;case 7:if(t.NewPassword){e.next=12;break}return e.next=10,r.setState((function(){return{errorNewPassword:""}}));case 10:e.next=16;break;case 12:if(!(t.NewPassword&&t.NewPassword.length>=6)){e.next=16;break}return e.next=15,r.setState((function(){return{errorNewPassword:"",errorCurrentPassword:""}}));case 15:r.calculatePasswordStrength(t.NewPassword);case 16:r.validateConfirmPassword();case 17:case"end":return e.stop()}}),e)}))),r.calculatePasswordStrength=function(e){var t=0;e.match(/[a-z]/g)&&(t+=1),e.match(/[A-Z]/g)&&(t+=1),e.match(/[0-9]/g)&&(t+=1),e.match(/[`~!@#$%^&*()_+{}|;:'",<.>?]/g)&&(t+=1),r.setState((function(){return{passwordStrength:t}}))},r.onChangeConfirmPassword=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{ConfirmPassword:t})}}));case 2:r.validateConfirmPassword();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateConfirmPassword=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(((t=r.state.user).NewPassword||t.ConfirmPassword)&&t.NewPassword!==t.ConfirmPassword){e.next=5;break}return e.next=4,r.setState((function(){return{errorConfirmPassword:""}}));case 4:return e.abrupt("return");case 5:return e.next=7,r.setState((function(){return{errorConfirmPassword:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi kh\xf4ng ch\xednh x\xe1c"}}));case 7:case"end":return e.stop()}}),e)}))),r.packUpdateData=function(){var e=Object(B.a)(),t={},n=r.state.user;return n.Fullname&&e.Fullname!==n.Fullname.trim()&&(t.Fullname=n.Fullname.trim()),n.Email&&e.Email!==n.Email.trim()&&(t.Email=n.Email.trim()),n.Username&&e.Username!==n.Username.trim()&&(t.Username=n.Username.trim()),n.Birthday&&parseInt(e.Birthday,10)!==parseInt(n.Birthday,10)&&(t.Birthday=parseInt(n.Birthday,10)),n.Affiliation&&e.Affiliation!==n.Affiliation&&(t.Affiliation=n.Affiliation),n.Country&&e.Country!==n.Country&&(t.Country=n.Country),n.NewPassword&&(n.UpdatedPassword&&(t.Password=H()(n.Password).toString()),t.NewPassword=H()(n.NewPassword).toString()),n.Username!==e.Username&&(t.UpdatedUsername=!0),n.NewPassword&&!n.Password&&(t.UpdatedPassword=!0),t},r.saveUpdatedInfo=function(e){var t=Object(B.a)();if(e.Fullname&&(t.Fullname=e.Fullname),e.Username&&(t.Username=e.Username),e.Email&&(t.Email=e.Email),e.Birthday&&(t.Birthday=e.Birthday),e.Affiliation&&(t.Affiliation=e.Affiliation),e.Country&&(t.Country=e.Country),e.UpdatedUsername){t.UpdatedUsername=e.UpdatedUsername;var n=r.state.user;n.UpdatedUsername=!0,r.setState({user:n})}if(e.UpdatedPassword){t.UpdatedPassword=e.UpdatedPassword;var a=r.state.user;a.UpdatedPassword=!0,r.setState({user:a})}void 0!==e.ConnectedGoogle&&(t.ConnectedGoogle=e.ConnectedGoogle),void 0!==e.ConnectedFacebook&&(t.ConnectedFacebook=e.ConnectedFacebook),Object(B.d)(t)},r.resetPasswordField=function(){r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{Password:"",NewPassword:"",ConfirmPassword:""}),passwordStrength:0}}))},r.onChangeUserInformation=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i,o,u,l,d,b,j,h,p;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,n=t.isSending,a=t.user,s=t.errorUsername,c=t.errorEmail,i=t.errorBirthday,o=t.errorCurrentPassword,u=t.errorNewPassword,l=t.errorConfirmPassword,d=t.errorFullname,b=t.errorAffiliation,!n){e.next=3;break}return e.abrupt("return");case 3:if(!a.Password||a.NewPassword){e.next=7;break}return e.next=6,r.setState((function(){return{errorNewPassword:"B\u1ea1n ph\u1ea3i nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi \u0111\u1ec3 thay \u0111\u1ed5i m\u1eadt kh\u1ea9u"}}));case 6:return e.abrupt("return");case 7:if(!a.NewPassword||a.Password||!a.UpdatedPassword){e.next=11;break}return e.next=10,r.setState((function(){return{errorCurrentPassword:"B\u1ea1n ph\u1ea3i nh\u1eadp m\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i \u0111\u1ec3 thay \u0111\u1ed5i m\u1eadt kh\u1ea9u"}}));case 10:return e.abrupt("return");case 11:if(!(c||i||o||b||u||l||d||s)){e.next=13;break}return e.abrupt("return");case 13:if(e.prev=13,j=r.packUpdateData(),!(Object.keys(j).length>0)){e.next=25;break}return e.next=18,r.setState((function(){return{isSending:!0}}));case 18:return h=new V.a("put","users/".concat(Object(B.a)("Id")),null,j,!0),e.next=21,h.request();case 21:r.saveUpdatedInfo(j),r.resetPasswordField(),r.setState((function(){return{isSending:!1,saveSuccessful:!0}})),r.refreshPage();case 25:e.next=36;break;case 27:if(e.prev=27,e.t0=e.catch(13),e.t0.message){e.next=31;break}return e.abrupt("return");case 31:(p=e.t0.message.toLowerCase()).includes("password")&&(p.includes("mismatch")?r.setState((function(){return{errorCurrentPassword:"Sai m\u1eadt kh\u1ea9u"}})):p.includes("missing")&&r.setState((function(){return{errorCurrentPassword:"B\u1ea1n ch\u01b0a nh\u1eadp m\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i"}}))),p.includes("email")&&(p.includes("duplicate")&&r.setState((function(){return{errorEmail:"Email \u0111\xe3 t\u1ed3n t\u1ea1i"}})),p.includes("invalid")&&r.setState((function(){return{errorEmail:"Email kh\xf4ng h\u1ee3p l\u1ec7"}}))),p.includes("deny")&&r.setState((function(){return{errorMessage:"C\u1eadp nh\u1eadp t\xe0i kho\u1ea3n b\u1ecb t\u1eeb ch\u1ed1i"}})),r.setState((function(){return{isSending:!1}}));case 36:case"end":return e.stop()}}),e,null,[[13,27]])}))),r.toggleImageUploader=function(){r.setState((function(e){return{toggleImageUploader:!e.toggleImageUploader}}))},r.onUploadImage=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=Object($e.a)(t),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=18;break}return s=a.value,e.prev=6,e.delegateYield(E.a.mark((function e(){var t,n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br.uploadImage(s);case 2:return t=e.sent,n={Id:Object(B.a)("Id"),Avatar:t},a=new V.a("put","users/".concat(Object(B.a)("Username")),null,n,!0),e.next=7,a.request();case 7:return(c=Object(B.a)()).Avatar=t,Object(B.d)(c),r.setState((function(e){return{user:Object(Re.a)(Object(Re.a)({},e.user),{},{Avatar:t})}})),e.abrupt("return",{v:void 0});case 12:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:if("object"!==typeof(c=e.t0)){e.next=11;break}return e.abrupt("return",c.v);case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),r.setState({errorMessage:"Cannot upload image."});case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t2=e.catch(2),n.e(e.t2);case 23:return e.prev=23,n.f(),e.finish(23);case 26:e.next=30;break;case 28:e.prev=28,e.t3=e.catch(0);case 30:case"end":return e.stop()}}),e,null,[[0,28],[2,20,23,26],[6,13]])})));return function(t){return e.apply(this,arguments)}}(),r.onCloseSuccessModal=function(){r.setState((function(){return{saveSuccessful:!1,errorMessage:""}}))},r.successResponseGoogle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState((function(){return{isGoogleLoggingIn:!0}})),n=t.tokenId,a=t.googleId,e.next=4,Nc.connectGoogle(Object(B.a)("Id"),n,a);case 4:(s=e.sent)?r.setState((function(){return{errorMessage:s.includes("used")?"Gmail \u0111\xe3 \u0111\u01b0\u1ee3c li\xean k\u1ebft v\u1edbi t\xe0i kho\u1ea3n kh\xe1c":"Li\xean k\u1ebft th\u1ea5t b\u1ea1i",isGoogleLoggingIn:!1}})):(r.setState((function(){return{isGoogleLoggingIn:!1,message:"Li\xean k\u1ebft th\xe0nh c\xf4ng"}})),r.saveUpdatedInfo({ConnectedGoogle:!0}),(c=r.state.user).ConnectedGoogle=!0,r.setState({user:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.disConnectGoogle=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState((function(){return{isGoogleLoggingIn:!0}})),e.next=3,Nc.disconnectGoogle(Object(B.a)("Id"));case 3:(t=e.sent)?r.setState((function(){return{errorMessage:t.includes("used")?"Gmail \u0111\xe3 \u0111\u01b0\u1ee3c li\xean k\u1ebft v\u1edbi t\xe0i kho\u1ea3n kh\xe1c":"H\u1ee7y li\xean k\u1ebft th\u1ea5t b\u1ea1i",isGoogleLoggingIn:!1}})):(r.setState((function(){return{isGoogleLoggingIn:!1,message:"H\u1ee7y li\xean k\u1ebft th\xe0nh c\xf4ng"}})),r.saveUpdatedInfo({ConnectedGoogle:!1}),(n=r.state.user).ConnectedGoogle=!1,r.setState({user:n}));case 5:case"end":return e.stop()}}),e)}))),r.failureResponseGoogle=function(){},r.responseFacebook=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accessToken,a=t.userID,r.setState((function(){return{isFacebookLoggingIn:!0}})),e.next=4,Nc.connectFacebook(Object(B.a)("Id"),n,a);case 4:(s=e.sent)?r.setState((function(){return{errorMessage:s.includes("used")?"T\xe0i kho\u1ea3n Facebook \u0111\xe3 \u0111\u01b0\u1ee3c li\xean k\u1ebft v\u1edbi t\xe0i kho\u1ea3n kh\xe1c":"Li\xean k\u1ebft th\u1ea5t b\u1ea1i",isFacebookLoggingIn:!1}})):(r.setState((function(){return{isFacebookLoggingIn:!1,message:"Li\xean k\u1ebft th\xe0nh c\xf4ng"}})),r.saveUpdatedInfo({ConnectedFacebook:!0}),(c=r.state.user).ConnectedFacebook=!0,r.setState({user:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.disConnectFacebook=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState((function(){return{isFacebookLoggingIn:!0}})),e.next=3,Nc.disconnectFacebook(Object(B.a)("Id"));case 3:(t=e.sent)?r.setState((function(){return{errorMessage:t.includes("used")?"T\xe0i kho\u1ea3n Facebook \u0111\xe3 \u0111\u01b0\u1ee3c li\xean k\u1ebft v\u1edbi t\xe0i kho\u1ea3n kh\xe1c":"H\u1ee7y li\xean k\u1ebft th\u1ea5t b\u1ea1i",isFacebookLoggingIn:!1}})):(r.setState((function(){return{isFacebookLoggingIn:!1,message:"H\u1ee7y li\xean k\u1ebft th\xe0nh c\xf4ng"}})),r.saveUpdatedInfo({ConnectedFacebook:!1}),(n=r.state.user).ConnectedFacebook=!1,r.setState({user:n}));case 5:case"end":return e.stop()}}),e)}))),r.render=function(){var e=r.state,t=e.isLoading,n=e.page404Error,a=e.width,s=e.user,c=e.viewAsGuest,i=e.saveSuccessful,o=e.toggleImageUploader,u=e.errorEmail,l=e.errorFullname,d=e.errorUsername,b=e.errorBirthday,j=e.errorConfirmPassword,h=e.errorCurrentPassword,p=e.errorNewPassword,m=e.errorMessage,f=e.isSending,x=e.message,O=e.passwordStrength,v=e.errorAffiliation,g=e.isGoogleLoggingIn,w=e.isFacebookLoggingIn;if(t)return Object(Y.jsx)(Qt,{});if(n)return Object(Y.jsx)(hn,{});var y=a>=850?"9":"12";return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(Yn.a,{className:"user-profile-div",children:[Object(Y.jsx)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12",children:Object(Y.jsx)("h4",{className:"font-weight-bold",children:"T\xe0i kho\u1ea3n"})}),a>=850&&Object(Y.jsxs)(Gt.a,{className:"avatar-col-user-profile col-lg-3 col-md-3 col-xl-3",children:[Object(Y.jsx)(Lr.a,{className:c?"":"user-avatar-img",src:s.Avatar||"./image/default_avatar.jpg",alt:"".concat(s.Username,"'s avatar"),width:"200px",height:"200px",roundedCircle:!0,style:c?{}:{cursor:"pointer"},onClick:r.toggleImageUploader}),!c&&Object(Y.jsx)(Er,{show:o,onHide:r.toggleImageUploader,uploadImage:r.onUploadImage})]}),Object(Y.jsxs)(Gt.a,{className:"col-lg-".concat(y," col-md-").concat(y," col-xl-").concat(y," info-field"),children:[a<850&&Object(Y.jsxs)("div",{style:{textAlign:"center"},children:[Object(Y.jsx)(Lr.a,{className:c?"":"user-avatar-img",src:s.Avatar||"./image/default_avatar.jpg",alt:"".concat(s.Username,"'s avatar"),width:"150px",height:"150px",roundedCircle:!0,style:c?{}:{cursor:"pointer"},onClick:r.toggleImageUploader}),!c&&Object(Y.jsx)(Er,{show:o,onHide:r.toggleImageUploader,uploadImage:r.onUploadImage})]}),!c&&Object(Y.jsx)(la,{name:"Username",value:s.Username,onChange:r.onChangeUsername,message:d,helpMessage:"B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c thay \u0111\u1ed5i username n\u1ebfu b\u1ea1n \u0111\u0103ng k\xfd b\u1eb1ng Google/Facebook, v\xe0 b\u1ea1n c\u0169ng ch\u1ec9 \u0111\u01b0\u1ee3c thay \u0111\u1ed5i 1 l\u1ea7n duy nh\u1ea5t",disabled:s.UpdatedUsername}),!c&&Object(Y.jsx)(la,{name:"Email",value:s.Email,onChange:r.onChangeEmail,message:u,disabled:!0})]}),Object(Y.jsx)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12 mb-3",children:Object(Y.jsx)("hr",{})}),Object(Y.jsxs)(Yn.a,{className:"col-lg-12 col-md-12 col-xl-12",children:[Object(Y.jsxs)(Gt.a,{className:"col-lg-6 col-md-6 col-xl-6",children:[Object(Y.jsx)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12",style:{marginBottom:"-10px"},children:Object(Y.jsx)("h4",{className:"font-weight-bold",children:"Th\xf4ng tin c\xe1 nh\xe2n"})}),Object(Y.jsxs)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12",children:[c&&Object(Y.jsx)(la,{name:"H\u1ecd v\xe0 t\xean",value:s.Fullname?s.Fullname:"Kh\xf4ng c\xf3 th\xf4ng tin"}),!c&&Object(Y.jsx)(la,{name:"H\u1ecd v\xe0 t\xean",value:s.Fullname,onChange:r.onChangeFullname,message:l}),c&&Object(Y.jsx)(la,{name:"Ng\xe0y sinh",value:s.Birthday?$t()(parseInt(s.Birthday,10)).format("DD/MM/YYYY"):"Kh\xf4ng c\xf3 th\xf4ng tin"}),!c&&Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{style:{fontSize:"18px"},children:"Ng\xe0y sinh"}),Object(Y.jsx)(Ac,{value:"object"===typeof s.Birthday?s.Birthday:$t()(parseInt(s.Birthday,10)),initialViewDate:"01/01/2000",name:"Ng\xe0y sinh",timeFormat:!1,onChange:r.onChangeBirthday,isValidDate:r.validRangeBirthday,message:b})]}),!c&&Object(Y.jsx)(la,{name:"N\u01a1i c\xf4ng t\xe1c",value:s.Affiliation||"",onChange:r.onChangeAffiliation,message:v}),c&&Object(Y.jsx)(la,{name:"Qu\u1ed1c gia",value:s.Country?s.Country:"Kh\xf4ng c\xf3 th\xf4ng tin"}),!c&&Object(Y.jsx)(Dc,{name:"Ch\u1ecdn qu\u1ed1c gia",className:"select-country",value:s.Country?s.Country:"default",onChange:r.onChangeCountry,needName:!1,message:"",options:[{value:"default",text:"Ch\u1ecdn qu\u1ed1c gia",hidden:!0},{value:"Afganistan",text:"Afghanistan"},{value:"Albania",text:"Albania"},{value:"Algeria",text:"Algeria"},{value:"American Samoa",text:"American Samoa"},{value:"Andorra",text:"Andorra"},{value:"Angola",text:"Angola"},{value:"Anguilla",text:"Anguilla"},{value:"Antigua & Barbuda",text:"Antigua & Barbuda"},{value:"Argentina",text:"Argentina"},{value:"Armenia",text:"Armenia"},{value:"Aruba",text:"Aruba"},{value:"Australia",text:"Australia"},{value:"Austria",text:"Austria"},{value:"Azerbaijan",text:"Azerbaijan"},{value:"Bahamas",text:"Bahamas"},{value:"Bahrain",text:"Bahrain"},{value:"Bangladesh",text:"Bangladesh"},{value:"Barbados",text:"Barbados"},{value:"Belarus",text:"Belarus"},{value:"Belgium",text:"Belgium"},{value:"Belize",text:"Belize"},{value:"Benin",text:"Benin"},{value:"Bermuda",text:"Bermuda"},{value:"Bhutan",text:"Bhutan"},{value:"Bolivia",text:"Bolivia"},{value:"Bonaire",text:"Bonaire"},{value:"Bosnia & Herzegovina",text:"Bosnia & Herzegovina"},{value:"Botswana",text:"Botswana"},{value:"Brazil",text:"Brazil"},{value:"British Indian Ocean Ter",text:"British Indian Ocean Ter"},{value:"Brunei",text:"Brunei"},{value:"Bulgaria",text:"Bulgaria"},{value:"Burkina Faso",text:"Burkina Faso"},{value:"Burundi",text:"Burundi"},{value:"Cambodia",text:"Cambodia"},{value:"Cameroon",text:"Cameroon"},{value:"Canada",text:"Canada"},{value:"Canary Islands",text:"Canary Islands"},{value:"Cape Verde",text:"Cape Verde"},{value:"Cayman Islands",text:"Cayman Islands"},{value:"Central African Republic",text:"Central African Republic"},{value:"Chad",text:"Chad"},{value:"Channel Islands",text:"Channel Islands"},{value:"Chile",text:"Chile"},{value:"China",text:"China"},{value:"Christmas Island",text:"Christmas Island"},{value:"Cocos Island",text:"Cocos Island"},{value:"Colombia",text:"Colombia"},{value:"Comoros",text:"Comoros"},{value:"Congo",text:"Congo"},{value:"Cook Islands",text:"Cook Islands"},{value:"Costa Rica",text:"Costa Rica"},{value:"Cote DIvoire",text:"Cote D'Ivoire"},{value:"Croatia",text:"Croatia"},{value:"Cuba",text:"Cuba"},{value:"Curaco",text:"Curacao"},{value:"Cyprus",text:"Cyprus"},{value:"Czech Republic",text:"Czech Republic"},{value:"Denmark",text:"Denmark"},{value:"Djibouti",text:"Djibouti"},{value:"Dominica",text:"Dominica"},{value:"Dominican Republic",text:"Dominican Republic"},{value:"East Timor",text:"East Timor"},{value:"Ecuador",text:"Ecuador"},{value:"Egypt",text:"Egypt"},{value:"El Salvador",text:"El Salvador"},{value:"Equatorial Guinea",text:"Equatorial Guinea"},{value:"Eritrea",text:"Eritrea"},{value:"Estonia",text:"Estonia"},{value:"Ethiopia",text:"Ethiopia"},{value:"Falkland Islands",text:"Falkland Islands"},{value:"Faroe Islands",text:"Faroe Islands"},{value:"Fiji",text:"Fiji"},{value:"Finland",text:"Finland"},{value:"France",text:"France"},{value:"French Guiana",text:"French Guiana"},{value:"French Polynesia",text:"French Polynesia"},{value:"French Southern Ter",text:"French Southern Ter"},{value:"Gabon",text:"Gabon"},{value:"Gambia",text:"Gambia"},{value:"Georgia",text:"Georgia"},{value:"Germany",text:"Germany"},{value:"Ghana",text:"Ghana"},{value:"Gibraltar",text:"Gibraltar"},{value:"Great Britain",text:"Great Britain"},{value:"Greece",text:"Greece"},{value:"Greenland",text:"Greenland"},{value:"Grenada",text:"Grenada"},{value:"Guadeloupe",text:"Guadeloupe"},{value:"Guam",text:"Guam"},{value:"Guatemala",text:"Guatemala"},{value:"Guinea",text:"Guinea"},{value:"Guyana",text:"Guyana"},{value:"Haiti",text:"Haiti"},{value:"Hawaii",text:"Hawaii"},{value:"Honduras",text:"Honduras"},{value:"Hong Kong",text:"Hong Kong"},{value:"Hungary",text:"Hungary"},{value:"Iceland",text:"Iceland"},{value:"India",text:"India"},{value:"Indonesia",text:"Indonesia"},{value:"Iran",text:"Iran"},{value:"Iraq",text:"Iraq"},{value:"Ireland",text:"Ireland"},{value:"Isle of Man",text:"Isle of Man"},{value:"Israel",text:"Israel"},{value:"Italy",text:"Italy"},{value:"Jamaica",text:"Jamaica"},{value:"Japan",text:"Japan"},{value:"Jordan",text:"Jordan"},{value:"Kazakhstan",text:"Kazakhstan"},{value:"Kenya",text:"Kenya"},{value:"Kiribati",text:"Kiribati"},{value:"Korea North",text:"Korea North"},{value:"Korea Sout",text:"Korea South"},{value:"Kuwait",text:"Kuwait"},{value:"Kyrgyzstan",text:"Kyrgyzstan"},{value:"Laos",text:"Laos"},{value:"Latvia",text:"Latvia"},{value:"Lebanon",text:"Lebanon"},{value:"Lesotho",text:"Lesotho"},{value:"Liberia",text:"Liberia"},{value:"Libya",text:"Libya"},{value:"Liechtenstein",text:"Liechtenstein"},{value:"Lithuania",text:"Lithuania"},{value:"Luxembourg",text:"Luxembourg"},{value:"Macau",text:"Macau"},{value:"Macedonia",text:"Macedonia"},{value:"Madagascar",text:"Madagascar"},{value:"Malaysia",text:"Malaysia"},{value:"Malawi",text:"Malawi"},{value:"Maldives",text:"Maldives"},{value:"Mali",text:"Mali"},{value:"Malta",text:"Malta"},{value:"Marshall Islands",text:"Marshall Islands"},{value:"Martinique",text:"Martinique"},{value:"Mauritania",text:"Mauritania"},{value:"Mauritius",text:"Mauritius"},{value:"Mayotte",text:"Mayotte"},{value:"Mexico",text:"Mexico"},{value:"Midway Islands",text:"Midway Islands"},{value:"Moldova",text:"Moldova"},{value:"Monaco",text:"Monaco"},{value:"Mongolia",text:"Mongolia"},{value:"Montserrat",text:"Montserrat"},{value:"Morocco",text:"Morocco"},{value:"Mozambique",text:"Mozambique"},{value:"Myanmar",text:"Myanmar"},{value:"Nambia",text:"Nambia"},{value:"Nauru",text:"Nauru"},{value:"Nepal",text:"Nepal"},{value:"Netherland Antilles",text:"Netherland Antilles"},{value:"Netherlands",text:"Netherlands (Holland, Europe)"},{value:"Nevis",text:"Nevis"},{value:"New Caledonia",text:"New Caledonia"},{value:"New Zealand",text:"New Zealand"},{value:"Nicaragua",text:"Nicaragua"},{value:"Niger",text:"Niger"},{value:"Nigeria",text:"Nigeria"},{value:"Niue",text:"Niue"},{value:"Norfolk Island",text:"Norfolk Island"},{value:"Norway",text:"Norway"},{value:"Oman",text:"Oman"},{value:"Pakistan",text:"Pakistan"},{value:"Palau Island",text:"Palau Island"},{value:"Palestine",text:"Palestine"},{value:"Panama",text:"Panama"},{value:"Papua New Guinea",text:"Papua New Guinea"},{value:"Paraguay",text:"Paraguay"},{value:"Peru",text:"Peru"},{value:"Phillipines",text:"Philippines"},{value:"Pitcairn Island",text:"Pitcairn Island"},{value:"Poland",text:"Poland"},{value:"Portugal",text:"Portugal"},{value:"Puerto Rico",text:"Puerto Rico"},{value:"Qatar",text:"Qatar"},{value:"Republic of Montenegro",text:"Republic of Montenegro"},{value:"Republic of Serbia",text:"Republic of Serbia"},{value:"Reunion",text:"Reunion"},{value:"Romania",text:"Romania"},{value:"Russia",text:"Russia"},{value:"Rwanda",text:"Rwanda"},{value:"St Barthelemy",text:"St Barthelemy"},{value:"St Eustatius",text:"St Eustatius"},{value:"St Helena",text:"St Helena"},{value:"St Kitts-Nevis",text:"St Kitts-Nevis"},{value:"St Lucia",text:"St Lucia"},{value:"St Maarten",text:"St Maarten"},{value:"St Pierre & Miquelon",text:"St Pierre & Miquelon"},{value:"St Vincent & Grenadines",text:"St Vincent & Grenadines"},{value:"Saipan",text:"Saipan"},{value:"Samoa",text:"Samoa"},{value:"Samoa American",text:"Samoa American"},{value:"San Marino",text:"San Marino"},{value:"Sao Tome & Principe",text:"Sao Tome & Principe"},{value:"Saudi Arabia",text:"Saudi Arabia"},{value:"Senegal",text:"Senegal"},{value:"Serbia",text:"Serbia"},{value:"Seychelles",text:"Seychelles"},{value:"Sierra Leone",text:"Sierra Leone"},{value:"Singapore",text:"Singapore"},{value:"Slovakia",text:"Slovakia"},{value:"Slovenia",text:"Slovenia"},{value:"Solomon Islands",text:"Solomon Islands"},{value:"Somalia",text:"Somalia"},{value:"South Africa",text:"South Africa"},{value:"Spain",text:"Spain"},{value:"Sri Lanka",text:"Sri Lanka"},{value:"Sudan",text:"Sudan"},{value:"Suriname",text:"Suriname"},{value:"Swaziland",text:"Swaziland"},{value:"Sweden",text:"Sweden"},{value:"Switzerland",text:"Switzerland"},{value:"Syria",text:"Syria"},{value:"Tahiti",text:"Tahiti"},{value:"Taiwan",text:"Taiwan"},{value:"Tajikistan",text:"Tajikistan"},{value:"Tanzania",text:"Tanzania"},{value:"Thailand",text:"Thailand"},{value:"Togo",text:"Togo"},{value:"Tokelau",text:"Tokelau"},{value:"Tonga",text:"Tonga"},{value:"Trinidad & Tobago",text:"Trinidad & Tobago"},{value:"Tunisia",text:"Tunisia"},{value:"Turkey",text:"Turkey"},{value:"Turkmenistan",text:"Turkmenistan"},{value:"Turks & Caicos Is",text:"Turks & Caicos Is"},{value:"Tuvalu",text:"Tuvalu"},{value:"Uganda",text:"Uganda"},{value:"Ukraine",text:"Ukraine"},{value:"United Arab Erimates",text:"United Arab Emirates"},{value:"United Kingdom",text:"United Kingdom"},{value:"United States of America",text:"United States of America"},{value:"Uraguay",text:"Uruguay"},{value:"Uzbekistan",text:"Uzbekistan"},{value:"Vanuatu",text:"Vanuatu"},{value:"Vatican City State",text:"Vatican City State"},{value:"Venezuela",text:"Venezuela"},{value:"Vietnam",text:"Vietnam"},{value:"Virgin Islands (Brit)",text:"Virgin Islands (Brit)"},{value:"Virgin Islands (USA)",text:"Virgin Islands (USA)"},{value:"Wake Island",text:"Wake Island"},{value:"Wallis & Futana Is",text:"Wallis & Futana Is"},{value:"Yemen",text:"Yemen"},{value:"Zaire",text:"Zaire"},{value:"Zambia",text:"Zambia"},{value:"Zimbabwe",text:"Zimbabwe"}]})]})]}),Object(Y.jsxs)(Gt.a,{className:"col-lg-6 col-md-6 col-xl-6",children:[Object(Y.jsx)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12",style:{marginBottom:"-10px"},children:Object(Y.jsx)("h4",{className:"font-weight-bold",children:"M\u1eadt kh\u1ea9u"})}),Object(Y.jsxs)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12",children:[!c&&Object(Y.jsx)(la,{name:"M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i",type:"password",value:s.Password?s.Password:"",onChange:r.onChangeCurrentPassword,message:h,helpMessage:"N\u1ebfu b\u1ea1n \u0111\u0103ng k\xfd v\u1edbi Google/Facebook th\xec thay \u0111\u1ed5i password l\u1ea7n \u0111\u1ea7u kh\xf4ng y\xeau c\u1ea7u nh\u1eadp ph\u1ea7n n\xe0y",disabled:!s.UpdatedPassword}),!c&&Object(Y.jsx)(la,{name:"M\u1eadt kh\u1ea9u m\u1edbi",type:"password",value:s.NewPassword?s.NewPassword:"",onChange:r.onChangeNewPassword,message:p,className:"change-user-info-new-password"}),!c&&O>0?Object(Y.jsx)(ra.a,{style:{padding:0},children:Object(Y.jsxs)(Yn.a,{className:"justify-content-md-center",children:[Object(Y.jsx)(Gt.a,{className:"".concat(O>0&&"very-weak-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(O>1&&"weak-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(O>2&&"medium-password")}),Object(Y.jsx)(Gt.a,{className:"".concat(O>3&&"strong-password")})]})}):null,!c&&Object(Y.jsx)(la,{name:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi",type:"password",value:s.ConfirmPassword?s.ConfirmPassword:"",onChange:r.onChangeConfirmPassword,message:j})]})]})]}),Object(Y.jsx)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12 mb-2",children:Object(Y.jsx)("hr",{})}),Object(Y.jsx)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12",style:{marginBottom:"-10px"},children:Object(Y.jsx)("h4",{className:"font-weight-bold",children:"Li\xean k\u1ebft t\xe0i kho\u1ea3n"})}),Object(Y.jsxs)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12 mt-3",children:[Object(Y.jsxs)(Sc.a,{horizontal:!0,style:{textAlign:"left"},children:[Object(Y.jsx)(Ic.a,{className:"col-lg-2 col-md-2 col-xl-2 border-0",children:Object(Y.jsx)("div",{className:"social-login-button",style:{height:"1.5rem",width:"1.5rem"},children:Object(Y.jsx)("img",{src:"./image/logo/google.svg",alt:"google-login"})})}),Object(Y.jsx)(Ic.a,{className:"col-lg-2 col-md-2 col-xl-2 border-0",children:s.ConnectedGoogle?"\u0110\xe3 li\xean k\u1ebft":"Ch\u01b0a li\xean k\u1ebft"}),Object(Y.jsx)(Ic.a,{className:"border-0",children:s.ConnectedGoogle?Object(Y.jsx)("button",{type:"button",onClick:r.disConnectGoogle,disabled:g,className:"social-login-button sm",children:g?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):Object(Y.jsx)("span",{className:"fas fa-trash fa-lg"})}):Object(Y.jsx)(aa.GoogleLogin,{clientId:r.GOOGLE_ID,render:function(e){return Object(Y.jsx)("button",{type:"button",onClick:function(){e.onClick()},disabled:e.disabled,className:"social-login-button sm",children:g?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):Object(Y.jsx)("span",{className:"fas fa-link fa-lg"})})},buttonText:"Li\xean k\u1ebft",onSuccess:r.successResponseGoogle,onFailure:r.failureResponseGoogle,cookiePolicy:"single_host_origin"})})]}),Object(Y.jsxs)(Sc.a,{horizontal:!0,style:{textAlign:"left"},children:[Object(Y.jsx)(Ic.a,{className:"col-lg-2 col-md-2 col-xl-2 border-0",children:Object(Y.jsx)("div",{className:"social-login-button sm",style:{height:"1.5rem",width:"1.5rem"},children:Object(Y.jsx)("img",{src:"./image/logo/facebook.svg",alt:"facebook-login"})})}),Object(Y.jsx)(Ic.a,{className:"col-lg-2 col-md-2 col-xl-2 border-0",children:s.ConnectedFacebook?"\u0110\xe3 li\xean k\u1ebft":"Ch\u01b0a li\xean k\u1ebft"}),Object(Y.jsx)(Ic.a,{className:"border-0",children:s.ConnectedFacebook?Object(Y.jsx)("button",{type:"button",onClick:r.disConnectFacebook,disabled:w,className:"social-login-button sm",children:w?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):Object(Y.jsx)("span",{className:"fas fa-trash fa-lg"})}):Object(Y.jsx)(ca.a,{appId:r.FACEBOOK_ID,textButton:"",icon:w?Object(Y.jsx)("div",{style:{padding:"5px 0 5px 0"},children:Object(Y.jsx)(Yt,{})}):Object(Y.jsx)("span",{className:"fas fa-link fa-lg"}),cssClass:"social-login-button sm",fields:"name,email,picture",callback:r.responseFacebook})})]})]})]}),!c&&Object(Y.jsx)(Yn.a,{style:{textAlign:"center",marginBottom:"2%",marginTop:"3%"},children:Object(Y.jsx)(Gt.a,{className:"col-lg-12 col-md-12 col-xl-12",style:{textAlign:"center"},children:Object(Y.jsx)("button",{onClick:r.onChangeUserInformation,type:"button",className:"basic-component-button save-user-info-button ".concat("12"===y?"w-100":"w-50"," py-2 bg-light-blue"),style:{fontSize:"1rem"},children:f?Object(Y.jsx)(Yt,{}):Object(Y.jsxs)("div",{children:[Object(Y.jsx)("span",{className:"fas fa-save"}),"\xa0\xa0C\u1eadp nh\u1eadt th\xf4ng tin"]})})})}),i&&Object(Y.jsx)(La,{title:"Th\xf4ng b\xe1o",message:x||"C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng",clearError:r.onCloseSuccessModal}),m&&Object(Y.jsx)(La,{title:"L\u1ed7i",error:m,clearError:r.onCloseSuccessModal})]})},r.state={isLoading:!0,isSending:!1,viewAsGuest:!0,saveSuccessful:!1,user:null,width:window.innerWidth,page404Error:!1,errorMessage:"",errorFullname:"",errorUsername:"",errorEmail:"",errorBirthday:"",errorAffiliation:"",errorCurrentPassword:"",errorNewPassword:"",errorConfirmPassword:"",passwordStrength:0,toggleImageUploader:!1,isGoogleLoggingIn:!1,isFacebookLoggingIn:!1},r.GOOGLE_ID="916414237631-rbrot0g9ghrsi758m2ad92noobe1a7v5.apps.googleusercontent.com",r.FACEBOOK_ID="773118273601172",window.addEventListener("resize",(function(){r.setState((function(){return{width:window.innerWidth}}))})),r}return n}(a.a.Component),Ec=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state=Object(Re.a)(Object(Re.a)({},r.state),{},{linkToDetail:"users/".concat(e.userId,"/submissions/")}),r}return n}(Jr),Mc=function(e){var t=e.uid;return Object(Y.jsx)("div",{style:{padding:"30px"},children:Object(Y.jsx)(Ec,{apiUrl:"users/".concat(t,"/submissions?"),userId:t,showProblemName:!0})})},Bc=function(e){var t=e.match;return Number.isInteger(parseInt(t.params.uid,10))?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Home","/"],["Th\xf4ng tin c\xe1 nh\xe2n"]]}),Object(Y.jsx)(Ft,{className:"user-profile-body",children:Object(Y.jsx)(Gt.a,{children:Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)(Uc,{route:"profile",title:"Th\xf4ng tin c\xe1 nh\xe2n",uid:parseInt(t.params.uid,10)}),Object(Y.jsx)(Mc,{route:"submissions",title:"B\xe0i n\u1ed9p",uid:parseInt(t.params.uid,10)})]})})})]}):Object(Y.jsx)(Cc.Redirect,{to:"/"})},Fc=function(){return(0,Object(r.useContext)(K).verifyUser)()?Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/users/:uid",component:Bc}),Object(Y.jsx)(d.Route,{exact:!0,path:"/users/:uid/:view",component:Bc}),Object(Y.jsx)(d.Route,{exact:!0,path:"/users/:uid/submissions/:submissionId",component:Gs}),Object(Y.jsx)(d.Route,{component:hn})]}):Object(Y.jsx)(d.Redirect,{to:"/"})},qc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,(n=!(i.length>1&&void 0!==i[1])||i[1])&&r.setState((function(){return{isLoading:!0}})),e.next=5,Xe.getProblemSubmissions(r.props.Id,t);case 5:a=e.sent,s=a.submissions,c=a.totalSubmissions,r.setState((function(){return{submissions:s,totalSubmissions:c,currentPage:t}})),n&&r.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{linkToDetail:"problems/".concat(e.Id,"/submissions/")}),r}return n}(Jr),Gc=void 0,Hc=new me;Hc.import(Cr);var Vc=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(void 0),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(void 0),d=Object(b.a)(l,2),j=d[0],h=d[1],p=Object(r.useState)(!1),m=Object(b.a)(p,2),f=m[0],x=m[1],O=Object(r.useState)("vertical"),v=Object(b.a)(O,2),g=v[0],w=v[1],y=Object(r.useContext)(Da),k=y.getCollection,C=y.getProblem,S=function(){x(!f)},I=function(){window.innerWidth<800?w("horizontal"):w("vertical")};return Object(r.useEffect)((function(){return function(){var t=Object(M.a)(E.a.mark((function t(){var n,r,a,c,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params,r=n.collId,a=n.Id,t.next=3,k(r);case 3:return c=t.sent,h(c),t.next=7,C(a);case 7:i=t.sent,u(i),s(!0);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),document.getElementsByClassName("footer")[0].style.display="none",I(),window.addEventListener("resize",I.bind(Gc)),Hc.use("vi"),function(){document.getElementsByClassName("footer")[0].style.display="flex",window.removeEventListener("resize",I.bind(Gc))}}),[]),a?Object(Y.jsx)(Oe.Consumer,{children:function(){return Hc.use("vi"),Object(Y.jsxs)("div",{className:"problem-page-wrapper ".concat("vertical"===g?"fit-height":""),children:[Object(Y.jsx)("div",{className:"top-bar",children:Object(Y.jsx)(ye,{nav:[["home","/"],["collections","/collections"],[j.Name,"/collections/".concat(j.Id)],[o.Name]]})}),Object(Y.jsx)("div",{className:"content-problem",children:Object(Y.jsxs)(Bt,{orientation:g,children:[f?null:Object(Y.jsxs)(qn,{controlKey:"view",children:[Object(Y.jsx)(Tr,{title:Hc.get("statement"),route:"statement",problem:o}),Object(Y.jsx)("div",{title:Hc.get("submissions"),route:"submissions",children:Object(Y.jsx)(qc,{collId:j.Id,Id:o.Id})}),o.PublicAnalysis&&Object(Y.jsx)("div",{title:Hc.get("tutorials"),route:"tutorial",children:Object(Y.jsx)(Zr,{tutorials:o.Tutorials})})]}),Object(Y.jsx)(lr,{problem:o,allowFullScreen:!0,fullScreening:f,onFullScreen:S})]})})]})}}):Object(Y.jsx)(_t,{})},zc={vi:{Collections:"B\xe0i t\u1eadp theo ch\u1ee7 \u0111\u1ec1",Courses:"C\xe1c kh\xf3a h\u1ecdc"}},Wc={vi:{collections:"B\xe0i t\u1eadp theo ch\u1ee7 \u0111\u1ec1",code:"M\xe3 ch\u1ee7 \u0111\u1ec1",name:"T\xean ch\u1ee7 \u0111\u1ec1",setting:"C\xe0i \u0111\u1eb7t","add new":"Th\xeam m\u1edbi","collection code":"M\xe3 ch\u1ee7 \u0111\u1ec1",description:"M\xf4 t\u1ea3",type:"Lo\u1ea1i ch\u1ee7 \u0111\u1ec1",published:"C\xf4ng khai",onhomepage:"Hi\u1ec7n \u1edf trang ch\u1ee7","medal level":"Huy ch\u01b0\u01a1ng h\u1ea1ng ",change:"Thay \u0111\u1ed5i",information:"Th\xf4ng tin",problems:"B\xe0i t\u1eadp","Only show sub collections":"Ch\u1ec9 hi\u1ec7n collection con","Only show problems":"Ch\u1ec9 hi\u1ec7n danh s\xe1ch b\xe0i t\u1eadp"}},Yc=function(e){var t=e.collection;return Object(Y.jsx)(Xt.a,{className:"single-course shadow-sm my-3",children:Object(Y.jsx)(Xt.a.Body,{className:"p-2",children:Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{className:"col-md-3 d-table h-100",children:Object(Y.jsx)("div",{className:"h-100 card card-block d-table-cell align-middle p-2",children:Object(Y.jsx)(Xt.a.Img,{height:"auto",width:"100%",src:t.Background||"./image/logo.svg"})})}),Object(Y.jsxs)(Gt.a,{className:"col-md-7 py-3",children:[Object(Y.jsx)(Xt.a.Title,{style:{fontWeight:"600",fontSize:"20px",marginBottom:"20px"},children:t.Name}),Object(Y.jsx)(Xt.a.Body,{className:"py-0",children:Object(Y.jsxs)("ul",{children:[Object(Y.jsx)("li",{children:t.Description}),Object(Y.jsxs)("li",{children:["Lo\u1ea1i ch\u1ee7 \u0111\u1ec1:"," ",0===t.Type?"Ch\u1ee9a ch\u1ee7 \u0111\u1ec1 con":"Ch\u1ee9a b\xe0i t\u1eadp"]})]})})]})]})})})},Kc=new me;Kc.import(Wc);var Qc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchCollections=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({fetched:!1}),!t){e.next=6;break}return e.next=4,r.collectionContext.getCollections(parseInt(t,10));case 4:e.next=8;break;case 6:return e.next=8,r.collectionContext.getCollections();case 8:r.setState({fetched:!0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.componentDidMount=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.parentId,e.next=3,r.fetchCollections(t);case 3:r.setState({fetched:!0});case 4:case"end":return e.stop()}}),e)}))),r.shouldComponentUpdate=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.parentId===t.parentId){e.next=5;break}return n=t.parentId,e.next=4,r.fetchCollections(n);case 4:return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={fetched:!0},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(Da.Consumer,{children:function(t){if(e.collectionContext=t,!e.state.fetched)return Object(Y.jsx)(Qt,{});var n=e.collectionContext.collections;return Object(Y.jsx)(Oe.Consumer,{children:function(e){var t=e.language;return Kc.use(t),Object(Y.jsx)("div",{children:n.map((function(e){return Object(Y.jsx)(j.a,{to:"/collections/".concat(e.Id),children:Object(Y.jsx)(Yc,{collection:e})},e.Id)}))})}})}})}}]),n}(a.a.Component);Qc.defaultProps={parentId:null};var Jc=Qc,_c=new me;_c.import(Cn);var Xc=function(){var e=Object(r.useContext)(Da).collection,t=Object(r.useContext)(Oe).language;return _c.use(t),Object(Y.jsx)("div",{children:e.Problems.map((function(t){var n=mn()({"text-warning":"Medium"===t.Difficulty,"text-success":["Easy","Very Easy"].includes(t.Difficulty),"text-danger":"Hard"===t.Difficulty,"light-blue":"Secret"===t.Difficulty});return Object(Y.jsx)(j.a,{to:"/collections/".concat(e.Id,"/problems/").concat(t.Id),children:Object(Y.jsx)(Xt.a,{className:"border corner shadow-sm user-single-problem mt-3",children:Object(Y.jsxs)(Xt.a.Body,{className:"d-flex",children:[Object(Y.jsxs)("div",{className:"flex-grow-1",children:[Object(Y.jsx)("h2",{className:"font-semi-bold",children:t.Name}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{children:["\u0110\u1ed9 kh\xf3:\xa0",Object(Y.jsx)("span",{className:n,children:_c.get(t.Difficulty)})]}),Object(Y.jsxs)("li",{children:["S\u1ed1 ng\u01b0\u1eddi gi\u1ea3i:\xa0",t.TotalSolved]})]})]}),Object(Y.jsx)("div",{children:t.IsSolved?Object(Y.jsx)("div",{className:"bg-green text-white px-2 py-1",style:{borderRadius:"10rem"},children:"\u0110\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c"}):Object(Y.jsx)("div",{className:"bg-light-pink text-white px-2 py-1",style:{borderRadius:"10rem"},children:"Ch\u01b0a gi\u1ea3i \u0111\u01b0\u1ee3c"})})]})},t.Id)},t.Id)}))})},Zc=new me;Zc.import(zc);var $c=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=Object(M.a)(E.a.mark((function t(){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.props.match.params.collId)){t.next=6;break}return t.next=4,e.collectionContext.getCollection(parseInt(n,10));case 4:t.next=8;break;case 6:return t.next=8,e.collectionContext.resetCollection();case 8:case"end":return t.stop()}}),t)}))),e.shouldComponentUpdate=function(){var t=Object(M.a)(E.a.mark((function t(n){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.match.params.collId){t.next=3;break}return t.next=3,e.collectionContext.resetCollection();case 3:if(e.props.match.params.collId===n.match.params.collId){t.next=9;break}if(!(r=n.match.params.collId)){t.next=8;break}return t.next=8,e.collectionContext.getCollection(parseInt(r,10));case 8:return t.abrupt("return",!0);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(Da.Consumer,{children:function(t){e.collectionContext=t;var n=e.props.match,r=e.collectionContext.collection,a=r?r.navigation():[];return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:Object(tt.a)(a)}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(Et,{children:[Object(Y.jsx)(Oe.Consumer,{children:function(e){var t=e.language;return Zc.use(t),Object(Y.jsx)(X.a,{variant:"h5",children:Object(Y.jsx)("strong",{children:r.Name?r.Name:Zc.get("Collections")})})}}),0===r.Type&&Object(Y.jsx)(Jc,{parentId:n.params.collId}),1===r.Type&&Object(Y.jsx)(Xc,{})]})})]})}})}}]),n}(a.a.Component),ei=function(){return(0,Object(r.useContext)(K).verifyUser)()?Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/collections",component:$c}),Object(Y.jsx)(d.Route,{exact:!0,path:"/collections/:collId",component:$c}),Object(Y.jsx)(d.Route,{exact:!0,path:"/collections/:collId/problems/:Id",component:Vc})]}):Object(Y.jsx)(d.Redirect,{to:"/"})},ti=function(){return Object(Y.jsx)(Ua,{children:Object(Y.jsx)(Na,{children:Object(Y.jsx)(rn,{children:Object(Y.jsx)(Ra,{children:Object(Y.jsx)(Ba,{children:Object(Y.jsx)(Rt,{children:Object(Y.jsx)(wa,{children:Object(Y.jsx)(Ga,{children:Object(Y.jsx)(Wa,{children:Object(Y.jsx)(ac,{children:Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/",component:Hs}),Object(Y.jsx)(d.Route,{path:"/contests",component:Hs}),Object(Y.jsx)(d.Route,{path:"/courses",component:na}),Object(Y.jsx)(d.Route,{path:"/collections",component:ei}),Object(Y.jsx)(d.Route,{path:"/articles",component:kc}),Object(Y.jsx)(d.Route,{path:"/users",component:Fc}),Object(Y.jsx)(d.Route,{exact:!0,path:"/login",component:ja}),Object(Y.jsx)(d.Route,{exact:!0,path:"/register",component:pa}),Object(Y.jsx)(d.Route,{path:"/help",component:Ks}),Object(Y.jsx)(d.Route,{exact:!0,path:"/forgot",component:ma}),Object(Y.jsx)(d.Route,{exact:!0,path:"/reset",component:fa}),Object(Y.jsx)(d.Route,{exact:!0,path:"/SGCT/authentication",component:Oa}),Object(Y.jsx)(d.Route,{component:hn})]})})})})})})})})})})})},ni=function(e){var t=e.logo,n=e.color,r=e.title,a=e.addButton;return Object(Y.jsx)(Xt.a,{className:"single-admin-feature shadow-sm",children:Object(Y.jsxs)("div",{onClick:function(t){return function(t){"add-button"===t.target.id||"add-button"===t.target.parentElement.id?e.history.push("".concat(e.link,"/add")):e.history.push("".concat(e.link))}(t)},role:"link",tabIndex:"0",children:[Object(Y.jsx)("div",{className:"cover",children:Object(Y.jsx)(Yn.a,{children:Object(Y.jsx)(Gt.a,{md:4,xs:4,className:"logo",children:Object(Y.jsx)("span",{className:t,style:{color:n}})})})}),Object(Y.jsx)("hr",{className:"m-1"}),Object(Y.jsx)("div",{className:"control",children:Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:8,xs:8,children:Object(Y.jsx)("h2",{children:r})}),Object(Y.jsx)(Gt.a,{md:4,xs:4,className:"text-right",children:a&&Object(Y.jsx)("button",{className:"control-add",type:"button",id:"add-button",children:Object(Y.jsx)("span",{className:"fas fa-plus"})})||Object(Y.jsx)("button",{className:"control-add",type:"button",children:Object(Y.jsx)("span",{className:"fas fa-tools"})})})]})})]})})},ri=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getRoleFeatures",value:function(){var e={Administrator:["Problems","Executable","Contests","Quizzes","Contest","Collections","Courses","Articles","Users","Judgehosts","Notification","Contribute","Premium"],Moderator:["Problems","Executable","Contests","Quizzes","Contest","Collections","Courses","Articles","Users","Judgehosts","Notification","Contribute","Premium"],SuperAdministrator:["Problems","Executable","Contests","Quizzes","Contest","Collections","Courses","Articles","Users","Judgehosts","Notification","Contribute","Premium"]}[Object(B.a)("Role")];return[["fas fa-file-powerpoint","Problems","/admin/problems","#2ecc71",!0],["fas fa-bible","Collections","/admin/collections","#9542f5",!0],["fas fa-cog","Executable","/admin/executable","#e74c3c",!0],["fas fa-trophy","Contests","/admin/contests","#fbc531",!0],["fas fa-chalkboard-teacher","Courses","/admin/courses","#44bd32",!0],["fas fa-newspaper","Articles","/admin/articles","#e37617",!0],["fas fa-users-cog","Users","/admin/users","#273c75",!1],["fas fa-gavel","Judgehosts","/admin/judgehosts","#273c75",!1]].filter((function(t){return e.includes(t[1])}))}}]),e}(),ai=function(e){var t=ri.getRoleFeatures();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["home","/"],["Admin","/admin"]]}),Object(Y.jsx)(Ft,{children:t.map((function(t,n){return Object(Y.jsx)(ni,{logo:t[0],title:t[1],link:t[2],color:t[3],addButton:t[4],number:256,history:e.history},n)}))})]})},si=a.a.createContext(),ci=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchProblems=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i,o,u,l=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},n=!(l.length>1&&void 0!==l[1])||l[1],a=l.length>2&&void 0!==l[2]&&l[2],!n&&0!==r.state.problems.length){e.next=16;break}if(!a){e.next=10;break}return e.next=7,Xe.getProblems(t);case 7:s=e.sent,e.next=13;break;case 10:return e.next=12,Ke.a.getProblems(t);case 12:s=e.sent;case 13:i=(c=s).problems,o=c.totalProblems,u=i.map((function(e){return a?new Je(e):new ot(e)})),r.setState({totalProblems:o,problems:u});case 16:case"end":return e.stop()}}),e)}))),r.removeProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=3;break}return e.next=3,Ke.a.removeProblem(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={problems:[],totalProblems:0,fetchProblems:r.fetchProblems,editProblem:r.editProblem,filterProblems:r.filterProblems,removeProblem:r.removeProblem,addProblem:r.addProblem},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(si.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),ii=function(e){var t,n=a.a.createRef();Object(r.useEffect)((function(){if(e.toggleQuery){var t=ze.a.getAllQueryString();n.current.value=t[e.searchKey]||""}}),[]);var s=e.Id,c=e.placeholder;return Object(Y.jsxs)("div",{className:"d-flex border rounded",children:[Object(Y.jsx)("div",{className:"px-2 bg-white rounded d-flex align-items-center",children:Object(Y.jsx)("span",{className:"fas fa-search fa-fw d-inline-block"})}),Object(Y.jsx)(wn.a,{id:s,className:"border-0 rounded pl-0","aria-label":"Search",placeholder:c,onKeyUp:function(){clearTimeout(t),e.toggleQuery?t=setTimeout((function(){try{ze.a.setQueryString(e.searchKey,n.current.value)}catch(t){}}),500):e.onChange({target:{value:n.current.value}})},maxLength:"15",ref:n})]})};ii.defaultProps={Id:"search-pattern",onChange:void 0,searchKey:"search",placeholder:"Search",toggleQuery:!1};var oi=ii,ui=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onRemoveTag=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.tag,r.setState({isRemoving:!0}),e.next=4,r.tagContext.removeTag(t);case 4:r.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),r.state={isRemoving:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.isRemoving,n=this.props.tag;return Object(Y.jsx)(Aa.Consumer,{children:function(r){return e.tagContext=r,Object(Y.jsxs)(Yn.a,{className:"border-bottom p-2",children:[Object(Y.jsx)(Gt.a,{md:10,xs:10,children:n}),Object(Y.jsx)(Gt.a,{md:2,xs:2,children:Object(Y.jsx)("button",{type:"button",className:"bg-white text-danger border-0",disabled:!0===t,onClick:e.onRemoveTag,children:t?Object(Y.jsx)(Yt,{}):Object(Y.jsx)("span",{className:"fas fa-trash"})})})]})}})}}]),n}(a.a.Component),li=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onAddTag=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.tag,r.setState({isAddingTag:!0}),e.next=4,r.tagContext.addTag(t);case 4:r.setState({isAddingTag:!1,tag:""});case 5:case"end":return e.stop()}}),e)}))),r.state={tag:"",isAddingTag:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isAddingTag,r=t.tag;return Object(Y.jsx)(Aa.Consumer,{children:function(t){return e.tagContext=t,Object(Y.jsxs)(xn,{title:"Tags",children:[t.tags.map((function(e){return Object(Y.jsx)(ui,{tag:e},e.Id)})),Object(Y.jsxs)("div",{className:"d-flex m-2",children:[Object(Y.jsx)(wn.a,{onChange:function(t){return e.setState({tag:t.target.value.toLowerCase()})},placeholder:"Tag name","aria-label":"Tag name",className:"p-1 flex-grow-1",value:r,maxLength:20}),Object(Y.jsx)(er,{className:"bg-light-blue white px-2 ml-1",onClick:e.onAddTag,disabled:n,children:n?Object(Y.jsx)(Yt,{}):"Add"})]})]})}})}}]),n}(a.a.Component),di=a.a.createContext(),bi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.getProblem(t);case 2:if(!(n=e.sent)){e.next=7;break}return e.next=6,Ke.a.getModerators(t);case 6:n.Moderators=e.sent;case 7:a=r.state.container,n&&a.add(new ot(Xe.parse(n)),0),r.setState((function(){return{container:a}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(t,10),e.next=3,r.fetchProblem(n);case 3:return e.abrupt("return",r.state.container.getId(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.addProblem(t);case 2:return"string"===typeof(n=e.sent)?r.setState({error:n}):(a=r.state.container,n=new ot(n),a.add(n),r.setState({container:a})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.editProblemLocal=function(e){r.state.container.update(e)},r.editProblem=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.update(n);case 2:if("string"!==typeof(a=e.sent)){e.next=6;break}return r.setState({error:a}),e.abrupt("return",a);case 6:return r.state.container.update(Te.a.cloneDeep(t)),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.removeProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("ARE YOU SURE?")){e.next=10;break}return e.next=3,Ke.a.removeProblem(t.Id);case 3:if(!(n=e.sent)){e.next=7;break}return r.setState({error:n}),e.abrupt("return",!1);case 7:return r.state.container.remove(t),r.setState({message:"Problem removed!"}),e.abrupt("return",!0);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.clearError=function(){r.setState({error:"",message:""})},r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{addProblem:r.addProblem,editProblem:r.editProblem,removeProblem:r.removeProblem,fetchProblem:r.fetchProblem,getProblem:r.getProblem,editProblemLocal:r.editProblemLocal,error:"",message:""}),r}return Object(o.a)(n,[{key:"render",value:function(){return Object(Y.jsxs)("div",{style:{height:"100%"},children:[Object(Y.jsx)(di.Provider,{value:this.state,children:this.props.children}),(this.state.error.length>0||this.state.message.length>0)&&Object(Y.jsx)(La,{title:"Problem",clearError:this.clearError,message:this.state.message,error:this.state.error})]})}}]),n}(Na),ji=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).refresh=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({refreshing:!0});case 2:return e.next=4,r.setState({refreshing:!1});case 4:case"end":return e.stop()}}),e)}))),r.onRemove=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.removeProblem,a=t.problem,r.setState({isRemoving:!0}),e.next=4,n(a.Id);case 4:r.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),r.state={problem:e.problem,refreshing:!1,isRemoving:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.problem,r=t.refreshing,a=t.isRemoving,s=n.Id,c=n.ProblemCode,i=n.Name,o=n.Creator,u=n.Solved,l=n.Published,d=n.Premium;return r?Object(Y.jsx)("tr",{}):Object(Y.jsx)(di.Consumer,{children:function(t){return e.problemContext=t,Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(s),children:c})}),Object(Y.jsx)(Oe.Consumer,{children:function(){return Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(s),children:Object(Y.jsx)("strong",{children:i})})})}}),Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:"/user/".concat(o.Username),children:o.Username})}),Object(Y.jsx)("td",{style:{textAlign:"right"},children:u}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:Object(Y.jsx)(sr,{className:"green",id:"public-".concat(c),name:"public-".concat(c),checked:l,onChange:Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.togglePublished();case 2:return e.problemContext.editProblemLocal(n),t.next=5,e.refresh();case 5:case"end":return t.stop()}}),t)})))})}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:Object(Y.jsx)(sr,{className:"green",id:"premium-".concat(c),name:"premium-".concat(c),checked:d,onChange:Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.togglePremium();case 2:return e.problemContext.editProblemLocal(n),t.next=5,e.refresh();case 5:case"end":return t.stop()}}),t)})))})}),Object(Y.jsx)("td",{}),Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:"/admin/problems/edit/".concat(s),children:Object(Y.jsx)("button",{type:"button",className:"basic-component-button bg-light-pink text-white",children:Object(Y.jsx)("span",{className:"fas fa-pen"})})})}),Object(Y.jsx)("td",{children:Object(Y.jsx)("button",{type:"button",className:"basic-component-button bg-light-pink text-white",onClick:e.onRemove,disabled:a,children:a&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{className:"fas fa-trash"})})})]})}})}}]),n}(a.a.Component),hi={vi:{"add new":"Th\xeam m\u1edbi","total problems":"S\u1ed1 l\u01b0\u1ee3ng b\xe0i t\u1eadp",code:"M\xe3 b\xe0i",name:"T\xean b\xe0i",author:"T\xe1c gi\u1ea3",solved:"Gi\u1ea3i \u0111\u01b0\u1ee3c"}},pi=new me;pi.import(hi);var mi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).refresh=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze.a.setQueryString("page",r.state.page),r.setState({fetched:!1}),e.next=4,r.fetchProblems();case 4:case"end":return e.stop()}}),e)}))),r.fetchProblems=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ze.a.getAllQueryString(),e.next=3,r.problemContext.fetchProblems(t);case 3:r.setState({numberOfPage:Math.ceil(r.problemContext.totalProblems/20),fetched:!0});case 4:case"end":return e.stop()}}),e)}))),r.removeProblem=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.problemContext.removeProblem(t);case 3:return e.next=5,r.refresh();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),r.itemPerPage=20;var a=ze.a.getAllQueryString(),s=a.page,c=a.search;return r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{page:Number(s)||1,fetched:!1,search:c}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(si.Consumer,{children:function(t){return e.problemContext=t,e.state.fetched?Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsx)(Oe.Consumer,{children:function(e){var t=e.language;return pi.use(t),Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"15%"},rowSpan:2,children:pi.get("Code")}),Object(Y.jsx)("th",{rowSpan:2,children:pi.get("Name")}),Object(Y.jsx)("th",{style:{width:"10%"},rowSpan:2,children:pi.get("Author")}),Object(Y.jsx)("th",{style:{width:"2%",textAlign:"center"},rowSpan:2,children:Object(Y.jsx)("span",{className:"fas fa-user-check"})}),Object(Y.jsx)("th",{style:{width:"2%",textAlign:"center"},children:Object(Y.jsx)("span",{className:"fas fa-globe-americas"})}),Object(Y.jsx)("th",{style:{width:"2%",textAlign:"center"},children:Object(Y.jsx)("span",{className:"fas fa-dollar-sign"})}),Object(Y.jsx)("th",{style:{width:"2%",textAlign:"center"},children:Object(Y.jsx)("span",{className:"fas fa-pencil-ruler"})}),Object(Y.jsx)("th",{style:{width:"2%",textAlign:"center"},children:Object(Y.jsx)("span",{className:"fas fa-pen"})}),Object(Y.jsx)("th",{style:{width:"2%",textAlign:"center"},children:Object(Y.jsx)("span",{className:"fas fa-trash"})})]})}})}),Object(Y.jsx)("tbody",{children:t.problems.map((function(t){return Object(Y.jsx)(ji,{problem:t,removeProblem:e.removeProblem},t.Id)}))})]}),Object(Y.jsx)("br",{}),e.renderPagination(e.refresh)]}):Object(Y.jsx)(Qt,{})}})}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ze.a.getAllQueryString(),n=t.search,(r=t.page)===this.state.page){e.next=7;break}return e.next=4,this.setState({page:r||1});case 4:return e.next=6,this.refresh();case 6:return e.abrupt("return");case 7:if(void 0===n||n===this.state.search){e.next=12;break}return e.next=10,this.setState({page:1,search:n});case 10:return e.next=12,this.refresh();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchProblems();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ln),fi=function(){var e=new me;e.import(hi);var t=Object(r.useContext)(Oe).language;e.use(t);var n=Object(r.useContext)(si).totalProblems;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["problems","/admin/problems"]]}),Object(Y.jsxs)(Ft,{children:[Object(Y.jsx)(Et,{md:9,children:Object(Y.jsx)(Xt.a,{style:{width:"100%"},className:"shadow-sm",children:Object(Y.jsxs)(Xt.a.Body,{className:"p-2",children:[Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h2",{className:"mb-3",children:Object(Y.jsx)("strong",{children:"B\xe0i t\u1eadp"})}),Object(Y.jsxs)("div",{className:"mb-2 d-flex",children:[Object(Y.jsx)("div",{className:"mr-2",children:Object(Y.jsx)(j.a,{to:"/admin/problems/add",children:Object(Y.jsx)(er,{className:"bg-green p-2 shadow-sm",children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ",e.get("Add new")]})})})}),Object(Y.jsx)("div",{className:"mr-2",children:Object(Y.jsx)(er,{className:"bg-green corner p-2 text-white",children:Object(Y.jsxs)("strong",{children:[e.get("Total problems"),":"," ",n]})})}),Object(Y.jsx)("div",{className:"flex-grow-1",children:Object(Y.jsx)(oi,{toggleQuery:!0})})]})]}),Object(Y.jsx)(mi,{})]})})}),Object(Y.jsx)(Mt,{md:3,children:Object(Y.jsx)(li,{})})]})]})},xi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Qe({ProblemId:e,LanguageId:t,Statement:"",InputDescription:"",OutputDescription:"",Explanation:"",Published:!1})},Oi=new me;Oi.import(Cn);var vi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).addStatement=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.problem,e.next=3,Ke.a.addStatement(t.Id,xi(t.Id));case 3:"object"===typeof(n=e.sent)&&(t.Statements.push(new Qe(n)),r.setState(t),r.setLanguage(t.Statements.length-1));case 5:case"end":return e.stop()}}),e)}))),r.onChange=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.state.problem,a=r.state.language,s=n.Statements[a],c=t.target.name,i=t.target.value,s[c]=i,r.setState({problem:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeStatement=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE?\nARE YOU SURE?")){e.next=8;break}return r.setState({isRemoving:!0}),t=r.state,n=t.problem,a=t.language,e.next=5,Ke.a.removeStatement(n.Id,n.Statements[a].Id);case 5:e.sent||(n.Statements.splice(a,1),r.setLanguage(Math.max(a-1,0)),r.setState(n)),r.setState({isRemoving:!1});case 8:case"end":return e.stop()}}),e)}))),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{problem:e.problem,isRemoving:!1}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.problem,n=this.state.language,r=t.Statements[n],a=this.props.editable;return Object(Y.jsxs)("div",{className:"p-2",children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)(yr,{languages:t.Statements.map((function(e){return e.Language})),activeLanguage:n,setLanguage:function(){var t=Object(M.a)(E.a.mark((function t(n,r){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.setLanguage(r);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),add:!0,addLanguage:a?this.addStatement:function(){}}),t.Statements.length>0&&a&&Object(Y.jsxs)(er,{className:"bg-danger mr-2",onClick:this.removeStatement,disabled:this.state.isRemoving||!a,children:[this.state.isRemoving&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{className:"fas fa-trash"}),"\xa0",Oi.get("Remove Statement")]})]}),Object(Y.jsx)("br",{}),t.Statements.length>0&&Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Ng\xf4n ng\u1eef"})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"LanguageId",value:r.LanguageId,onChange:this.onChange,disabled:!a,children:[Object(Y.jsx)("option",{value:1,children:"VI"}),Object(Y.jsx)("option",{value:2,children:"EN"})]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Oi.get("Statement")})}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Statement",value:r.Statement,onChange:this.onChange,readOnly:!a})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Input format"})}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"InputDescription",value:r.InputDescription,onChange:this.onChange,readOnly:!a})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Output format"})}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"OutputDescription",value:r.OutputDescription,onChange:this.onChange,readOnly:!a})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Oi.get("Sample testcase explanation")})}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Explanation",value:r.Explanation,onChange:this.onChange,readOnly:!a})]}),Object(Y.jsx)("div",{className:"d-flex justify-content-between",children:Object(Y.jsx)(sr,{label:Oi.get("Published"),name:"Published",className:"green",labelClassName:"font-weight-bold",checked:r.Published,onChange:this.onChange,disabled:!a})})]})]})}}]),n}(gr);vi.propTypes={editable:Ne.a.bool},vi.defaultProps={editable:!0};var gi=vi,wi=new ot({Id:"",ProblemCode:"",Name:"",Tags:[],Author:[""],Score:1,ProblemTypeId:1,TimeLimit:1,MemoryLimit:512,Solved:0,Published:!1,Resource:"Big-O",Dataset:"Big-O",Difficulty:"Very easy",Premium:!1,RunScript:"run",CompareScript:"",CompareArgs:"",Testcase:[],Statement:[]}),yi=new me;yi.import(Cn);var ki=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onInformationChange=function(e){var t=e.target.value,n=e.target.name,a=r.state.problem;a[n]=t,r.setState({problem:a})},r.onAddTag=function(e){var t=r.state.problem;t.Tags.includes(e)||t.Tags.push(e),r.setState({problem:t})},r.onRemoveTag=function(e){var t=r.state.problem;t.Tags=t.Tags.filter((function(t){return t!==e})),r.setState({problem:t})},r.state={problem:e.problem},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.problem,n=t.ProblemCode,r=t.Name,a=t.TimeLimit,s=t.MemoryLimit,c=t.Score,i=t.ProblemTypeId,o=t.Published,u=t.Resource,l=t.Dataset,d=t.Difficulty,b=this.props.editable;return Object(Y.jsx)(Oe.Consumer,{children:function(t){var j=t.language;return yi.use(j),Object(Y.jsx)("div",{className:"p-2",children:Object(Y.jsxs)(qt.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:yi.get("Problem code")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"ProblemCode",value:n,onChange:e.onInformationChange,autoComplete:"off",disabled:!b})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:yi.get("Name")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Name",value:r,onChange:e.onInformationChange,autoComplete:"off",disabled:!b})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"pl-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsxs)("strong",{children:[yi.get("Time limit")," ","(ms)"]})}),Object(Y.jsx)(qt.a.Control,{type:"number",name:"TimeLimit",value:a,onChange:e.onInformationChange,disabled:!b})]})}),Object(Y.jsx)(Gt.a,{md:6,children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsxs)("strong",{children:[yi.get("Memory limit")," ","(MB)"]})}),Object(Y.jsx)(qt.a.Control,{type:"number",name:"MemoryLimit",value:s,onChange:e.onInformationChange,disabled:!b})]})})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:4,className:"pl-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:yi.get("Type")})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"ProblemTypeId",value:i,onChange:e.onInformationChange,disabled:!b,children:[Object(Y.jsx)("option",{value:1,children:"IOI"}),Object(Y.jsx)("option",{value:2,children:"ACM"})]})]})}),Object(Y.jsx)(Gt.a,{md:4,children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:yi.get("Difficulty")})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"Difficulty",value:d,onChange:e.onInformationChange,disabled:!b,children:[Object(Y.jsx)("option",{value:"Secret",children:yi.get("Secret")}),Object(Y.jsx)("option",{value:"Very easy",children:yi.get("Very Easy")}),Object(Y.jsx)("option",{value:"Easy",children:yi.get("Easy")}),Object(Y.jsx)("option",{value:"Medium",children:yi.get("Medium")}),Object(Y.jsx)("option",{value:"Hard",children:yi.get("Hard")}),Object(Y.jsx)("option",{value:"Very hard",children:yi.get("Very Hard")})]})]})}),Object(Y.jsx)(Gt.a,{md:4,children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:yi.get("Score")})}),Object(Y.jsx)(qt.a.Control,{type:"number",name:"Score",value:c,onChange:e.onInformationChange,disabled:!b})]})})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"pl-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:yi.get("Resource")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Resource",value:u,spellCheck:!1,onChange:e.onInformationChange,autoComplete:"off",disabled:!b})]})}),Object(Y.jsx)(Gt.a,{md:6,children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Dataset"})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Dataset",value:l,spellCheck:!1,onChange:e.onInformationChange,autoComplete:"off",disabled:!b})]})})]}),Object(Y.jsx)(Yn.a,{children:Object(Y.jsx)(Gt.a,{md:2,className:"pl-0",children:Object(Y.jsx)(sr,{label:yi.get("Published"),className:"green",name:"Published",labelClassName:"font-weight-bold",checked:o,onChange:e.onInformationChange,disabled:!b})})})]})})}})}}]),n}(a.a.Component);ki.defaultProps={editable:!0};var Ci=ki,Si=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"Pad",value:function(e,t){for(var n="".concat(e);n.length<t;)n="0".concat(n);return n}}]),e}(),Ii=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).refresh=function(){r.setState({refreshing:!0}),r.setState({refreshing:!1})},r.orderUp=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.orderTestcase,a=t.index,e.next=3,n(a,-1);case 3:case"end":return e.stop()}}),e)}))),r.orderDown=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.orderTestcase,a=t.index,e.next=3,n(a,1);case 3:case"end":return e.stop()}}),e)}))),r.onToggleSample=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.mode,a=t.testcase,s=t.setError,"add"!==n){e.next=6;break}return e.next=4,a.toggleSample(!1);case 4:e.next=12;break;case 6:return e.next=8,a.toggleSample(!1);case 8:if(!(c=e.sent)){e.next=12;break}return s(c),e.abrupt("return");case 12:r.refresh();case 13:case"end":return e.stop()}}),e)}))),r.onToggleInput=function(){var e=r.props.index;document.getElementById("replace-testcase-".concat(e)).click()},r.onUpload=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props,a=n.mode,s=n.testcase,c=n.setError,r.setState({isReplacing:!0}),"add"!==a){e.next=7;break}return e.next=5,s.replaceFile(t.target.files[0]);case 5:e.next=13;break;case 7:return e.next=9,s.replaceFile(t.target.files[0],!1);case 9:if(!(i=e.sent)){e.next=13;break}return c(i),e.abrupt("return");case 13:r.setState({isReplacing:!1}),r.refresh();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onRemoveTestcase=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.onRemove,a=t.index,r.setState({isRemoving:!0}),!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=6;break}return r.setState({isRemoving:!0}),e.next=6,n(a);case 6:r.setState({isRemoving:!1});case 7:case"end":return e.stop()}}),e)}))),r.state={refreshing:!1,isRemoving:!1,isReplacing:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.refreshing,n=e.isRemoving,r=e.isReplacing,a=this.props,s=a.index,c=a.testcase,i=a.lastTestcase,o=a.editable,u=c.Rank,l=c.Name,d=c.InputContent,b=c.InputSize,j=c.OutputContent,h=c.OutputSize,p=c.IsSample;return t?Object(Y.jsx)("tr",{}):Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:Object(Y.jsxs)("div",{className:"d-flex flex-column",children:[s>0&&Object(Y.jsx)(er,{className:"bg-light-blue",disabled:!o,onClick:this.orderUp,children:Object(Y.jsx)("span",{className:"fas fa-sort-up"})}),Object(Y.jsx)("strong",{className:"text-center",children:Si.Pad(Number(u),3)}),!i&&Object(Y.jsx)(er,{className:"bg-light-blue",disabled:!o,onClick:this.orderDown,children:Object(Y.jsx)("span",{className:"fas fa-sort-down"})})]})}),Object(Y.jsx)("td",{children:l}),Object(Y.jsx)("td",{style:{wordBreak:"break-all"},children:atob(d).substr(0,200)+(atob(d).length>200?"...":"")}),Object(Y.jsx)("td",{children:Math.ceil(b/1024)}),Object(Y.jsx)("td",{style:{wordBreak:"break-all"},children:atob(j).substr(0,200)+(atob(j).length>200?"...":"")}),Object(Y.jsx)("td",{children:Math.ceil(h/1024)}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:Object(Y.jsx)(sr,{onChange:this.onToggleSample,checked:!0===p,disabled:!o})}),Object(Y.jsxs)("td",{style:{textAlign:"center"},children:[Object(Y.jsx)("button",{type:"button",className:"basic-component-button bg-light-blue text-white corner mb-2 ml-2 mr-2 p-1",disabled:r||!o,onClick:this.onToggleInput,children:r&&Object(Y.jsx)("span",{className:"fas fa-spinner fa-spin"})||Object(Y.jsx)("span",{className:"fas fa-pen fa-fw"})}),Object(Y.jsx)("button",{type:"button",className:"basic-component-button bg-light-pink text-white corner p-1",disabled:n||!o,onClick:this.onRemoveTestcase,children:n&&Object(Y.jsx)("span",{className:"fas fa-spinner fa-spin"})||Object(Y.jsx)("span",{className:"fas fa-trash fa-fw"})}),Object(Y.jsx)("input",{type:"file",multiple:!1,className:"d-none",accept:".in,.ans",id:"replace-testcase-".concat(s),onChange:this.onUpload})]})]})}}]),n}(a.a.Component);Ii.defaultProps={editable:!0};var Ni=Ii,Pi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.problem,e.next=3,t.loadTestcase();case 3:r.setState({fetched:!0});case 4:case"end":return e.stop()}}),e)}))),r.toggleUploader=function(){document.getElementById("upload-testcase").click()},r.onUpload=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c,i,o,u,l,d,b,j,h;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isUploading:!0}),n=r.state,a=n.problem,s=n.numberOfLoadedTestcase,c=r.props.mode,i=t.target.files,o="",u=a.Testcase.reduce((function(e,t){return Math.max(e,t.Rank)}),0),e.next=8,ct.handleInputFiles(i,u,a.Id);case 8:if(l=(l=e.sent).filter((function(e){return!a.Testcase.find((function(t){return t.Name===e.Name}))||(o=o.concat("Testcase ".concat(e.Name," already exists\n")),!1)})),"edit"!==c){e.next=19;break}r.setState({numberOfTestcase:l.length}),d=[],b=Object($e.a)(l);try{for(b.s();!(j=b.n()).done;)h=j.value,d.push(st.addTestcase(a.Id,h))}catch(p){b.e(p)}finally{b.f()}return e.next=17,Promise.all(d);case 17:e.sent.forEach((function(e,t){"string"===typeof e?o=o.concat('"'.concat(l[t].Name,'" - ').concat(e)):(l[t]=new ct(e),r.setState({numberOfLoadedTestcase:s+1}))}));case 19:o.length>0&&r.setError(o),r.setState({numberOfLoadedTestcase:s+l.length}),a.Testcase=a.Testcase.concat(l),r.setState({problem:a,isUploading:!1,numberOfLoadedTestcase:0});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onRemoveTestcase=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.problem,"edit"!==r.props.mode){e.next=9;break}return e.next=5,st.removeTestcase(n.Id,n.Testcase[t].Id);case 5:if(!(a=e.sent)){e.next=9;break}return r.setState({error:a}),e.abrupt("return");case 9:n.Testcase.splice(t,1),r.setState({problem:n});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.orderTestcase=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.state.problem,e.prev=1,s=a.Testcase[t],e.next=5,s.changeOrder(n,!1);case 5:if((c=a.Testcase[t+n]).Rank!==s.Rank){e.next=9;break}return e.next=9,c.changeOrder(-n,!1);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:a.Testcase=a.Testcase.sort((function(e,t){return e.Rank-t.Rank})),r.setState({problem:a});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),r.setError=function(e){r.setState({error:e})},r.clearError=function(){r.setState({error:""})},r.state={fetched:!1,problem:e.problem,isUploading:!1,numberOfLoadedTestcase:0,error:""},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.problem,a=t.isUploading,s=t.numberOfLoadedTestcase,c=t.numberOfTestcase,i=t.error,o=this.props,u=o.mode,l=o.editable;if(!n)return Object(Y.jsx)(Qt,{});var d=r.Testcase.sort((function(e,t){return e.Rank-t.Rank}));return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("table",{className:"basic-component-table testcase-list",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"5%"},children:"#"}),Object(Y.jsx)("th",{style:{width:"10%"},children:"Filename"}),Object(Y.jsx)("th",{style:{width:"30%"},children:"Input Content"}),Object(Y.jsx)("th",{style:{width:"10%"},children:"Input Size (KB)"}),Object(Y.jsx)("th",{style:{width:"30%"},children:"Output Content"}),Object(Y.jsx)("th",{style:{width:"10%"},children:"Output Size (KB)"}),Object(Y.jsx)("th",{children:"Sample"}),Object(Y.jsx)("th",{children:"Setting"})]})}),Object(Y.jsx)("tbody",{children:d.map((function(t,n){return Object(Y.jsx)(Ni,{index:n,testcase:t,onRemove:e.onRemoveTestcase,setError:e.setError,mode:u,orderTestcase:e.orderTestcase,lastTestcase:n===d.length-1,editable:l},t.Id)}))})]}),Object(Y.jsx)("input",{type:"file",multiple:!0,className:"d-none",accept:".in,.ans",id:"upload-testcase",onChange:this.onUpload}),Object(Y.jsx)(zt,{children:l&&Object(Y.jsx)(er,{className:"mt-2 bg-light-blue",onClick:this.toggleUploader,disabled:a,children:a&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)("span",{className:"fas fa-spinner fa-spin"})," ","Uploading",s,"/",c]})||Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ","Add new testcase"]})})}),i&&Object(Y.jsx)(La,{title:"Testcase",error:i,clearError:this.clearError,closebutton:1})]})}}]),n}(a.a.Component);Pi.defaultProps={editable:!0};var Ti=Pi,Li=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"fetchExecutable",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.N).request();case 3:return t=e.sent,e.abrupt("return",t.executables);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"addExecutable",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("post",z.N,void 0,{executable:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"editExecutable",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.M,{Id:t},{executable:n}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeExecutable",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.M,{Id:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ai=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"assignFile",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.readBinary(t);case 2:return n=e.sent,this.Zipfile=btoa(n),e.next=6,at.getMD5Hash(t);case 6:this.Md5sum=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editExecutable",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te.a.cloneDeep(t),r=Te.a.cloneDeep(this),a=Le.default.getDifferent(n,r),e.prev=3,e.next=6,Li.editExecutable(n.Id,a);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(Le.default),Ri=a.a.createContext(),Di=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchExecutable=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.state.executable.length){e.next=9;break}return e.next=3,Li.fetchExecutable();case 3:t=e.sent,n=t.map((function(e){return new Ai(e)})).sort((function(e,t){return e.Id.localeCompare(t.Id)})),a=r.state.executable,s=Object($e.a)(n);try{for(s.s();!(c=s.n()).done;)i=c.value,a.add(i)}catch(o){s.e(o)}finally{s.f()}r.setState({executable:a});case 9:case"end":return e.stop()}}),e)}))),r.getExecutable=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchExecutable();case 2:return e.abrupt("return",r.state.executable.getCustom("Id",t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addExecutable=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li.addExecutable(t);case 2:(n=e.sent)?r.setState({error:n}):((a=r.state.executable).add(t),r.setState({executable:a,message:"Executable added!"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.editExecutable=function(e,t){var n=r.state.executable;n.update(Object(Re.a)(Object(Re.a)({},t),{},{Id:e})),r.setState({executable:n,message:"Executable updated!"})},r.removeExecutable=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li.removeExecutable(t);case 2:if(!(n=e.sent)){e.next=8;break}throw r.setState({error:n}),new Error(n);case 8:(a=r.state.executable).remove({Id:t}),r.setState({executable:a,message:"Executable removed!"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.clearError=function(){r.setState({error:"",message:""})},r.state={executable:new Be,error:"",message:"",addExecutable:r.addExecutable,removeExecutable:r.removeExecutable,getExecutable:r.getExecutable,fetchExecutable:r.fetchExecutable,editExecutable:r.editExecutable},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.error,r=t.message;return Object(Y.jsxs)(Ri.Provider,{value:this.state,children:[e,Object(Y.jsxs)(rr,{title:"Executable",error:n.length>0,show:n.length>0||r.length>0,onHide:this.clearError,toggle:this.clearError,closebutton:!0,children:[n&&Object(Y.jsxs)("p",{children:[Object(Y.jsx)("span",{className:"fas fa-times-circle light-pink"})," ",n]}),r&&Object(Y.jsxs)("p",{children:[Object(Y.jsx)("span",{className:"fas fa-check-circle green"})," ",r]})]})]})}}]),n}(a.a.Component),Ui=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).onInformationChange=function(e){var t=e.target.value;"boolean"===typeof t&&(t=!0===t?"1":"0");var n=e.target.name,a=r.state.problem;a[n]=t,r.setState({problem:a})};var a=r.props.problem;return r.state={problem:a,fetched:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executableContext.fetchExecutable();case 2:this.setState({fetched:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.fetched;return Object(Y.jsx)(Ri.Consumer,{children:function(n){if(e.executableContext=n,!t)return Object(Y.jsx)(Kt,{});var r=e.state.problem,a=r.RunScript,s=r.CompareScript,c=r.CompareArgs,i=e.props.editable;return Object(Y.jsxs)("div",{className:"p-2",children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Run script"})}),Object(Y.jsx)(qt.a.Control,{as:"select",name:"RunScript",value:a,onChange:e.onInformationChange,disabled:!i,children:Object(Y.jsx)("option",{value:"run",children:"run"})})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Compare script"})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"CompareScript",value:s,onChange:e.onInformationChange,disabled:!i,children:[Object(Y.jsx)("option",{value:"","aria-label":"executable"}),n.executable.container.map((function(e){return Object(Y.jsx)("option",{value:e.Id,children:e.Id},e.Id)}))]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Compare args"})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"CompareArgs",value:c,spellCheck:!1,autoComplete:"off",onChange:e.onInformationChange,disabled:!i})]})]})}})}}]),n}(a.a.Component);Ui.defaultProps={editable:!0};var Ei=Ui,Mi=new me;Mi.import({vi:{save:"L\u01b0u",remove:"X\xf3a",saved:"\u0110\xe3 l\u01b0u",cancel:"H\u1ee7y"}});var Bi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),r=t.call(this,e);var a=e.mode,s=e.isRemoving,c=e.isSaving,o=e.isCanceling,u=e.isSavingAndPreviewing;return r.state={mode:a,isRemoving:s,isSaving:c,isCanceling:o,isSavingAndPreviewing:u,saveSuccessfully:!1},r}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.mode,n=e.isRemoving,r=e.isSaving,a=e.isSavingAndPreviewing,s=e.isCanceling,c=e.saveSuccessfully,i=this.state,o=i.mode,u=i.isRemoving,l=i.isSaving,d=i.isCanceling,b=i.isSavingAndPreviewing,j=i.saveSuccessfully;o===t&&u===n&&l===r&&d===s&&j===c&&b===a||this.setState({mode:t,isRemoving:n,isSaving:r,isSavingAndPreviewing:a,saveSuccessfully:c})}},{key:"render",value:function(){var e=this.state,t=e.mode,n=e.isRemoving,r=e.isSaving,a=e.isCanceling,s=e.isSavingAndPreviewing,c=e.saveSuccessfully,i=this.props,o=i.onSaveAndPreview,u=i.onSave,l=i.onRemove,d=i.onCancel;return Object(Y.jsx)(Oe.Consumer,{children:function(e){var i=e.language;return Mi.use(i),Object(Y.jsx)(Xt.a,{className:"p-2 mt-2 shadow-sm w-100",children:Object(Y.jsxs)(Xt.a.Body,{className:"p-0 d-flex justify-content-end",style:{fontSize:"16px"},children:[d&&Object(Y.jsxs)(er,{className:"bg-danger mr-2",onClick:d,disabled:a,children:[a&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{className:"fas fa-ban"}),"\xa0",Mi.get("cancel")]}),"edit"===t&&Object(Y.jsxs)(er,{className:"bg-danger mr-2",onClick:l,disabled:n,children:[n&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{className:"fas fa-trash"}),"\xa0",Mi.get("remove")]}),o&&"edit"===t&&Object(Y.jsxs)(er,{className:"bg-light-blue",onClick:o,disabled:r,children:[s&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{className:"fas fa-eye"}),"\xa0L\u01b0u v\xe0 xem th\u1eed"]}),"\xa0",c?Object(Y.jsxs)(er,{className:"bg-green",children:[Object(Y.jsx)("span",{className:"fas fa-check-circle"}),"\xa0",Mi.get("Saved")]}):Object(Y.jsxs)(er,{className:"bg-light-blue",onClick:u,disabled:r,children:[r&&!s&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{className:"fas fa-save"}),"\xa0",Mi.get("Save")]})]})})}})}}]),n}(a.a.Component);Bi.defaultProps={isCanceling:!1,isSavingAndPreviewing:!1,saveSuccessfully:!1,onSaveAndPreview:null,onSave:null,onRemove:null,onCancel:null};var Fi=Bi,qi=n(100).default,Gi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new qi({LanguageId:t,Content:"",Publised:!1},e)},Hi=function(e){var t=e.tutorial,n=e.editable,a=Object(r.useContext)(Qn),s=a.languages,c=a.fetchLanguages,i=Object(r.useState)(!1),o=Object(b.a)(i,2),u=o[0],l=o[1],d=Object(r.useState)(t.SourceCodes.length>0?t.SourceCodes[0].LanguageId:void 0),j=Object(b.a)(d,2),h=j[0],p=j[1];Object(r.useEffect)((function(){(function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:l(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(M.a)(E.a.mark((function e(n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addSourceCode(n);case 2:return p(n),e.next=5,l(!1);case 5:return e.next=7,l(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!u)return Object(Y.jsx)(Yt,{});var f=t.SourceCodes.map((function(e){return e.LanguageId})),x=t.SourceCodes.find((function(e){return e.LanguageId===h}));return Object(Y.jsxs)("div",{children:[s.map((function(e){return!f.includes(e.Id)&&Object(Y.jsxs)(er,{className:"mr-2 bg-green text-white",onClick:function(){return m(e.Id)},disabled:!n,children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ",e.Name]},e.Id)})),x&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)(wn.a,{value:h,className:"w-25 mt-2 mb-2",as:"select",onChange:function(e){return p(parseInt(e.target.value,10))},id:"search-tag",name:"mode",children:t.SourceCodes.map((function(e){return Object(Y.jsx)("option",{value:e.LanguageId,children:s.find((function(t){return t.Id===e.LanguageId})).Name},e.Id)}))}),Object(Y.jsx)(Hr,{value:x.Content,onChange:function(e){x.Content=e.target.value},onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:s.find((function(e){return e.Id===h})).Name,readOnly:!n})]})]})};Hi.defaultProps={editable:!0};var Vi=Hi,zi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.state.tutorial,a=t.target.name,s=t.target.value,"LanguageId"===a&&(s=parseInt(s,10)),n[a]=s,r.setState({tutorial:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onSave=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({isSaving:!0}),"add"!==r.state.mode){e.next=10;break}return t=r.state.tutorial,n=r.props.problem,e.next=6,Ke.a.addTutorial(n.Id,t);case 6:"object"===typeof(a=e.sent)&&(t.updateProperty(a),n.Tutorials.push(t),r.setState({mode:"edit",origin:t,tutorial:Te.a.cloneDeep(t),fetched:!1}),r.setState({fetched:!0})),e.next=14;break;case 10:return e.next=12,r.state.tutorial.update(r.state.origin);case 12:e.sent;case 14:r.setState({isSaving:!1});case 15:case"end":return e.stop()}}),e)}))),r.onRemove=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.tutorial,e.next=3,r.props.remove(t.Id);case 3:case"end":return e.stop()}}),e)}))),r.state={origin:void 0,tutorial:{},fetched:!1,mode:e.mode,saveSuccessfully:!1,isRemoving:!1,isSaving:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.mode,n=this.props,r=n.problem,a=n.tutorial,"add"!==t){e.next=6;break}s=Gi(r.Id),e.next=9;break;case 6:return s=a,e.next=9,s.get();case 9:this.setState({tutorial:Te.a.cloneDeep(s),fetched:!0,origin:s});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.tutorial,r=t.mode,a=t.isRemoving,s=t.isSaving,c=t.saveSuccessfully,i=t.fetched,o=this.props,u=o.onClose,l=o.editable,d=n.Name,b=n.Content,j=n.Published,h=n.IsPremium,p=n.LanguageId;return Object(Y.jsx)(rr,{title:"Th\u1ea3o lu\u1eadn",show:!0,onHide:u,dialogClassName:"modal-90w shadow-lg",footer:l?Object(Y.jsx)(Fi,{mode:r,isRemoving:a,isSaving:s,saveSuccessfully:c,onSave:this.onSave,onRemove:this.onRemove}):void 0,closebutton:1,children:i?Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"p-3",children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Ng\xf4n ng\u1eef"})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"LanguageId",value:p,onChange:this.onChange,disabled:!l,children:[Object(Y.jsx)("option",{value:1,children:"VI"}),Object(Y.jsx)("option",{value:2,children:"EN"})]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"T\xean"})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Name",value:d||"",onChange:function(t){return e.onChange(t)},autoComplete:"off",disabled:!l})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"N\u1ed9i dung"})}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Content",value:b,onChange:this.onChange,readOnly:!l})]}),Object(Y.jsx)(sr,{label:"C\xf4ng khai",className:"green",name:"Published",labelClassName:"font-weight-bold",checked:j,onChange:this.onChange,disabled:!l}),Object(Y.jsx)("span",{className:"mr-2",children:"\xa0"}),Object(Y.jsx)(sr,{label:"Premium",className:"green",name:"IsPremium",labelClassName:"font-weight-bold",checked:h,onChange:this.onChange,disabled:!l})]}),"edit"===r&&Object(Y.jsxs)("div",{className:"p-3",children:[Object(Y.jsx)("h3",{className:"font-semi-bold",children:"M\xe3 ngu\u1ed3n"}),Object(Y.jsx)(Vi,{tutorial:n,editable:l})]})]}):Object(Y.jsx)(Qt,{})})}}]),n}(a.a.Component);zi.defaultProps={tutorial:void 0,editable:!1};var Wi=zi;(new me).import(Cn);var Yi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).addTutorial=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({add:!0});case 1:case"end":return e.stop()}}),e)}))),r.onClose=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({fetched:!1,add:!1,edit:!1,editTutorial:void 0});case 2:return e.next=4,r.setState({fetched:!0});case 4:case"end":return e.stop()}}),e)}))),r.removeTutorial=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE?\nARE YOU SURE?")){e.next=9;break}return r.setState({isRemoving:!0}),n=r.state.problem,e.next=5,Ke.a.removeTutorial(n.Id,t);case 5:e.sent||(n.Tutorials=n.Tutorials.filter((function(e){return e.Id!==t})),r.setState(n)),r.setState({isRemoving:!1}),r.onClose();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{problem:e.problem,isRemoving:!1,fetched:!1,add:!1,edit:!1,editTutorial:void 0}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;if(!this.state.fetched)return Object(Y.jsx)(Qt,{});var t=this.props.editable;return Object(Y.jsxs)("div",{className:"p-2",children:[Object(Y.jsxs)(er,{className:"text-white bg-green p-2 font-semi-bold mb-3 shadow-sm",onClick:this.addTutorial,disabled:!t,children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ","Th\xeam m\u1edbi"]}),this.state.problem.Tutorials.map((function(t){return Object(Y.jsx)(Xt.a,{className:"w-100 border shadow-sm p-3 mb-2 cursor-pointer",onClick:function(){return e.editTutorial(t)},children:Object(Y.jsx)("h3",{className:"font-semi-bold mb-0",children:t.Name})},t.Id)})),this.state.add&&Object(Y.jsx)(Wi,{mode:"add",problem:this.state.problem,onClose:this.onClose,remove:this.removeTutorial,editable:t}),this.state.edit&&Object(Y.jsx)(Wi,{mode:"edit",tutorial:this.state.editTutorial,problem:this.state.problem,onClose:this.onClose,remove:this.removeTutorial,editable:t})]})}},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=this.state.problem).Tutorials.length){e.next=7;break}return e.next=4,Ke.a.getTutorials(this.state.problem.Id);case 4:n=e.sent,r=n.map((function(e){return new gt.default(e,a.state.problem.Id)})),t.Tutorials=r;case 7:this.setState({fetched:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editTutorial",value:function(e){this.setState({edit:!0,editTutorial:e})}}]),n}(gr);Yi.propTypes={editable:Ne.a.bool},Yi.defaultProps={editable:!0};var Ki=Yi,Qi=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getUsers",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Te()(t).omitBy(Te.a.isEmpty).value(),n=ze.a.stringify(t),e.next=5,new De.a("get",z.Pb,{queryString:n}).request();case 5:return r=e.sent,e.abrupt("return",{users:r.users,totalUsers:r.totalUsers});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{users:[],totalUsers:0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.Ob,{id:t},n).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.Sb,null,{UserId:t,Password:n}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserTypes",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.Tb).request();case 3:return t=e.sent,e.abrupt("return",t.usertypes);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ji=a.a.createContext(),_i=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).blockUser=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.users,!window.confirm("B\u1ea1n c\xf3 ch\u1eafc b\u1ea1n mu\u1ed1n ban ng\u01b0\u1eddi d\xf9ng ".concat(n[t].Username,"? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c!"))){e.next=12;break}return e.prev=2,e.next=5,new V.a("delete","admin/users/".concat(n[t].Id),null,null,!0).request();case 5:Object(tt.a)(n).splice(t,1),r.setState((function(){return{users:n}})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),r.changeUserRole=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.state.users,e.prev=1,e.next=4,new V.a("put","admin/users/".concat(a[t].Id),null,{Role:n},!0).request();case 4:(s=Object(tt.a)(a))[t].Role=n,r.setState((function(){return{users:s}})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),r.setTargetUser=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState((function(){return{targetUserId:t}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.changeUserPassword=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.state.targetUserId,a={UserId:n,Password:H()(t).toString()},e.next=4,new V.a("put","admin/reset-password",null,a,!0).request();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getUsers=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.state.users.length){e.next=8;break}return e.next=3,Qi.getUsers();case 3:t=e.sent,n=t.users,a=t.totalUsers,n=n.map((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{isLoading:!1})})),r.setState({users:n,totalUsers:a});case 8:case"end":return e.stop()}}),e)}))),r.fetchUsers=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(c.length>0&&void 0!==c[0])||c[0])&&0!==r.state.users.length){e.next=9;break}return t=ze.a.getAllQueryString(),e.next=5,Qi.getUsers(t);case 5:n=e.sent,a=n.totalUsers,s=n.users,r.setState({totalUsers:a,users:s});case 9:case"end":return e.stop()}}),e)}))),r.state={users:[],targetUserId:"",getUsers:r.getUsers,blockUser:r.blockUser,changeUserRole:r.changeUserRole,setTargetUser:r.setTargetUser,changeUserPassword:r.changeUserPassword,fetchUsers:r.fetchUsers,totalUser:0},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Ji.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),Xi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e,20)).refresh=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({fetched:!1});case 2:return ze.a.setQueryString("page",r.state.page),e.next=5,r.fetchUsers(!0);case 5:case"end":return e.stop()}}),e)}))),r.fetchUsers=Object(M.a)(E.a.mark((function e(){var t,n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,r.userContext.fetchUsers(t);case 3:r.setState({numberOfPage:Math.ceil(r.userContext.totalUsers/20),fetched:!0});case 4:case"end":return e.stop()}}),e)})));var a=ze.a.getAllQueryString(),s=a.page,c=a.key;return r.state=Object(Re.a)(Object(Re.a)({endIndex:20},r.state),{},{page:Number(s)||1,fetched:!1,key:c}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(Ji.Consumer,{children:function(t){if(e.userContext=t,!e.state.fetched)return Object(Y.jsx)(Kt,{});var n=[];return e.props.modList&&(n=e.props.modList.map((function(e){return e.UserId}))),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(oi,{Id:"Search-pick",toggleQuery:!0,searchKey:"key"})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Username"}),Object(Y.jsx)("th",{children:"Email"}),Object(Y.jsx)("th",{children:"Th\xeam"})]})}),Object(Y.jsx)("tbody",{children:e.userContext.users.filter((function(e){return"User"!==e.Role})).map((function(t){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-break",children:t.Username}),Object(Y.jsx)("td",{className:"text-break",children:t.Email}),Object(Y.jsx)("td",{children:!n.includes(t.Id)&&Object(Y.jsx)(er,{className:"bg-green",onClick:function(){return e.props.add(t)},children:Object(Y.jsx)("span",{className:"fas fa-plus-circle"})})})]},t.Id)}))})]}),e.renderPagination(e.refresh)]})}})}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ze.a.getAllQueryString(),n=t.key,r=t.tag,void 0!==n&&n!==this.state.key&&(this.onPageChange(1),this.setState({page:1,key:n,tag:r}),this.refresh());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPageChange(this.state.page),e.next=3,this.fetchUsers(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ln),Zi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e,20)).getFilteredModerators=function(){var e=r.state.pattern;return e=e.toLowerCase(),r.props.modList.filter((function(t){return""===e||t.Username.toLowerCase().includes(e)||t.Email.toLowerCase().includes(e)}))},r.setPage=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setSearchParam("page",r.state.page,1);case 2:case"end":return e.stop()}}),e)}))),r.onPatternChange=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,r.props.setSearchParam("pattern",n,1);case 3:return r.setState({pattern:n}),e.next=6,r.setState({numberOfPage:Math.ceil(r.getFilteredModerators().length/r.itemPerPage)});case 6:r.onPageChange(1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onInformationChange=function(e){e.preventDefault()},r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{pattern:e.pattern,fetched:!1}),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:1,numberOfPage:Math.ceil(this.getFilteredModerators().length/this.itemPerPage),fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pattern,n=Math.ceil(this.getFilteredModerators().length/this.itemPerPage),r=this.state.page;r>n&&r>1&&(r-=1,this.onPageChange(r)),this.setState({pattern:t,numberOfPage:n})}},{key:"render",value:function(){var e=this,t=this.props.editable;return this.state.fetched?Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"d-flex my-2",children:[Object(Y.jsx)("div",{className:"flex-grow-1 mr-2",children:Object(Y.jsx)(oi,{Id:"Search-picked",onChange:this.onPatternChange})}),Object(Y.jsx)("div",{className:"p-2 bg-green text-white corner text-center",children:Object(Y.jsxs)("strong",{children:["S\u1ed1 l\u01b0\u1ee3ng:",this.props.modList.length]})})]}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Username"}),Object(Y.jsx)("th",{children:"Email"}),Object(Y.jsx)("th",{children:"Role"}),Object(Y.jsx)("th",{children:"X\xf3a"})]})}),Object(Y.jsx)("tbody",{children:this.getFilteredModerators().map((function(n,r){return r>=e.state.startIndex&&r<e.state.endIndex&&Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-break",children:n.Username}),Object(Y.jsx)("td",{className:"text-break",children:n.Email}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsxs)(qt.a.Control,{type:"text",as:"select",value:n.Role||"view",autoComplete:"off",name:"role",onChange:function(t){return e.props.onRoleChange(t,n.Id)},disabled:!t,children:[n.Role&&"owner"===n.Role&&Object(Y.jsx)("option",{value:"owner",children:"Owner"}),Object(Y.jsx)("option",{value:"edit",children:"Edit"}),Object(Y.jsx)("option",{value:"view",children:"View"})]})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(er,{className:"bg-light-pink",onClick:function(){return e.props.remove(n.Id)},children:Object(Y.jsx)("span",{className:"fas fa-trash"})})})]},n.Id)}))})]}),this.renderPagination(this.setPage)]}):Object(Y.jsx)(Kt,{})}}]),n}(Ln);Zi.propTypes={editable:Ne.a.bool},Zi.defaultProps={editable:!0};var $i=Zi,eo=function(e){var t=e.problem,n=e.editable,a=Object(r.useState)(t),s=Object(b.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)(["",""]),u=Object(b.a)(o,2),l=u[0],d=u[1],j=Object(r.useState)([1,1]),h=Object(b.a)(j,2),p=h[0],m=h[1],f=Object(r.useState)(!1),x=Object(b.a)(f,2)[1],O=function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),"page"===t?((a=p)[r]=n,m(a)):((s=l)[r]=n,d(s)),x(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:5,className:"pl-1",children:Object(Y.jsx)(Xi,{add:n?function(e){var n={Id:e.Id,UserId:e.Id,Username:e.Username,Fullname:e.Fullname,Email:e.Email,role:null},r=c.Moderators.concat(n),a=Te.a.cloneDeep(c);a.Moderators=r,t.Moderators=r,i(a)}:function(){},pattern:l[0],page:p[0],modList:c.Moderators})}),Object(Y.jsx)(Gt.a,{md:7,className:"pr-1",children:Object(Y.jsx)($i,{remove:n?function(e){var n=c.Moderators.filter((function(t){return t.Id!==e})),r=Te.a.cloneDeep(c);r.Moderators=n,t.Moderators=n,i(r)}:function(){},modList:c.Moderators,pattern:l[1],page:p[1],setSearchParam:O,onRoleChange:n?function(e,n){var r=c.Moderators.map((function(t){var r=t;return r.Id===n&&(r.Role=e.target.value),r})),a=Te.a.cloneDeep(c);a.Moderators=r,t.Moderators=r,i(a)}:function(){},editable:n})})]})};eo.defaultProps={editable:!0};var to=eo,no=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.state.discussion,a=t.target.name,s=t.target.value,n[a]=s,r.setState({discussion:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onSave=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({isSaving:!0}),"add"!==r.state.mode){e.next=10;break}return t=r.state.discussion,n=r.props.problem,e.next=6,Ke.a.addDiscussion(n.Id,t);case 6:"object"===typeof(a=e.sent)&&(t.updateProperty(a),n.Tutorials.push(t),r.setState({mode:"edit",origin:t,discussion:Te.a.cloneDeep(t),fetched:!1}),r.setState({fetched:!0})),e.next=14;break;case 10:return e.next=12,r.state.discussion.update(r.state.origin);case 12:e.sent;case 14:r.setState({isSaving:!1});case 15:case"end":return e.stop()}}),e)}))),r.onRemove=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.discussion,e.next=3,r.props.remove(t.Id);case 3:case"end":return e.stop()}}),e)}))),r.state={origin:void 0,discussion:{},fetched:!1,mode:e.mode,saveSuccessfully:!1,isRemoving:!1,isSaving:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.mode,n=this.props.discussion,"add"!==t){e.next=6;break}r=new It,e.next=9;break;case 6:return r=n,e.next=9,r.get();case 9:this.setState({discussion:Te.a.cloneDeep(r),fetched:!0,origin:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.discussion,r=t.mode,a=t.isRemoving,s=t.isSaving,c=t.saveSuccessfully,i=t.fetched,o=this.props.onClose,u=n.Title,l=n.Content,d=n.Published;return Object(Y.jsx)(rr,{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",show:!0,onHide:o,dialogClassName:"modal-90w shadow-lg",footer:Object(Y.jsx)(Fi,{mode:r,isRemoving:a,isSaving:s,saveSuccessfully:c,onSave:this.onSave,onRemove:this.onRemove}),closebutton:1,children:i?Object(Y.jsx)("div",{children:Object(Y.jsxs)("div",{className:"p-3",children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Title"})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Name",value:u||"",onChange:function(t){return e.onChange(t)},autoComplete:"off"})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Content"})}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Content",value:l,onChange:this.onChange})]}),Object(Y.jsx)(sr,{label:"C\xf4ng khai",className:"green",name:"Published",labelClassName:"font-weight-bold",checked:d,onChange:this.onChange})]})}):Object(Y.jsx)(Qt,{})})}}]),n}(a.a.Component);no.defaultProps={discussion:void 0};var ro=no;(new me).import(Cn);var ao=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).addDiscussion=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({add:!0});case 1:case"end":return e.stop()}}),e)}))),r.onClose=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({fetched:!1,add:!1,edit:!1,editDiscussion:void 0});case 2:return e.next=4,r.setState({fetched:!0});case 4:case"end":return e.stop()}}),e)}))),r.removeDiscussion=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE?\nARE YOU SURE?")){e.next=7;break}return n=r.state.problem,e.next=4,Ke.a.removeDiscussion(n.Id,t);case 4:e.sent||(n.Discussions=n.Discussions.filter((function(e){return e.Id!==t})),r.setState(n)),r.onClose();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={problem:e.problem,fetched:!1,add:!1,edit:!1,editDiscussion:void 0},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=this.state.problem).Discussions.length){e.next=8;break}return e.next=4,Ke.a.getDiscussions(t.Id);case 4:n=e.sent,r=n.map((function(e){return new It(e,t.Id)})),t.Discussions=r,this.setState({problem:t});case 8:this.setState({fetched:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editDiscussion",value:function(e){this.setState({edit:!0,editDiscussion:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.problem,a=t.add,s=t.edit,c=t.editDiscussion;return n?Object(Y.jsxs)("div",{className:"p-2",children:[Object(Y.jsxs)(er,{className:"text-white bg-green p-2 font-semi-bold mb-3 shadow-sm",onClick:this.addDiscussion,children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ","Th\xeam m\u1edbi"]}),r.Discussions.map((function(t){return Object(Y.jsx)(Xt.a,{className:"w-100 border shadow-sm p-3 mb-2 cursor-pointer",onClick:function(){return e.editDiscussion(t)},children:Object(Y.jsx)("h3",{className:"font-semi-bold mb-0",children:t.Title})},t.Id)})),a&&Object(Y.jsx)(ro,{mode:"add",problem:r,onClose:this.onClose,remove:this.removeDiscussion}),s&&Object(Y.jsx)(ro,{mode:"edit",discussion:c,problem:r,onClose:this.onClose,remove:this.removeDiscussion})]}):Object(Y.jsx)(Qt,{})}}]),n}(a.a.Component),so=new me;so.import(Cn);var co=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).refresh=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({fetched:!1}),e.next=3,r.problemContext.fetchProblem(r.state.problem.Id);case 3:return t=r.props.match.params.id,e.next=6,r.problemContext.getProblem(t);case 6:n=e.sent,r.setState({origin:n,problem:Te.a.cloneDeep(n),fetched:!0});case 8:case"end":return e.stop()}}),e)}))),r.onSaveProblem=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({isSaving:!0}),"add"!==r.state.mode){e.next=8;break}return e.next=4,r.problemContext.addProblem(r.state.problem);case 4:"object"===typeof(t=e.sent)&&(je.a.replace("/admin/problems/edit/".concat(t.Id)),r.setState({mode:"edit",problem:t,saveSuccessfully:!0})),e.next=12;break;case 8:return e.next=10,r.problemContext.editProblem(r.state.problem,r.state.origin,!1);case 10:e.sent||r.setState({saveSuccessfully:!0});case 12:setTimeout((function(){r.setState({saveSuccessfully:!1})}),2e3),r.setState({isSaving:!1});case 14:case"end":return e.stop()}}),e)}))),r.onSaveAndPreview=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isSavingAndPreviewing:!0}),e.next=3,r.onSaveProblem();case 3:r.setState({isSavingAndPreviewing:!1}),je.a.push("/admin/problems/".concat(r.state.problem.Id));case 5:case"end":return e.stop()}}),e)}))),r.onRemoveProblem=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isRemoving:!0}),e.next=3,r.problemContext.removeProblem(r.state.problem);case 3:e.sent?je.a.push("/admin/problems"):r.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),r.onCancelEdit=function(){r.setState({isCanceling:!0}),je.a.push("/admin/problems"),r.setState({isCanceling:!1})},r.state={mode:e.location.pathname.split("/")[3]||"add",fetched:!1,problem:void 0,isSaving:!1,isSavingAndPreviewing:!1,isRemoving:!1,isCanceling:!1,userRole:0},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.mode,r=this.props.match,a=0,"edit"!==n){e.next=13;break}return s=r.params.id,e.next=7,this.problemContext.getProblem(s);case 7:t=e.sent,c=Object(B.a)(),i=t.Moderators.find((function(e){return e.UserId===c.Id})),a="Administrator"===c.Role||"owner"===i.Role?2:"edit"===i.Role?1:0,e.next=15;break;case 13:t=wi,a=2;case 15:this.setState({origin:t,problem:Te.a.cloneDeep(t),fetched:!0,userRole:a});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(Y.jsx)(di.Consumer,{children:function(t){e.problemContext=t;var n=e.state,r=n.fetched,a=n.problem,s=n.mode,c=n.userRole,i=n.isRemoving,o=n.isSaving,u=n.isSavingAndPreviewing,l=n.isCanceling,d=n.saveSuccessfully;return r?a?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:"add"===s?[["admin","/admin"],["problems","/admin/problems"],["add"]]:a.EditNavigation()}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)(Oe.Consumer,{children:function(t){var n=t.language;return so.use(n),Object(Y.jsxs)("div",{style:{width:"100%"},children:[Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)(Ci,{title:so.get("Information"),route:"information",problem:a,editable:c>0}),"edit"===s&&Object(Y.jsx)(gi,{title:so.get("Statement"),route:"statement",problem:a,editable:c>0}),"edit"===s&&Object(Y.jsx)(Ki,{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",route:"tutorial",problem:a,editable:c>0}),"edit"===s&&Object(Y.jsx)(ao,{title:"Th\u1ea3o lu\u1eadn",route:"discussion",problem:a}),"edit"===s&&Object(Y.jsx)(Ti,{title:"Testcase",route:"testcase",problem:a,mode:s,refresh:e.refresh,editable:c>0}),"edit"===s&&Object(Y.jsx)(Ei,{title:"Checker",route:"Checker",problem:a,editable:c>0}),"edit"===s&&Object(Y.jsx)(to,{title:"Moderators",route:"moderators",problem:a,editable:c>1})]}),c>0&&Object(Y.jsx)(Fi,{onSaveAndPreview:e.onSaveAndPreview,mode:s,isRemoving:i,isSaving:o,isCanceling:l,isSavingAndPreviewing:u,saveSuccessfully:d,onSave:e.onSaveProblem,onRemove:e.onRemoveProblem,onCancel:e.onCancelEdit})]})}})})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})}})}}]),n}(a.a.Component),io=function(e){var t="";return Object.entries(e).forEach((function(e){var n=Object(b.a)(e,2),r=n[0],a=n[1];""!==a&&(t+="".concat(t.length>0?"&":"?").concat(r,"=").concat(a))})),t||"?"},oo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).rejudge=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=r.props.submission,r.setState({rejudging:!0}),e.next=5,it.rejudge(n.ProblemId,n.Id);case 5:return e.next=7,r.props.refresh();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={rejudging:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.submission,n=e.showUsername,r=e.showProblemName,a=this.state.rejudging;return Object(Y.jsxs)("tr",{style:{cursor:"pointer"},children:[Object(Y.jsx)("td",{style:{textAlign:"center",width:"5%"},role:"gridcell",onClick:this.openDetail,children:t.Id}),Object(Y.jsxs)("td",{style:{textAlign:"center"},role:"gridcell",onClick:this.openDetail,children:[$t()(t.SubmitTime).format("DD/MM/YYYY"),Object(Y.jsx)("br",{}),$t()(t.SubmitTime).format("HH:mm")]}),n&&Object(Y.jsx)("td",{role:"gridcell",onClick:this.openDetail,children:Object(Y.jsx)("strong",{children:t.User})}),r&&Object(Y.jsx)("td",{role:"gridcell",onClick:this.openDetail,children:t.ProblemName}),Object(Y.jsx)("td",{style:{textAlign:"center"},role:"gridcell",onClick:this.openDetail,children:t.ProblemTypeName}),Object(Y.jsx)("td",{style:{textAlign:"center"},role:"gridcell",onClick:this.openDetail,children:t.Language}),Object(Y.jsxs)("td",{style:Wr.colorizeVerdict(t.Verdict),role:"gridcell",onClick:this.openDetail,children:[t.Verdict,"\xa0",(t.Verdict.includes("Pending")||t.Verdict.includes("Judging")||t.Verdict.includes("Running"))&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto",style:{verticalAlign:"middle"}})]}),Object(Y.jsx)("td",{style:Object(Re.a)({textAlign:"center"},Wr.colorizeVerdict(t.Verdict)),role:"gridcell",onClick:this.openDetail,children:Math.round(100*(t.Score||0))/100}),Object(Y.jsx)("td",{style:{textAlign:"right"},role:"gridcell",onClick:this.openDetail,children:null!==t.Time&&"".concat(Math.round(parseFloat(t.Time))," ms")}),Object(Y.jsx)("td",{style:{textAlign:"right"},role:"gridcell",onClick:this.openDetail,children:null!==t.Memory&&"".concat(Math.round(parseFloat(t.Memory)/1024)," kb")}),Object(Y.jsx)("td",{style:{textAlign:"center",color:"red"},children:a?Object(Y.jsx)(Yt,{}):Object(Y.jsx)("button",{type:"button",className:"basic-component-button bg-light-pink text-white",onClick:this.rejudge,children:Object(Y.jsx)("span",{className:"fas fa-redo-alt"})})})]})}}]),n}(Kr);oo.propTypes={showProblemName:Ne.a.bool,showUsername:Ne.a.bool,submission:Ne.a.shape({Id:Ne.a.number,Language:Ne.a.string,Memory:Ne.a.number,ProblemCode:Ne.a.string,ProblemId:Ne.a.number,ProblemName:Ne.a.string,ProblemTypeName:Ne.a.string,Score:Ne.a.number,SubmitTime:Ne.a.string,Time:Ne.a.number,User:Ne.a.string,Verdict:Ne.a.string}).isRequired,viewDetail:Ne.a.func.isRequired,restrictViewDetail:Ne.a.bool},oo.defaultProps={showProblemName:!1,showUsername:!1,restrictViewDetail:!1};var uo=oo,lo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).refresh=Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchSubmissionListAtSpecificPage();case 2:case"end":return t.stop()}}),t)}))),e.render=function(){return Object(Y.jsxs)("div",{children:[e.state.isLoading&&Object(Y.jsx)(Qt,{}),!e.state.isLoading&&Object(Y.jsxs)("table",{className:"basic-component-table bg-white",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{textAlign:"center",width:"5%"},children:"#"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Th\u1eddi gian n\u1ed9p"}),e.props.showUsername&&Object(Y.jsx)("th",{children:"Ng\u01b0\u1eddi n\u1ed9p"}),e.props.showProblemName&&Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Lo\u1ea1i b\xe0i"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"Ng\xf4n ng\u1eef"}),Object(Y.jsx)("th",{children:"K\u1ebft qu\u1ea3"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"\u0110i\u1ec3m"}),Object(Y.jsx)("th",{style:{textAlign:"right"},children:"Th\u1eddi gian"}),Object(Y.jsx)("th",{style:{textAlign:"right"},children:"B\u1ed9 nh\u1edb"}),Object(Y.jsx)("th",{style:{textAlign:"right"},children:"Ch\u1ea5m l\u1ea1i"})]})}),Object(Y.jsxs)("tbody",{children:[0===e.state.submissions.length&&Object(Y.jsxs)("tr",{className:"no-effect",children:[e.props.showUsername&&e.props.showProblemName&&Object(Y.jsx)("td",{colSpan:9,style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p"}),(e.props.showProblemName&&!e.props.showUsername||!e.props.showProblemName&&e.props.showUsername)&&Object(Y.jsx)("td",{colSpan:8,style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p"}),!e.props.showUsername&&!e.props.showProblemName&&Object(Y.jsx)("td",{colSpan:7,style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p"})]}),e.state.submissions.length>0&&e.state.submissions.map((function(t){return Object(Y.jsx)(uo,{submission:t,viewDetail:e.viewDetail,showProblemName:e.props.showProblemName,showUsername:e.props.showUsername,restrictViewDetail:e.props.restrictViewDetail,refresh:function(){return e.fetchSubmissionListAtSpecificPage(e.state.currentPage)}},t.Id)}))]})]}),e.state.totalSubmissions>20&&Object(Y.jsx)(on,{onPageChange:e.fetchSubmissionListAtSpecificPage,numberOfPage:Math.ceil(e.state.totalSubmissions/20)}),e.state.detailId&&Object(Y.jsx)(zr,{submissionId:e.state.detailId,linkToDetail:e.state.linkToDetail+e.state.detailId,admin:e.props.admin,onHide:function(){return e.viewDetail(void 0)}})]})},e}return n}(Jr),bo=function(e){var t=Object(r.useContext)(Qn),n=Object(r.useState)(!0),a=Object(b.a)(n,2),s=a[0],c=a[1],i=e.apiUrl,o=e.problems,u=Object(r.useState)({}),l=Object(b.a)(u,2),d=l[0],j=l[1],h=function(e){e.preventDefault();var t=document.getElementById("select-id").value,n=document.getElementById("select-username").value,r=(document.getElementById("select-problem")||{value:""}).value,a=document.getElementById("select-language").value,s=document.getElementById("select-verdict").value;j({id:t,username:n,problem:r,language:a,verdict:s})};return Object(r.useEffect)((function(){var e=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchLanguages();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c(!1),e(),c(!0)}),[]),Object(Y.jsx)(Y.Fragment,{children:s?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(qt.a,{onSubmit:h,children:Object(Y.jsxs)(qt.a.Row,{children:[Object(Y.jsxs)(qt.a.Group,{className:"col-md-1",as:Gt.a,controlId:"select-id",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"Id"}),Object(Y.jsx)(qt.a.Control,{placeholder:"Id",onSubmit:h})]}),Object(Y.jsxs)(qt.a.Row,{as:Gt.a,children:[Object(Y.jsxs)(qt.a.Group,{className:"mb-0",as:Gt.a,controlId:"select-username",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"T\xean t\xe0i kho\u1ea3n"}),Object(Y.jsx)(qt.a.Control,{placeholder:"T\xean t\xe0i kho\u1ea3n",onSubmit:h})]}),o.length>0&&Object(Y.jsxs)(qt.a.Group,{className:"mb-0",as:Gt.a,controlId:"select-problem",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"T\xean b\xe0i"}),Object(Y.jsxs)(qt.a.Control,{as:"select",defaultValue:"",children:[Object(Y.jsx)("option",{value:""}),o.map((function(e){return Object(Y.jsx)("option",{value:e.ProblemId||e.Id,children:e.Name||e.ProblemName},e.Id)}))]})]})]}),Object(Y.jsxs)(qt.a.Group,{className:"col-md-2",as:Gt.a,controlId:"select-language",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"Ng\xf4n ng\u1eef"}),Object(Y.jsx)(Qn.Consumer,{children:function(e){return s?Object(Y.jsxs)(qt.a.Control,{as:"select",defaultValue:"",onSubmit:h,children:[Object(Y.jsx)("option",{value:""}),e.languages.map((function(e){return Object(Y.jsx)("option",{value:e.Id,children:e.Name},e.Id)}))]}):Object(Y.jsx)(Yt,{})}})]}),Object(Y.jsxs)(qt.a.Group,{className:"col-md-2",as:Gt.a,controlId:"select-verdict",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"K\u1ebft qu\u1ea3 ch\u1ea5m"}),Object(Y.jsxs)(qt.a.Control,{as:"select",defaultValue:"",onSubmit:h,children:[Object(Y.jsx)("option",{value:""}),Object(Y.jsx)("option",{value:"Accepted",children:"Accepted"}),Object(Y.jsx)("option",{value:"Wrong answer",children:"Wrong answer"}),Object(Y.jsx)("option",{value:"Runtime error",children:"Runtime error"}),Object(Y.jsx)("option",{value:"Time limit exceed",children:"Time limit exceed"}),Object(Y.jsx)("option",{value:"Memory limit exceed",children:"Memory limit exceed"}),Object(Y.jsx)("option",{value:"Compilation error",children:"Compilation error"})]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",style:{minHeight:"14px"}}),Object(Y.jsxs)(qt.a.Group,{className:"mb-0 px-1",children:[Object(Y.jsxs)(Ht.a,{type:"submit",style:{minWidth:"5rem"},children:["L\u1ecdc ",Object(Y.jsx)("i",{className:"fas fa-filter"})]}),Object(Y.jsxs)(Ht.a,{className:"ml-2",variant:"danger",style:{minWidth:"5rem"},onClick:function(e){e.preventDefault(),document.getElementById("select-id").value="",document.getElementById("select-username").value="",(document.getElementById("select-problem")||{value:""}).value="",document.getElementById("select-language").value="",document.getElementById("select-verdict").value="",j({id:"",username:"",problem:"",language:"",verdict:""})},children:["X\xf3a ",Object(Y.jsx)("i",{className:"fas fa-ban"})]})]})]})]})}),Object(Y.jsx)(lo,{apiUrl:"".concat(i).concat(io(d),"&"),linkToDetail:"".concat(i,"\\"),showUsername:!0,showProblemName:!0,restrictViewDetail:!0,admin:!0,autoRefresh:!0})]}):Object(Y.jsx)(Yt,{})})};bo.defaultProps={problems:[]};var jo=bo,ho=function(e){var t=e.problemId,n=e.apiUrl;return Object(Y.jsx)(jo,{apiUrl:n||"problems/".concat(t,"/submissions")})};ho.defaultProps={apiUrl:null};var po=ho,mo=function(e){var t=e.problemId;return Object(Y.jsx)(jo,{apiUrl:"problems/".concat(t,"/submissiontests")})},fo=function(e){var t=e.tutorial,n=e.onClose,a=Object(r.useState)(!1),s=Object(b.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)(void 0),u=Object(b.a)(o,2),l=u[0],d=u[1],j=Object(r.useContext)(Qn),h=j.languages,p=j.fetchLanguages;Object(r.useEffect)((function(){(function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.next=4,t.get();case 4:t.SourceCodes.length>0&&d(t.SourceCodes[0].LanguageId),i(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=t.SourceCodes.find((function(e){return e.LanguageId===l}));m||(m={Content:""});var f=h.find((function(e){return e.Id===l}));return f=f?f.Name:"VI",Object(Y.jsx)(rr,{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",show:!0,onHide:n,dialogClassName:"modal-90w shadow-lg",closebutton:1,children:c?Object(Y.jsxs)("div",{className:"py-3 px-4",children:[Object(Y.jsx)("h2",{className:"font-semi-bold",children:t.Name}),Object(Y.jsx)(vr,{value:t.Content}),Object(Y.jsx)(wn.a,{value:l,className:"w-25 mt-2 mb-2",as:"select",onChange:function(e){return d(parseInt(e.target.value,10))},id:"search-tag",name:"mode",children:t.SourceCodes.map((function(e){return Object(Y.jsx)("option",{value:e.LanguageId,children:h.find((function(t){return t.Id===e.LanguageId})).Name},e.Id)}))}),Object(Y.jsx)(Hr,{value:m.Content,onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:f,readOnly:!0})]}):Object(Y.jsx)(Qt,{})})},xo=function(e){var t=Object(r.useState)(void 0),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)([]),d=Object(b.a)(l,2),j=d[0],h=d[1];return Object(r.useEffect)((function(){(function(){var t=Object(M.a)(E.a.mark((function t(){var n,r,a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.problem,t.next=3,Ke.a.getTutorials(n.Id);case 3:r=t.sent,(a=r.map((function(e){return new gt.default(e,n.Id)})))&&h(a.map((function(e){return new gt.default(e,n.Id)}))),u(!0);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),o?Object(Y.jsxs)("div",{children:[j.map((function(e){return Object(Y.jsx)(Xt.a,{className:"border corner p-3 mb-3 cursor-pointer shadow-sm",onClick:function(){return s(e)},children:Object(Y.jsx)("h3",{className:"font-semi-bold mb-0",children:e.Name})},e.Id)})),a&&Object(Y.jsx)(fo,{tutorial:a,onClose:function(){return s(void 0)}})]}):Object(Y.jsx)(Qt,{})},Oo=n(467),vo=n(246),go=n.n(vo),wo=n(247),yo=n.n(wo),ko=n(248),Co=n.n(ko),So=function(e){var t=e.comment,n=t.Author,a=t.Content,s=t.createdAt,c=Object(r.useState)(null),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(!1),d=Object(b.a)(l,2),j=d[0],h=d[1],p=Object(r.useState)("view"),m=Object(b.a)(p,2),f=m[0],x=m[1],O=Object(r.useState)(""),w=Object(b.a)(O,2),k=w[0],C=w[1],S=Object(r.useContext)(K),I=S.user,N=S.verifyAdministrator,P=function(){if(o)u(null);else{var e=document.getElementById("control-button-".concat(t.Id));u(e)}},T=function(e){x(e),"edit"===e&&C(t.Content)},L=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,t.update(k);case 3:e.sent||T("view"),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var n=Object(M.a)(E.a.mark((function n(){return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a b\xecnh lu\u1eadn n\xe0y?")){n.next=5;break}return n.next=3,e.topic.removeComment(t.Id);case 3:n.sent||e.refresh();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(Y.jsxs)(Qs.a,{variant:"outlined",children:[Object(Y.jsx)(Js.a,{avatar:Object(Y.jsx)(v.a,{"aria-label":"avatar",children:n.Avatar?Object(Y.jsx)("img",{src:n.Avatar,alt:"Avatar"}):n.Username[0]}),action:Object(Y.jsx)(g.a,{id:"control-button-".concat(t.Id),"aria-label":"more",onClick:P,children:Object(Y.jsx)(go.a,{})}),title:n.Username,subheader:$t()(s).format("DD/MM/YYYY"),style:{paddingBottom:"0.5rem"}}),Object(Y.jsx)(_s.a,{style:{paddingTop:"0.5rem"},children:"edit"===f?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Content",lineNumbers:!1,value:k,onChange:function(e){return C(e.target.value)}}),Object(Y.jsx)(er,{className:"bg-light-blue text-white float-right w-25 py-1 my-2",onClick:L,disabled:j,children:j?Object(Y.jsx)("span",{className:"fas fa-spinner fa-spin"}):Object(Y.jsx)("div",{children:"C\u1eadp nh\u1eadt"})})]}):Object(Y.jsx)("div",{style:{fontSize:"120%"},children:Object(Y.jsx)(vr,{value:a||""})})}),Object(Y.jsx)(Z.a,{id:"share-menu",anchorEl:o,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,open:Boolean(o),onClose:P,children:Object(Y.jsxs)(Oo.a,{children:[I&&I.Id===n.Id&&Object(Y.jsxs)($.a,{onClick:function(){return T("edit")},children:[Object(Y.jsx)(y.a,{children:Object(Y.jsx)(yo.a,{fontSize:"small"})}),"Ch\u1ec9nh s\u1eeda"]}),I&&(I.Id===n.Id||N())&&Object(Y.jsxs)($.a,{onClick:A,children:[Object(Y.jsx)(y.a,{children:Object(Y.jsx)(Co.a,{fontSize:"small",color:"secondary"})}),"X\xf3a"]})]})})]})},Io=function(e){var t=Object(r.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=e.topic,d=function(){var t=Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,l.addComment(a);case 3:return t.next=5,e.refresh();case 5:u(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Y.jsxs)(p.a,{mb:"1.25rem",children:[Object(Y.jsx)(p.a,{children:Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Content",value:a,lineNumbers:!1,onChange:function(e){return s(e.target.value)}})}),Object(Y.jsx)(p.a,{mt:"0.5rem",children:Object(Y.jsx)(_.a,{onClick:d,disabled:o,variant:"outlined",children:"Th\xeam b\xecnh lu\u1eadn"})})]})},No=function(e){var t=e.topic,n=Object(r.useState)(!0),a=Object(b.a)(n,2),s=a[0],c=a[1],i=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(!1);case 2:return e.next=4,c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.next=3,t.getComments();case 3:c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){o()}),[e.topic]),Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("h4",{className:"font-semi-bold my-4",children:["B\xecnh lu\u1eadn (",t.totalComment,")"]}),Object(Y.jsx)(Io,{topic:t,refresh:i}),t.comments.map((function(e){return Object(Y.jsx)(So,{comment:e,refresh:i,topic:t},e.Id)})),Object(Y.jsx)("div",{className:"d-flex justify-content-end",children:s?Object(Y.jsx)(er,{className:mn()(["bg-white border-0 light-blue cursor-pointer",{"cursor-not-allowed silve no-effect":!t.canGetMoreComment}]),disabled:!t.canGetMoreComment,onClick:o,children:"Xem th\xeam b\xecnh lu\u1eadn"}):Object(Y.jsx)(Yt,{})})]})},Po=function(e){var t=e.discussion,n=e.onClose,a=Object(r.useState)(!1),s=Object(b.a)(a,2),c=s[0],i=s[1];return Object(r.useEffect)((function(){(function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:i(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(Y.jsx)(rr,{title:"Th\u1ea3o lu\u1eadn",show:!0,onHide:n,dialogClassName:"modal-90w shadow-lg",closebutton:1,children:c?Object(Y.jsxs)("div",{className:"py-3 px-4",children:[Object(Y.jsx)("h3",{className:"font-semi-bold",children:t.Title}),Object(Y.jsx)(vr,{value:t.Content}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(No,{topic:t})]}):Object(Y.jsx)(Qt,{})})},To=function(e){var t=Object(r.useState)(void 0),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)([]),d=Object(b.a)(l,2),j=d[0],h=d[1];return Object(r.useEffect)((function(){(function(){var t=Object(M.a)(E.a.mark((function t(){var n,r,a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.problem,t.next=3,Ke.a.getDiscussions(n.Id);case 3:r=t.sent,(a=r.map((function(e){return new It(e,n.Id)})))&&h(a.map((function(e){return new It(e,n.Id)}))),u(!0);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),o?Object(Y.jsxs)("div",{children:[j.map((function(e){return Object(Y.jsx)(Xt.a,{className:"border corner p-3 mb-3 cursor-pointer shadow-sm",onClick:function(){return s(e)},children:Object(Y.jsx)("h3",{className:"font-semi-bold mb-0",children:e.Title})},e.Id)})),a&&Object(Y.jsx)(Po,{discussion:a,onClose:function(){return s(void 0)}})]}):Object(Y.jsx)(Qt,{})},Lo=new me;Lo.import(Cr);var Ao=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state=Object(Re.a)({},r.state),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.problem,n=this.state.language;return Object(Y.jsx)(Oe.Consumer,{children:function(r){e.languageContext=r,Lo.use(t.Statements[n].Language.ISOCode.toLowerCase());var a=t.Statements[n],s=mn()({"text-warning":"Medium"===t.Difficulty,"text-success":["Easy","Very Easy"].includes(t.Difficulty),"text-danger":"Hard"===t.Difficulty,"light-blue":"Secret"===t.Difficulty});return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(yr,{languages:t.Statements.map((function(e){return e.Language})),activeLanguage:n,setLanguage:function(){var t=Object(M.a)(E.a.mark((function t(n,r){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.setLanguage(r);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}),Object(Y.jsx)(j.a,{to:"/admin/problems/edit/".concat(t.Id),className:"mr-2",children:Object(Y.jsxs)("button",{type:"button",className:"basic-component-button bg-light-pink m-auto",style:{fontSize:"12px"},children:["Edit"," ",Object(Y.jsx)("span",{className:"fas fa-pen"})]})}),Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Lo.get("difficulty"),":\xa0"]}),Object(Y.jsx)("span",{className:s,children:Lo.get(t.Difficulty)})]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Lo.get("resource"),":\xa0"]}),t.Resource]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Lo.get("time limit"),":\xa0"]}),t.TimeLimit,"ms"]}),"\xa0\xa0\xa0",Object(Y.jsxs)("span",{style:{display:"inline-block"},children:[Object(Y.jsxs)("strong",{children:[Lo.get("memory limit"),":\xa0"]}),t.MemoryLimit,"MB"]}),Object(Y.jsx)(zt,{children:Object(Y.jsx)("h2",{style:{marginTop:"8px"},children:Object(Y.jsx)("strong",{children:t.Name})})}),t.Statements.length>0&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(vr,{value:a.Statement}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Lo.get("Input format")})}),Object(Y.jsx)(vr,{value:a.InputDescription}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Lo.get("Output format")})}),Object(Y.jsx)(vr,{value:a.OutputDescription}),Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Lo.get("Sample testcases")})}),t.SampleTests.map((function(e,t){return Object(Y.jsx)(Nr,{testcase:e,index:t},e.Id)})),a.Explanation&&Object(Y.jsx)("h3",{children:Object(Y.jsx)("strong",{children:Lo.get("Sample testcases explanation")})}),Object(Y.jsx)(vr,{value:a.Explanation})]})]})}})}}]),n}(gr),Ro=function(e){var t=e.detail,n=e.problemName,r=e.languageName;return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{style:{width:"3%",textAlign:"center"},children:t.Id}),Object(Y.jsx)("td",{style:{width:"15%"},children:t.Username}),Object(Y.jsx)("td",{style:{width:"15%"},children:$t()(t.createdAt).format("DD/MM/YYYY - HH:mm")}),n&&Object(Y.jsx)("td",{children:n}),Object(Y.jsx)("td",{style:{width:"10%"},children:r||"--"}),Object(Y.jsx)("td",{style:{width:"15%"},children:t.Verdict||"--"}),Object(Y.jsx)("td",{children:t.Reason})]})};Ro.defaultProps={detail:{},problemName:void 0,languageName:""};var Do=Ro,Uo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({fetched:!1}),!r.languageContext){e.next=4;break}return e.next=4,r.languageContext.fetchLanguages();case 4:r.setState({fetched:!0});case 5:case"end":return e.stop()}}),e)}))),r.getProblemName=function(e){var t=r.props.problems;if(t){if(e){var n=t.find((function(t){return t.ProblemId===e}));return n?n.ProblemName:"--"}return"--"}},r.state={fetched:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.fetched,n=this.props,r=n.rejudgeList,a=n.problems,s=r.length;return t?Object(Y.jsx)(Qn.Consumer,{children:function(n){return e.languageContext=n,t?Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("table",{className:"basic-component-table bg-white",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"3%",textAlign:"center"},children:"#"}),Object(Y.jsx)("th",{style:{width:"15%"},children:"Ng\u01b0\u1eddi t\u1ea1o"}),Object(Y.jsx)("th",{style:{width:"15%"},children:"Th\u1eddi gian t\u1ea1o"}),a&&Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{style:{width:"10%"},children:"Ng\xf4n ng\u1eef"}),Object(Y.jsx)("th",{style:{width:"15%"},children:"K\u1ebft qu\u1ea3 ch\u1ea5m"}),Object(Y.jsx)("th",{children:"L\xfd do"})]})}),Object(Y.jsxs)("tbody",{children:[s>0&&r.map((function(t){return Object(Y.jsx)(Do,{detail:t,problemName:e.getProblemName(t.ProblemId),languageName:e.languageContext.getLanguageName(t.LanguageId)},t.Id)})),0===s&&Object(Y.jsx)("tr",{className:"no-effects",children:Object(Y.jsx)("td",{colSpan:6,style:{textAlign:"center"},children:"Kh\xf4ng c\xf3 l\u1ea7n ch\u1ea5m l\u1ea1i n\xe0o."})})]})]}),s>20&&Object(Y.jsx)(on,{onPageChange:e.fetchSubmissionListAtSpecificPage,numberOfPage:Math.ceil(s/20)})]}):Object(Y.jsx)(Qt,{})}}):Object(Y.jsx)(Qt,{})}}]),n}(a.a.Component);Uo.defaultProps={rejudgeList:[],problems:[]};var Eo=Uo,Mo=function(e){var t=Object(r.useContext)(Qn),n=Object(r.useState)(!0),a=Object(b.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(!1),o=Object(b.a)(i,2),u=o[0],l=o[1],d=Object(r.useState)(""),j=Object(b.a)(d,2),h=j[0],p=j[1],m=e.closeModal,f=e.problems;Object(r.useEffect)((function(){var e=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchLanguages();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c(!1),e(),c(!0)}),[]);var x=function(){var t=Object(M.a)(E.a.mark((function t(n){var r,a,s,c,i,o,u;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=document.getElementById("select-verdict").value,a=(document.getElementById("select-problem")||{value:""}).value,s=document.getElementById("select-language").value,c=document.getElementById("reason").value,i=e.submitRejudge,c){t.next=9;break}return p("L\xfd do kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),t.abrupt("return");case 9:return l(!0),o={Reason:c},r&&(o.Verdict=r),s&&(o.LanguageId=s),a&&(o.ProblemId=a),t.next=16,i(o);case 16:u=t.sent,l(!1),"string"!==typeof u&&m(),p(u);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=Object(Y.jsxs)("div",{className:"p-2",children:[h&&Object(Y.jsx)("p",{className:"text-danger font-weight-bold",children:h}),Object(Y.jsxs)(Ht.a,{className:"mr-2 bg-danger",variant:"danger",onClick:m,children:["Cancel"," ",Object(Y.jsx)("span",{className:"fas fa-ban"})]}),Object(Y.jsx)(Ht.a,{variant:"success",onClick:x,children:u?Object(Y.jsx)(Yt,{}):Object(Y.jsxs)(Y.Fragment,{children:["Submit"," ",Object(Y.jsx)("span",{className:"fas fa-pen"})]})})]});return Object(Y.jsx)(rr,{title:"Ch\u1ea5m l\u1ea1i",show:!0,closebutton:1,onHide:m,footer:O,children:Object(Y.jsx)("div",{className:"p-2",children:Object(Y.jsxs)(qt.a,{children:[Object(Y.jsxs)(qt.a.Row,{children:[Object(Y.jsxs)(qt.a.Group,{as:Gt.a,controlId:"select-language",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"Ng\xf4n ng\u1eef"}),Object(Y.jsx)(Qn.Consumer,{children:function(e){return s?Object(Y.jsxs)(qt.a.Control,{as:"select",defaultValue:"",children:[Object(Y.jsx)("option",{value:""}),e.languages.map((function(e){return Object(Y.jsx)("option",{value:e.Id,children:e.Name},e.Id)}))]}):Object(Y.jsx)(Yt,{})}})]}),Object(Y.jsxs)(qt.a.Group,{as:Gt.a,controlId:"select-verdict",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"K\u1ebft qu\u1ea3 ch\u1ea5m"}),Object(Y.jsxs)(qt.a.Control,{as:"select",defaultValue:"",children:[Object(Y.jsx)("option",{value:""}),Object(Y.jsx)("option",{value:"Accepted",children:"Accepted"}),Object(Y.jsx)("option",{value:"Wrong answer",children:"Wrong answer"}),Object(Y.jsx)("option",{value:"Runtime error",children:"Runtime error"}),Object(Y.jsx)("option",{value:"Time limit exceed",children:"Time limit exceed"}),Object(Y.jsx)("option",{value:"Memory limit exceed",children:"Memory limit exceed"}),Object(Y.jsx)("option",{value:"Compilation error",children:"Compilation error"})]})]})]}),f.length>0&&Object(Y.jsxs)(qt.a.Group,{as:Yn.a,controlId:"select-problem",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"B\xe0i t\u1eadp"}),Object(Y.jsxs)(qt.a.Control,{as:"select",defaultValue:"",children:[Object(Y.jsx)("option",{value:"",children:"All"}),f.map((function(e){return Object(Y.jsx)("option",{value:e.ProblemId||e.Id,children:e.Name||e.ProblemName},e.Id)}))]})]}),Object(Y.jsxs)(qt.a.Group,{controlId:"reason",children:[Object(Y.jsx)(qt.a.Label,{className:"font-weight-bold",children:"L\xfd do"}),Object(Y.jsx)(qt.a.Control,{as:"textarea",rows:7})]})]})})})};Mo.defaultProps={problems:[],submitRejudge:function(){}};var Bo=Mo,Fo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).toggleModal=function(){r.setState((function(e){return{showModal:!e.showModal}}))},r.state={showModal:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.showModal,t=this.props,n=t.problems,r=t.submitRejudge,a=t.rejudgeList;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Ht.a,{className:"bg-green p-2 mb-1 shadow-sm border-0",onClick:this.toggleModal,children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ","Th\xeam m\u1edbi"]})}),Object(Y.jsx)(Eo,{problems:n,rejudgeList:a}),e&&Object(Y.jsx)(Bo,{closeModal:this.toggleModal,problems:n,submitRejudge:r})]})}}]),n}(a.a.Component);Fo.defaultProps={problems:[],submitRejudge:function(){},rejudgeList:[]};var qo=Fo,Go=function(e){var t=e.problemId,n=Object(r.useState)([]),a=Object(b.a)(n,2),s=a[0],c=a[1],i=function(){var e=Object(M.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.fetchRejudge(t);case 2:return n=e.sent,c(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){i()}),[]);var o=function(){var e=Object(M.a)(E.a.mark((function e(n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.rejudge(t,n);case 2:i();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsx)(qo,{problems:[],submitRejudge:o,rejudgeList:s})},Ho=new me;Ho.import(Cr);var Vo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onViewSettingChange=function(e){var t=r.state.viewSetting;t[e]=!t[e],xe.write("view-setting",t),r.setState(t)},r.onFullScreenChange=function(){r.setState((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{fullScreen:!e.fullScreen})}))},r.state={problem:void 0,fetched:!1,fullScreen:!1,orientation:"vertical"},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,n=this.context.getProblem,r=t.params.id,e.next=5,n(r);case 5:a=e.sent,this.setState((function(){return{problem:a,fetched:!0}})),window.scrollTo(0,0),this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this)),document.getElementById("root").style.overflow="auto"}},{key:"updateDimensions",value:function(){window.innerWidth<800?(this.setState({orientation:"horizontal"}),document.getElementById("root").style.overflow="auto"):(this.setState({orientation:"vertical"}),document.getElementById("root").style.overflow="hidden")}},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.problem,a=t.fullScreen,s=t.orientation;return Object(Y.jsx)(Oe.Consumer,{children:function(t){var c=t.language;return Object(Y.jsx)(di.Consumer,{children:function(t){return e.context=t,Ho.use(c),n?r?Object(Y.jsxs)("div",{className:"problem-page-wrapper ".concat("vertical"===s?"fit-height":""),children:[Object(Y.jsx)("div",{className:"top-bar",children:Object(Y.jsx)(ye,{nav:r.ViewNavigation(c)})}),Object(Y.jsxs)(Bt,{className:"content-problem",orientation:s,children:[a?null:Object(Y.jsxs)(qn,{controlKey:"view",children:[Object(Y.jsx)(Ao,{route:"statement",title:Ho.get("statement"),problem:r}),Object(Y.jsx)("div",{route:"submissiontests",title:Ho.get("testsubmissions"),children:Object(Y.jsx)(mo,{autoRefresh:!0,admin:!0,showUsername:!0,problemId:r.Id})}),Object(Y.jsx)("div",{route:"submissions",title:Ho.get("submissions"),children:Object(Y.jsx)(po,{autoRefresh:!0,admin:!0,showUsername:!0,problemId:r.Id})}),Object(Y.jsx)("div",{route:"tutorials",title:Ho.get("tutorials"),children:Object(Y.jsx)(xo,{tutorials:r.Tutorials,problem:r})}),Object(Y.jsx)("div",{route:"discussions",title:Ho.get("discussions"),children:Object(Y.jsx)(To,{problem:r})}),Object(Y.jsx)(Go,{route:"judgehost",title:"Ch\u1ea5m l\u1ea1i",problemId:r.Id})]}),Object(Y.jsx)(lr,{problem:r,allowFullScreen:!0,fullScreening:a,onFullScreen:e.onFullScreenChange})]})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})}})}})}}]),n}(a.a.Component),zo=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/problems",component:fi}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/problems/add",component:co}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/problems/add/:view",component:co}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/problems/edit/:id",component:co}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/problems/:id",component:Vo})]})},Wo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onRemove=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.onRemove,a=t.executable,r.setState({isRemoving:!0}),e.next=4,n(a.Id);case 4:r.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),r.state={executable:e.executable,isRemoving:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.executable,n=e.isRemoving,r=t.Id,a=t.Type,s=t.Description;return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:"/admin/executable/edit/".concat(r),children:Object(Y.jsx)("strong",{children:r})})}),Object(Y.jsx)("td",{children:a}),Object(Y.jsx)("td",{children:s}),Object(Y.jsxs)("td",{style:{textAlign:"center"},children:[Object(Y.jsx)(j.a,{to:"/admin/executable/edit/".concat(r),children:Object(Y.jsx)("button",{type:"button",className:"basic-component-button bg-light-pink",children:Object(Y.jsx)("span",{className:"fas fa-pen"})})}),"\xa0",Object(Y.jsx)("button",{type:"button",className:"basic-component-button bg-danger",onClick:this.onRemove,disabled:n,children:n&&Object(Y.jsx)("span",{className:"fas fa-spinner fa-spin"})||Object(Y.jsx)("span",{className:"fas fa-trash"})})]})]})}}]),n}(a.a.Component),Yo={vi:{"add new":"Th\xeam m\u1edbi",type:"Lo\u1ea1i",name:"T\xean",description:"M\xf4 t\u1ea3",save:"L\u01b0u",remove:"X\xf3a",setting:"Ch\u1ec9nh s\u1eeda"}},Ko=new me;Ko.import(Yo);var Qo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).removeExecutable=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=5;break}return e.next=3,r.executableContext.removeExecutable(t);case 3:r.setState({fetched:!1}),r.setState({fetched:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={fetched:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executableContext.fetchExecutable();case 2:this.setState({fetched:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.fetched;return Object(Y.jsx)(Ri.Consumer,{children:function(n){return e.executableContext=n,t?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["executable"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)(Oe.Consumer,{children:function(t){var r=t.language;return Ko.use(r),Object(Y.jsx)(Xt.a,{className:"w-100 shadow-sm",children:Object(Y.jsxs)(Xt.a.Body,{className:"p-2",children:[Object(Y.jsx)("h2",{className:"mb-3",children:Object(Y.jsx)("strong",{children:"Executable"})}),Object(Y.jsx)("div",{className:"mb-2",children:Object(Y.jsx)(j.a,{to:"/admin/executable/add",children:Object(Y.jsxs)(er,{className:"bg-green corner p-2",children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ",Object(Y.jsx)("strong",{children:Ko.get("Add new")})]})})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:Ko.get("Name")}),Object(Y.jsx)("th",{children:Ko.get("Type")}),Object(Y.jsx)("th",{children:Ko.get("Description")}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:Ko.get("Setting")})]})}),Object(Y.jsx)("tbody",{children:n.executable.container.map((function(t){return Object(Y.jsx)(Wo,{executable:t,onRemove:e.removeExecutable},t.Id)}))})]})]})})}})})]}):Object(Y.jsx)(Qt,{})}})}}]),n}(a.a.Component),Jo=new Ai({Id:"",Md5sum:"",Zipfile:"",Description:"",Type:"compile"}),_o=new me;_o.import(Yo);var Xo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onInformationChange=function(e){var t=e.target.name,n=e.target.value;"Id"===t&&(n=n.trim());var a=r.state.executable;a[t]=n,r.setState({executable:a})},r.onUpload=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.state.executable,e.next=3,n.assignFile(t.target.files[0]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onSave=Object(M.a)(E.a.mark((function e(){var t,n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,n=t.mode,a=t.executable,s=t.origin,r.setState({isSaving:!0}),e.prev=2,"add"!==n){e.next=8;break}return e.next=6,r.executableContext.addExecutable(a);case 6:e.next=11;break;case 8:return e.next=10,a.editExecutable(s);case 10:r.executableContext.editExecutable(s,a);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),r.setState({isSaving:!1,mode:"edit"}),je.a.replace("/admin/executable/edit/".concat(a.Id));case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),r.onRemove=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.executable,r.setState({isRemoving:!0}),!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=11;break}return e.prev=3,e.next=6,r.executableContext.removeExecutable(t.Id);case 6:je.a.replace("/admin/executable"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:r.setState({isRemoving:!1});case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),r.onCancel=function(){r.setState({isCanceling:!0}),je.a.replace("/admin/executable"),r.setState({isCanceling:!1})},r.state={mode:e.location.pathname.split("/")[3]||"add",fetched:!1,executable:void 0,isSaving:!1,isRemoving:!1,isCanceling:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.mode,r=this.props.match,"edit"!==n){e.next=9;break}return a=r.params.Id,e.next=6,this.executableContext.getExecutable(a);case 6:t=e.sent,e.next=10;break;case 9:t=Jo;case 10:this.setState({origin:t,executable:Te.a.cloneDeep(t),fetched:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.executable,a=t.mode,s=t.isRemoving,c=t.isSaving,i=t.isCanceling;return Object(Y.jsx)(Ri.Consumer,{children:function(t){if(e.executableContext=t,!n)return Object(Y.jsx)(_t,{});var o=r.Id,u=r.Type,l=r.Description;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["executable","/admin/executable"],[o]]}),Object(Y.jsx)(Oe.Consumer,{children:function(t){var n=t.language;return _o.use(n),Object(Y.jsxs)(Ft,{children:[Object(Y.jsx)(Xt.a,{className:"w-100 shadow-sm",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:_o.get("Type")})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"Type",value:u,onChange:e.onInformationChange,children:[Object(Y.jsx)("option",{children:"run"}),Object(Y.jsx)("option",{children:"compile"}),Object(Y.jsx)("option",{children:"compare"})]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:_o.get("Name")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Id",value:o,spellCheck:!1,onChange:e.onInformationChange})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:_o.get("Description")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Description",value:l,spellCheck:!1,onChange:e.onInformationChange})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Zip file"})}),Object(Y.jsx)(qt.a.Control,{type:"file",name:"Resource",multiple:!1,onChange:e.onUpload})]})]})}),Object(Y.jsx)(Fi,{mode:a,isRemoving:s,isSaving:c,isCanceling:i,onSave:e.onSave,onRemove:e.onRemove,onCancel:e.onCancel})]})}})]})}})}}]),n}(a.a.Component),Zo=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/executable",component:Qo}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/executable/add",component:Xo}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/executable/edit/:Id",component:Xo})]})},$o=a.a.createContext(),eu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).clearError=function(){r.setState({error:"",message:""})},r.getCourses=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.getCourses(t);case 2:return n=e.sent,a=n.courses,s=n.totalCourses,r.setState({totalCourses:s,courses:new Be(a.map((function(e){return new dt(e)})))}),e.abrupt("return",{totalCourses:r.state.totalCourses,courses:r.state.courses});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getCourse=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.state.course[t]){e.next=9;break}return e.next=3,He.getCourse(t);case 3:if(!(n=e.sent)){e.next=8;break}r.setState((function(e){return{course:Object(Re.a)(Object(Re.a)({},e.course),{},Object(tn.a)({},t,new dt(n))),totalCourses:e.totalCourses+1,courses:e.courses.add(new dt(n))}})),e.next=9;break;case 8:return e.abrupt("return",null);case 9:return e.abrupt("return",r.state.course[t]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addCourse=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.addCourse(t);case 2:if("string"!==typeof(n=e.sent)){e.next=6;break}return r.setState({error:n}),e.abrupt("return",n);case 6:return a=r.state.courses,t.updateProperty(n),a.add(t),r.setState({courses:a}),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateCourse=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.state,a=n.courses,(s=n.course)[t.Id]&&s[t.Id].updateProperty(t),a.update(t),r.setState({courses:a,course:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeCourse=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=9;break}return e.next=3,He.removeCourse(t);case 3:if(!(n=e.sent)){e.next=7;break}return r.setState({error:n}),e.abrupt("return",n);case 7:r.state.courses.remove({Id:t}),r.setState({message:"Course removed!"});case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getLectures=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getCourse(t);case 2:return n=e.sent,e.next=5,n.getCourse();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getLecture=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getCourse(t);case 2:return a=e.sent,e.next=5,a.getLecture(n);case 5:return s=e.sent,e.next=8,s.getLecture();case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.addLecture=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.EndTime&&new Date(t.EndTime).getTime()<=new Date(t.StartTime).getTime())){e.next=3;break}return r.setState({error:"End time must be less than Start time"}),e.abrupt("return",null);case 3:return e.next=5,t.Course.addLecture(t);case 5:if("string"!==typeof(n=e.sent)){e.next=9;break}return r.setState({error:n}),e.abrupt("return",n);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateLecture=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.EndTime&&new Date(t.EndTime).getTime()<=new Date(t.StartTime).getTime())){e.next=3;break}return r.setState({error:"End time must be greater than Start time"}),e.abrupt("return",null);case 3:return e.next=5,t.updateLecture(n);case 5:if(!(a=e.sent)){e.next=9;break}return r.setState({error:a}),e.abrupt("return",a);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.removeLecture=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=8;break}return e.next=3,t.Course.removeLecture(t.Id);case 3:if(!(n=e.sent)){e.next=7;break}return r.setState({error:n}),e.abrupt("return",n);case 7:r.setState({message:"Lecture removed!"});case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={course:{},totalCourses:0,courses:new Be([]),getCourses:r.getCourses,getCourse:r.getCourse,addCourse:r.addCourse,updateCourse:r.updateCourse,removeCourse:r.removeCourse,getLectures:r.getLectures,getLecture:r.getLecture,addLecture:r.addLecture,removeLecture:r.removeLecture,updateLecture:r.updateLecture,error:"",message:""},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.message,r=t.error;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)($o.Provider,{value:this.state,children:e}),(r.length>0||n.length>0)&&Object(Y.jsx)(La,{title:"Problem",clearError:this.clearError,message:n,error:r})]})}}]),n}(a.a.Component),tu=function(e){var t=e.scoreboard;return Object(Y.jsx)(xn,{title:"B\u1ea3ng x\u1ebfp h\u1ea1ng",children:Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{className:"text-center rounded-0",children:"#"}),Object(Y.jsx)("th",{children:"Username"}),Object(Y.jsx)("th",{className:"text-center rounded-0",children:"\u0110i\u1ec3m"})]})}),Object(Y.jsx)("tbody",{children:t.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-center",children:e.Rank}),Object(Y.jsxs)("td",{children:[e.Rank<=3&&e.Score>0&&Object(Y.jsx)("span",{className:"fas fa-award",style:{color:(t=e.Rank,mn()({"#f1c40f":1===t,"#bdc3c7":2===t,"#f0932b":3===t}))}})," ",e.Username]}),Object(Y.jsx)("td",{className:"text-center",children:e.Solved})]},"#".concat(e.Id));var t}))})]})})},nu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).loadScoreboard=Object(M.a)(E.a.mark((function t(){var n,r,a,s,c,i,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({fetched:!1}),t.next=3,Ze.getScoreboard(e.props.courseId,e.props.lectureId);case 3:n=t.sent,r=n.Summary,a=n.ScoreboardDetail,s=n.UserRank,r?(c=r.TotalUser,i=c/e.itemPerPage,o=!0,s?a.forEach((function(e){e.Id===s.Id&&(o=!1)})):o=!1,e.setState({summary:r,scoreboardDetail:a,userRank:o?s:void 0,numberOfPage:i,fetched:!0})):e.setState({scoreboardDetail:[],fetched:!0});case 8:case"end":return t.stop()}}),t)}))),e}return n}(Un),ru=function(e){var t=e.problems,n=e.courseId,a=e.lectureId,s=Object(r.useState)([]),c=Object(b.a)(s,2),i=c[0],o=c[1],u=function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.fetchRejudge(n,a);case 2:return t=e.sent,o(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){u()}),[]);var l=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.rejudge(n,a,t);case 2:u();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsx)(qo,{problems:t,submitRejudge:l,rejudgeList:i})},au=new me;au.import(Cn);var su=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(void 0),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useContext)($o).getLecture,d=Object(r.useContext)(Oe).language;return au.use(d||"vi"),Object(r.useEffect)((function(){(function(){var t=Object(M.a)(E.a.mark((function t(){var n,r,a,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params,r=n.courseId,a=n.lectureId,t.next=3,l(r,a);case 3:c=t.sent,u(c),s(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),a?o?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Admin","/admin"],["courses","/courses"],[o.Course.Name,o.Course.Link],[o.Name]]}),Object(Y.jsxs)(Ft,{className:"d-block",children:[Object(Y.jsx)(Xt.a,{className:"w-100 shadow-sm mb-4",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)("h1",{className:"font-semi-bold text-center",children:o.Course.Name}),Object(Y.jsx)("h2",{className:"font-semi-bold text-center",children:o.Name}),Object(Y.jsx)("p",{className:"mb-0",children:o.Description}),Object(Y.jsx)(j.a,{to:"/admin/courses/".concat(o.Course.Id,"/lectures/edit/").concat(o.Id),children:Object(Y.jsxs)(Ht.a,{className:"btn-danger font-weight-bolder",style:{position:"absolute",bottom:"1.25rem",right:"1.25rem"},children:["Edit",Object(Y.jsx)("span",{className:"fas fa-pen"})]})})]})}),Object(Y.jsx)("div",{className:"w-100",children:Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)("div",{title:"B\xe0i t\u1eadp",route:"problems",className:"px-2 py-4",children:Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Et,{children:o.Problems.map((function(e){var t=mn()({"text-warning":"Medium"===e.Difficulty,"text-success":["Easy","Very Easy"].includes(e.Difficulty),"text-danger":"Hard"===e.Difficulty,"light-blue":"Secret"===e.Difficulty});return Object(Y.jsx)(j.a,{to:e.Link,children:Object(Y.jsx)(Xt.a,{className:"border corner shadow-sm user-single-problem mt-0",children:Object(Y.jsx)(Xt.a.Body,{className:"d-flex",children:Object(Y.jsxs)("div",{className:"flex-grow-1",children:[Object(Y.jsx)("h2",{className:"font-semi-bold",children:e.ProblemName}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{children:["\u0110\u1ed9 kh\xf3:\xa0",Object(Y.jsx)("span",{className:t,children:au.get(e.Difficulty||"")})]}),Object(Y.jsxs)("li",{children:["S\u1ed1 ng\u01b0\u1eddi gi\u1ea3i:\xa0",e.TotalSolved]})]})]})})},e.Id)},e.Id)}))}),Object(Y.jsx)(Mt,{children:Object(Y.jsx)(tu,{scoreboard:(o.Scoreboard.ScoreboardDetail||[]).map((function(e){return{Id:e.Id,Username:e.Username,Rank:e.Rank,Solved:e.Solved}}))})})]})}),Object(Y.jsx)("div",{title:"B\xe0i n\u1ed9p",route:"submission",className:"px-2 py-2",children:Object(Y.jsx)(jo,{apiUrl:"courses/".concat(o.Course.Id,"/lectures/").concat(o.Id,"/submissions"),problems:o.Problems})}),Object(Y.jsxs)("div",{title:"B\u1ea3ng x\u1ebfp h\u1ea1ng",route:"scoreboard",className:"px-2 py-4",children:[Object(Y.jsx)("div",{className:"d-flex justify-content-end",children:Object(Y.jsxs)("div",{className:"border corner p-1 mb-2",children:[Object(Y.jsx)("span",{className:"first-solved corner mr-1",children:"\xa0\xa0\xa0\xa0\xa0"}),"First to solve problem",Object(Y.jsx)("span",{className:"solved corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Solved problem",Object(Y.jsx)("span",{className:"wrong-answer corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Attempted problem",Object(Y.jsx)("span",{className:"pending corner mr-1 ml-2",children:"\xa0\xa0\xa0\xa0\xa0"}),"Pending problem"]})}),Object(Y.jsx)("div",{className:"d-flex justify-content-center",children:Object(Y.jsx)(nu,{courseId:o.Course.Id,lectureId:o.Id,problems:o.Problems})})]}),Object(Y.jsx)(ru,{route:"Rejudging",title:"Ch\u1ea5m l\u1ea1i",courseId:o.Course.Id,lectureId:o.Id,problems:o.Problems})]})})]})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})},cu=function(e){var t=e.lecture;Object(r.useEffect)((function(){(function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var n,a;return Object(Y.jsx)(Xt.a,{className:"shadow-sm single-course ".concat(t.Link?"cursor-pointer":""),children:Object(Y.jsxs)(Xt.a.Body,{className:"d-flex",children:[Object(Y.jsxs)("div",{className:"flex-grow-1",children:[Object(Y.jsx)("h2",{className:"font-semi-bold",children:t.Name}),Object(Y.jsx)("p",{children:t.Description}),Object(Y.jsxs)("ul",{children:[Object(Y.jsxs)("li",{children:["S\u1ed1 b\xe0i t\u1eadp:\xa0",t.TotalProblems]}),Object(Y.jsxs)("li",{children:["\u0110\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c:\xa0",t.Solved]})]})]}),Object(Y.jsx)("div",{className:"d-flex flex-column justify-content-center",children:Object(Y.jsx)("div",{style:{height:"80px",width:"80px"},children:Object(Y.jsx)(dn.a,{value:t.Solved/t.TotalProblems,maxValue:1,text:"".concat((n=t.Solved,a=t.TotalProblems,0===a||0===n?0:parseInt(n/a*100,10)),"%"),strokeWidth:2,styles:Object(dn.b)({textSize:"16px",textColor:"#44bd32",pathColor:"#44bd32"})})})})]})})},iu=function(e){var t=e.lectures;return Object(Y.jsx)("div",{children:t.map((function(e){return Object(Y.jsx)("div",{children:e.Link?Object(Y.jsx)(j.a,{to:e.Link,children:Object(Y.jsx)(cu,{lecture:e})}):Object(Y.jsx)(cu,{lecture:e})},e.Id)}))})},ou=function(e){var t=Object(r.useState)([]),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useContext)($o).getCourse;return Object(r.useEffect)((function(){(function(){var t=Object(M.a)(E.a.mark((function t(){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e.match.params.id);case 2:if(!(n=t.sent)){t.next=6;break}return t.next=6,n.getCourse();case 6:s(n),u(!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),o?a?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Admin","/admin"],["courses","/admin/courses"],[a.Name]]}),Object(Y.jsxs)(Ft,{className:"d-block",children:[Object(Y.jsx)(Xt.a,{className:"w-100 shadow-sm mb-3",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)("h1",{className:"font-semi-bold text-center",children:a.Name}),$t()().isAfter($t()(a.EndDate))&&Object(Y.jsx)("p",{className:"font-semi-bold mb-0 light-pink text-center",children:"Kh\xf3a h\u1ecdc \u0111\xe3 k\u1ebft th\xfac"}),Object(Y.jsx)("p",{className:"mb-0",children:a.Description}),Object(Y.jsx)(j.a,{to:"/admin/courses/edit/".concat(a.Id),children:Object(Y.jsxs)(Ht.a,{className:"btn-danger font-weight-bolder",style:{position:"absolute",bottom:"1.25rem",right:"1.25rem"},children:["Edit",Object(Y.jsx)("span",{className:"fas fa-pen"})]})})]})}),Object(Y.jsx)(Et,{children:Object(Y.jsx)(iu,{lectures:a.Lectures})}),Object(Y.jsx)(Mt,{children:Object(Y.jsx)("div",{className:"mt-2",children:Object(Y.jsx)(tu,{scoreboard:a.Scoreboard})})})]})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})},uu={vi:{"course code":"M\xe3 kh\xf3a h\u1ecdc",name:"T\xean kh\xf3a h\u1ecdc",setting:"C\xe0i \u0111\u1eb7t",lecture:"th\xeam bu\u1ed5i h\u1ecdc",lectures:"c\xe1c bu\u1ed5i h\u1ecdc","course type":"Lo\u1ea1i kh\xf3a h\u1ecdc",description:"M\xf4 t\u1ea3","start date":"Ng\xe0y b\u1eaft \u0111\u1ea7u","end date":"Ng\xe0y k\u1ebft th\xfac",published:"C\xf4ng khai",users:"H\u1ecdc vi\xean",information:"Th\xf4ng tin","add new":"Th\xeam m\u1edbi",moderators:"Tr\u1ee3 gi\u1ea3ng"}},lu=new me;lu.import(uu);var du=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),c=Object(b.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)(0),l=Object(b.a)(u,2),d=l[0],h=l[1],p=Object(r.useContext)($o).getCourses,m=Object(r.useContext)(Oe).language,f=Object(r.useState)({cat:"",name:"",page:1,limit:20}),x=Object(b.a)(f,2),O=x[0],v=x[1];lu.use(m);var g=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.next=3,p(t);case 3:n=e.sent,r=n.courses,s=n.totalCourses,o(r),h(s),a(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(!1);case 2:return e.next=4,a(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=ze.a.getQueryString("page")||1;g(Object(Re.a)(Object(Re.a)({},O),{},{page:e})),v(Object(Re.a)(Object(Re.a)({},O),{},{page:e}))}),[]);var y=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(Object(Re.a)(Object(Re.a)({},O),{},{name:t.target.value}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(Object(Re.a)(Object(Re.a)({},O),{},{cat:t.target.value}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g(Object(Re.a)(Object(Re.a)({},O),{},{page:1}));case 3:return e.next=5,v(Object(Re.a)(Object(Re.a)({},O),{},{page:1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("select-course-name").value="",document.getElementById("select-course-category").value="",e.next=4,v({name:"",cat:"",limit:20,page:1});case 4:return e.next=6,g({name:"",cat:"",limit:20,page:1});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(qt.a,{onSubmit:C,children:Object(Y.jsxs)(qt.a.Row,{children:[Object(Y.jsx)(qt.a.Group,{className:"mb-0",as:Gt.a,md:"8",controlId:"select-course-name",children:Object(Y.jsx)(qt.a.Control,{placeholder:"T\xean l\u1edbp",onChange:y,value:O.name,onSubmit:C})}),Object(Y.jsx)(qt.a.Group,{className:"mb-0",as:Gt.a,controlId:"select-course-category",children:Object(Y.jsxs)(qt.a.Control,{as:"select",defaultValue:O.cat,onChange:k,children:[Object(Y.jsx)("option",{value:"",disabled:!0,children:"Lo\u1ea1i l\u1edbp"}),Object(Y.jsx)("option",{value:"GREEN",children:"Green"}),Object(Y.jsx)("option",{value:"BLUE",children:"Blue"}),Object(Y.jsx)("option",{value:"ORANGE",children:"Orange"}),Object(Y.jsx)("option",{value:"ONLINE",children:"Online"}),Object(Y.jsx)("option",{value:"CP",children:"CP"})]})}),Object(Y.jsx)(qt.a.Group,{children:Object(Y.jsxs)(qt.a.Group,{className:"mb-0 px-1",children:[Object(Y.jsxs)(Ht.a,{style:{minWidth:"5rem"},onClick:C,children:["L\u1ecdc ",Object(Y.jsx)("i",{className:"fas fa-filter"})]}),Object(Y.jsxs)(Ht.a,{className:"ml-2",variant:"danger",style:{minWidth:"5rem"},onClick:S,children:["\u0110\u1eb7t l\u1ea1i ",Object(Y.jsx)("i",{className:"fas fa-undo"})]})]})})]})}),Object(Y.jsxs)("div",{children:[n?Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Lo\u1ea1i l\u1edbp"}),Object(Y.jsx)("th",{children:"T\xean l\u1edbp"}),Object(Y.jsx)("th",{children:"H\xecnh th\u1ee9c"}),Object(Y.jsx)("th",{className:"text-center","aria-label":"public",children:Object(Y.jsx)("span",{className:"fas fa-globe"})}),Object(Y.jsx)("th",{children:"S\u1eeda"})]})}),Object(Y.jsx)("tbody",{children:i.container.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:e.Link,children:e.Category})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:e.Link,children:e.Name})}),Object(Y.jsx)("td",{children:e.CourseType.Name}),Object(Y.jsx)("td",{className:"text-center",children:Object(Y.jsx)(sr,{className:"green",checked:e.Published,onChange:Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.togglePublished();case 2:w();case 3:case"end":return t.stop()}}),t)})))})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:e.EditLink,children:Object(Y.jsx)("button",{type:"button",className:"basic-component-button bg-light-pink text-white",children:Object(Y.jsx)("span",{className:"fas fa-pen"})})})})]},e.Id)}))})]}):Object(Y.jsx)(Qt,{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(on,{numberOfPage:Math.ceil(d/20),init:O.page,onPageChange:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(Object(Re.a)(Object(Re.a)({},O),{},{page:t})),v(Object(Re.a)(Object(Re.a)({},O),{},{page:t}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})]})},bu=new me;bu.import(uu);var ju=function(){var e=Object(r.useContext)(Oe).language;return bu.use(e),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["Courses"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)(Xt.a,{className:"w-100 bg-white shadow-sm",children:Object(Y.jsxs)(Xt.a.Body,{className:"p-2",children:[Object(Y.jsx)("h2",{className:"mb-3",children:Object(Y.jsx)("strong",{children:"L\u1edbp h\u1ecdc"})}),Object(Y.jsx)("div",{className:"mb-2 d-flex",children:Object(Y.jsx)("div",{className:"mr-2",children:Object(Y.jsx)(j.a,{to:"/admin/courses/add",children:Object(Y.jsx)(er,{className:"bg-green p-2 shadow-sm",children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ",bu.get("Add new")]})})})})}),Object(Y.jsx)(du,{})]})})})]})},hu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new dt({CourseTypeId:1,CourseType:{Id:1,Name:"Class"},Category:"GREEN",Name:"",Description:"",Published:0,StartDate:null,EndDate:null},e)},pu=function(e){var t=e.lectures,n=e.course,a=e.editable,s=Object(r.useState)(!1),c=Object(b.a)(s,2),i=c[0],o=c[1];return i?Object(Y.jsx)("div",{}):Object(Y.jsxs)("div",{children:[a&&Object(Y.jsx)("div",{className:"mb-2",children:Object(Y.jsx)(j.a,{to:"/admin/courses/".concat(n.Id,"/lectures/add"),children:Object(Y.jsx)(er,{className:"bg-green p-2 shadow-sm",children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ","Th\xeam m\u1edbi"]})})})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"T\xean"}),Object(Y.jsx)("th",{className:"text-center","aria-label":"public",children:Object(Y.jsx)("span",{className:"fas fa-globe"})}),Object(Y.jsx)("th",{children:"Ch\u1ec9nh s\u1eeda"})]})}),Object(Y.jsx)("tbody",{children:t.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:Object(Y.jsxs)(j.a,{to:e.Link,children:[" ",e.Name," "]})}),Object(Y.jsx)("td",{className:"text-center",children:Object(Y.jsx)(sr,{className:"green",checked:!0===e.Published,id:e.Id,onChange:Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.togglePublished();case 2:o(!0),o(!1);case 4:case"end":return t.stop()}}),t)}))),disabled:!a})}),Object(Y.jsx)("td",{children:a?Object(Y.jsx)(j.a,{to:e.EditLink,children:Object(Y.jsx)("button",{className:"basic-component-button bg-light-pink text-white",type:"button",children:Object(Y.jsx)("span",{className:"fas fa-pen"})})}):Object(Y.jsx)("span",{className:"text-danger fas fa-ban fa-lg"})})]},e.Id)}))})]})]})};pu.defaultProps={editable:!0};var mu=pu,fu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e,20)).onInformationChange=function(e){e.preventDefault()},r.getFilteredUsers=function(){var e=r.state.pattern;return e=e.toLowerCase(),r.props.contest.Users.filter((function(t){return""===e||t.Username.toLowerCase().includes(e)||t.Email.toLowerCase().includes(e)}))},r.setPage=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setSearchParam("page",r.state.page,1);case 2:case"end":return e.stop()}}),e)}))),r.onPatternChange=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,r.props.setSearchParam("pattern",n,1);case 3:return r.setState({pattern:n}),e.next=6,r.setState({numberOfPage:Math.ceil(r.getFilteredUsers().length/r.itemPerPage)});case 6:r.onPageChange(1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{pattern:e.pattern,fetched:!1}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.editable;return this.state.fetched?Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"d-flex my-2",children:[Object(Y.jsx)("div",{className:"flex-grow-1 mr-2",children:Object(Y.jsx)(oi,{Id:"Search-picked",onChange:this.onPatternChange})}),Object(Y.jsx)("div",{className:"p-2 bg-green text-white corner text-center",children:Object(Y.jsxs)("strong",{children:["S\u1ed1 l\u01b0\u1ee3ng:",this.props.contest.Users.length]})})]}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Username"}),Object(Y.jsx)("th",{children:"Email"}),this.props.hasEndDate?Object(Y.jsx)("th",{children:"End Date"}):null,Object(Y.jsx)("th",{children:"X\xf3a"})]})}),Object(Y.jsx)("tbody",{children:this.getFilteredUsers().map((function(n,r){return r>=e.state.startIndex&&r<e.state.endIndex&&Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-break",children:n.Username}),Object(Y.jsx)("td",{className:"text-break",children:n.Email}),e.props.hasEndDate?Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)("div",{className:"basic-component-datetime-div",children:Object(Y.jsx)(Ac,{id:"end-date-".concat(n.id),name:"EndDate",dateFormat:!0,timeFormat:!0,value:new Date(n.EndDate).getTime(),onChange:function(t){return e.props.setEndDate(t,n.Id)},disabled:!t})})}):null,Object(Y.jsx)("td",{className:"text-break",children:e.props.editable&&Object(Y.jsx)(er,{className:"bg-light-pink",onClick:function(){return e.props.remove(n.Id)},children:Object(Y.jsx)("span",{className:"fas fa-trash"})})})]},n.Id)}))})]}),this.renderPagination(this.setPage)]}):Object(Y.jsx)(Kt,{})}},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:1,numberOfPage:Math.ceil(this.getFilteredUsers().length/this.itemPerPage),fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pattern,n=Math.ceil(this.getFilteredUsers().length/this.itemPerPage),r=this.state.page;r>n&&r>1&&(r-=1,this.onPageChange(r)),this.setState({pattern:t,numberOfPage:n})}}]),n}(Ln);fu.propTypes={editable:Ne.a.bool},fu.defaultProps={editable:!0};var xu=fu,Ou=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e,20)).refresh=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({fetched:!1});case 2:return ze.a.setQueryString("page",r.state.page),e.next=5,r.fetchUsers(!0);case 5:case"end":return e.stop()}}),e)}))),r.setPage=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setSearchParam("page",r.state.page,1);case 2:case"end":return e.stop()}}),e)}))),r.fetchUsers=Object(M.a)(E.a.mark((function e(){var t,n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,r.userContext.fetchUsers(t);case 3:r.setState({numberOfPage:Math.ceil(r.userContext.totalUsers/20),fetched:!0});case 4:case"end":return e.stop()}}),e)})));var a=ze.a.getAllQueryString(),s=a.page,c=a.key;return r.state=Object(Re.a)(Object(Re.a)({endIndex:20},r.state),{},{page:Number(s)||1,fetched:!1,key:c}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(Ji.Consumer,{children:function(t){if(e.userContext=t,!e.state.fetched)return Object(Y.jsx)(Kt,{});var n=e.props.contest.Users.map((function(e){return e.UserId}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(oi,{Id:"Search-pick",toggleQuery:!0,searchKey:"key"})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Username"}),Object(Y.jsx)("th",{children:"Email"}),Object(Y.jsx)("th",{children:"Th\xeam"})]})}),Object(Y.jsx)("tbody",{children:e.userContext.users.map((function(t){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-break",children:t.Username}),Object(Y.jsx)("td",{className:"text-break",children:t.Email}),Object(Y.jsx)("td",{children:!n.includes(t.Id)&&e.props.editable&&Object(Y.jsx)(er,{className:"bg-green",onClick:function(){return e.props.add(t)},children:Object(Y.jsx)("span",{className:"fas fa-plus-circle"})})})]},t.Id)}))})]}),e.renderPagination(e.refresh)]})}})}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ze.a.getAllQueryString(),n=t.key,r=t.tag,void 0!==n&&n!==this.state.key&&(this.onPageChange(1),this.setState({page:1,key:n,tag:r}),this.refresh());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPageChange(this.state.page),e.next=3,this.fetchUsers(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ln),vu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onAddUser=function(e){var t=r.state.course,n=t.Users,a={Id:e.Id,UserId:e.Id,Username:e.Username,Fullname:e.Fullname,Email:e.Email,EndDate:null};n.push(a),r.setState({course:t})},r.onRemoveUser=function(e){var t=r.state.course,n=t.Users.filter((function(t){return t.Id!==e}));t.Users=n,r.setState({course:t})},r.setSearchParam=function(){var e=Object(M.a)(E.a.mark((function e(t,n,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({isRefreshing:!0}),r.state[t][a]=n,r.setState({isRefreshing:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.setEndDate=function(e,t){var n=r.state.course,a=n.Users.map((function(n){var r=n;return r.Id===t&&(r.EndDate=e.target.value),r}));n.Users=a,r.setState({course:n})},r.state={course:e.course,pattern:["",""],page:[1,1],isRefreshing:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isRefreshing,n=e.course,r=e.pattern,a=e.page,s=this.props.editable;return t?Object(Y.jsx)("div",{}):Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:5,className:"pl-1",children:Object(Y.jsx)(Ou,{add:s?this.onAddUser:function(){},contest:n,pattern:r[0],page:a[0],editable:s,setSearchParam:this.setSearchParam})}),Object(Y.jsx)(Gt.a,{md:7,className:"pr-1",children:Object(Y.jsx)(xu,{remove:s?this.onRemoveUser:function(){},contest:n,pattern:r[1],page:a[1],setSearchParam:this.setSearchParam,setEndDate:s?this.setEndDate:function(){},editable:s,hasEndDate:1})})]})}}]),n}(a.a.Component);vu.defaultProps={editable:!0};var gu=vu,wu=new me;wu.import(uu);var yu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value,a=r.state.course;a[t]=n,r.setState({course:a})},r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{mode:r.props.mode,course:e.course}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.course,n=this.props.editable;return Object(Y.jsx)(Oe.Consumer,{children:function(r){var a=r.language;return wu.use(a),Object(Y.jsxs)("div",{className:"m-2",children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"H\xecnh th\u1ee9c"})}),Object(Y.jsxs)(qt.a.Control,{type:"text",as:"select",value:t.CourseTypeId,autoComplete:"off",name:"CourseTypeId",onChange:e.onChange,disabled:!n,children:[Object(Y.jsx)("option",{value:1,children:"Class"}),Object(Y.jsx)("option",{value:2,children:"Training"})]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:wu.get("Course type")})}),Object(Y.jsxs)(qt.a.Control,{type:"text",as:"select",value:t.Category,autoComplete:"off",name:"Category",onChange:e.onChange,disabled:!n,children:[Object(Y.jsx)("option",{value:"ONLINE",children:"ONLINE"}),Object(Y.jsx)("option",{value:"GREEN",children:"GREEN"}),Object(Y.jsx)("option",{value:"BLUE",children:"BLUE"}),Object(Y.jsx)("option",{value:"ORANGE",children:"ORANGE"}),Object(Y.jsx)("option",{value:"CP",children:"CP"})]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:wu.get("Name")})}),Object(Y.jsx)(qt.a.Control,{type:"text",value:t.Name,autoComplete:"off",name:"Name",onChange:e.onChange,readOnly:!n})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:wu.get("Description")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Description",value:t.Description,spellCheck:!1,onChange:e.onChange,autoComplete:"Off",readOnly:!n})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"pl-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:wu.get("Start date")})}),Object(Y.jsx)(Ac,{value:new Date(t.StartDate).getTime(),dateFormat:!0,onChange:e.onChange,name:"StartDate",disabled:!n})]})}),Object(Y.jsx)(Gt.a,{className:"p-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:wu.get("End date")})}),Object(Y.jsx)(Ac,{value:new Date(t.EndDate).getTime(),dateFormat:!0,onChange:e.onChange,name:"EndDate",disabled:!n})]})})]}),Object(Y.jsx)(sr,{label:wu.get("Published"),className:"green",name:"Published",labelClassName:"font-weight-bold",checked:!0===t.Published,onChange:e.onChange,disabled:!n})]})}})}}]),n}(a.a.Component);yu.defaultProps={editable:!0};var ku=yu,Cu=function(e){var t=e.course,n=e.editable,a=Object(r.useState)(t),s=Object(b.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)(["",""]),u=Object(b.a)(o,2),l=u[0],d=u[1],j=Object(r.useState)([1,1]),h=Object(b.a)(j,2),p=h[0],m=h[1],f=Object(r.useState)(!1),x=Object(b.a)(f,2)[1],O=function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),"page"===t?((a=p)[r]=n,m(a)):((s=l)[r]=n,d(s)),x(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:5,className:"pl-1",children:Object(Y.jsx)(Xi,{add:n?function(e){var n={Id:e.Id,UserId:e.Id,Username:e.Username,Fullname:e.Fullname,Email:e.Email,role:null},r=c.Moderators.concat(n),a=Te.a.cloneDeep(c);a.Moderators=r,t.Moderators=r,i(a)}:function(){},pattern:l[0],page:p[0],modList:c.Moderators})}),Object(Y.jsx)(Gt.a,{md:7,className:"pr-1",children:Object(Y.jsx)($i,{remove:n?function(e){var n=c.Moderators.filter((function(t){return t.Id!==e})),r=Te.a.cloneDeep(c);r.Moderators=n,t.Moderators=n,i(r)}:function(){},modList:c.Moderators,pattern:l[1],page:p[1],setSearchParam:O,onRoleChange:n?function(e,n){var r=c.Moderators.map((function(t){var r=t;return r.Id===n&&(r.Role=e.target.value),r})),a=Te.a.cloneDeep(c);a.Moderators=r,t.Moderators=r,i(a)}:function(){},editable:n})})]})};Cu.defaultProps={editable:!0};var Su=Cu,Iu=new me;Iu.import(uu);var Nu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onSave=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,n=t.mode,a=t.origin,s=t.course,r.setState({isSaving:!0}),"add"!==n){e.next=9;break}return e.next=5,r.courseContext.addCourse(s);case 5:"string"!==typeof(c=e.sent)&&(je.a.replace("/admin/courses/edit/".concat(c.Id)),r.setState({mode:"edit",saveSuccessfully:!0}),setTimeout((function(){r.setState({saveSuccessfully:!1})}),2e3)),e.next=16;break;case 9:return e.next=11,s.updateCourse(a);case 11:return e.next=13,r.courseContext.updateCourse(s,!0);case 13:r.setState({origin:Te.a.cloneDeep(s)}),r.setState({saveSuccessfully:!0}),setTimeout((function(){r.setState({saveSuccessfully:!1})}),2e3);case 16:r.setState({isSaving:!1});case 17:case"end":return e.stop()}}),e)}))),r.onSaveAndPreview=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isSavingAndPreviewing:!0}),e.next=3,r.onSave();case 3:r.setState({isSavingAndPreviewing:!1}),r.props.history.push("/admin/courses/".concat(r.state.course.Id));case 5:case"end":return e.stop()}}),e)}))),r.onRemove=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.course,r.setState({isRemoving:!0}),e.next=4,r.courseContext.removeCourse(t.Id);case 4:e.sent?r.setState({isRemoving:!1}):je.a.push("/admin/courses");case 6:case"end":return e.stop()}}),e)}))),r.onCancel=function(){r.setState({isCanceling:!0}),je.a.push("/admin/courses"),r.setState({isCanceling:!1})},r.state={mode:"add"===e.location.pathname.split("/")[3]?"add":"edit",origin:void 0,course:void 0,fetched:!1,isSaving:!1,isSavingAndPreviewing:!1,isRemoving:!1,isCanceling:!1,saveSuccessfully:!1,userRole:0},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match,n=this.state.mode,a=0,"add"!==n){e.next=8;break}r=hu(),a=2,e.next=17;break;case 8:return e.next=10,this.courseContext.getCourse(t.params.id);case 10:if(!(r=e.sent)){e.next=17;break}return e.next=14,r.getCourse();case 14:s=Object(B.a)(),c=r.Moderators.find((function(e){return e.UserId===s.Id})),a="Administrator"===s.Role||"owner"===c.Role?2:"edit"===c.Role?1:0;case 17:this.setState({origin:r,course:Te.a.cloneDeep(r),fetched:!0,userRole:a});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.mode,a=t.saveSuccessfully,s=t.isRemoving,c=t.isSaving,i=t.isCanceling,o=t.isSavingAndPreviewing,u=t.userRole;return Object(Y.jsx)($o.Consumer,{children:function(t){if(e.courseContext=t,!n)return Object(Y.jsx)(_t,{});var l=e.state.course;return l?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["courses","/admin/courses"],[l.Name]]}),Object(Y.jsxs)(Ft,{children:[Object(Y.jsx)("div",{className:"w-100",children:Object(Y.jsx)(Oe.Consumer,{children:function(e){var t=e.language;return Iu.use(t),Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)(ku,{title:Iu.get("Information"),route:"information",course:l,mode:r,editable:u>0}),"edit"===r&&Object(Y.jsx)(mu,{title:Iu.get("Lectures"),route:"lectures",lectures:l.Lectures,course:l,editable:u>0}),"edit"===r&&Object(Y.jsx)(gu,{title:Iu.get("Users"),route:"users",course:l,editable:u>0}),"edit"===r&&Object(Y.jsx)(Su,{title:Iu.get("Moderators"),route:"moderators",course:l,editable:u>1})]})}})}),u>0&&Object(Y.jsx)(Fi,{saveSuccessfully:a,mode:r,isRemoving:s,isSaving:c,isCanceling:i,isSavingAndPreviewing:o,onSave:e.onSave,onRemove:e.onRemove,onCancel:e.onCancel,onSaveAndPreview:e.onSaveAndPreview})]})]}):Object(Y.jsx)(hn,{})}})}}]),n}(a.a.Component),Pu=function(e){return new lt({Name:"",PublicAnalysis:0,Published:0,StartTime:null,EndTime:null,FreezeTime:null,UnfreezeTime:null},e)},Tu={vi:{"lecture code":"M\xe3 bu\u1ed5i h\u1ecdc",setting:"C\xe0i \u0111\u1eb7t",problems:"B\xe0i t\u1eadp","course type":"Lo\u1ea1i kh\xf3a h\u1ecdc",course:"Kh\xf3a h\u1ecdc",name:"T\xean b\xe0i h\u1ecdc",description:"M\xf4 t\u1ea3","start time":"Th\u1eddi gian b\u1eaft \u0111\u1ea7u","end time":"Th\u1eddi gian k\u1ebft th\xfac","freeze time":"\u0110\xf3ng b\u0103ng BXH","unfreeze time":"Ng\u01b0ng \u0111\xf3ng b\u0103ng BXH",published:"C\xf4ng khai","show analysis":"Hi\u1ec7n l\u1eddi gi\u1ea3i",information:"th\xf4ng tin","freeze scoreboard":"\u0110\xf3ng b\u0103ng BXH"}},Lu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e,20)).refresh=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({fetched:!1}),ze.a.setQueryString("page",r.state.page),e.next=4,r.fetchProblems(!0);case 4:case"end":return e.stop()}}),e)}))),r.fetchProblems=Object(M.a)(E.a.mark((function e(){var t,n,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],n=ze.a.getAllQueryString(),e.next=4,r.problemContext.fetchProblems(n,t);case 4:r.setState({numberOfPage:Math.ceil(r.problemContext.totalProblems/20),fetched:!0});case 5:case"end":return e.stop()}}),e)})));var a=ze.a.getAllQueryString(),s=a.page,c=a.search;return r.state=Object(Re.a)(Object(Re.a)({endIndex:20},r.state),{},{page:Number(s)||1,fetched:!1,search:c}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(si.Consumer,{children:function(t){if(e.problemContext=t,!e.state.fetched)return Object(Y.jsx)(Kt,{});var n=e.props.lecture.Problems.map((function(e){return e.ProblemId}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(oi,{Id:"search-pick-problem",toggleQuery:!0,searchKey:"search"})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"M\xe3 b\xe0i"}),Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{children:"Th\xeam"})]})}),Object(Y.jsx)("tbody",{children:e.problemContext.problems.map((function(t){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemCode})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.Name})}),Object(Y.jsx)("td",{children:!n.includes(t.Id)&&Object(Y.jsx)(er,{className:"bg-green",onClick:function(){return e.props.add(t)},children:e.props.editable?Object(Y.jsx)("span",{className:"fas fa-plus-circle"}):Object(Y.jsx)("span",{className:"fas fa-ban"})})})]},t.Id)}))})]}),Object(Y.jsx)("br",{}),e.renderPagination(e.refresh)]})}})}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ze.a.getAllQueryString(),(n=(n=t.search)||"")===this.state.search){e.next=7;break}return e.next=5,this.setState({page:1,search:n});case 5:return e.next=7,this.refresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPageChange(this.state.page),e.next=3,this.fetchProblems(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ln),Au=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e,20)).getFilteredProblem=function(){var e=r.state.pattern;return e=e.toLowerCase(),r.props.lecture.Problems.filter((function(t){return""===e||t.ProblemCode.toLowerCase().includes(e)||t.ProblemName.toLowerCase().includes(e)})).sort((function(e,t){return Number(e.Rank)-Number(t.Rank)}))},r.setPage=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setSearchParam("page",r.state.page,1);case 2:case"end":return e.stop()}}),e)}))),r.onPatternChange=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,r.props.setSearchParam("pattern",n,1);case 3:return r.setState({pattern:n}),e.next=6,r.setState({numberOfPage:Math.ceil(r.getFilteredProblem().length/r.itemPerPage)});case 6:r.onPageChange(1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onChangeOrder=function(e,t){var n=Number(e),a=Number(t),s=r.props.lecture.Problems;n=s.find((function(e){return e.Rank===n})),a=s.find((function(e){return e.Rank===a}));var c=n.Rank;n.Rank=a.Rank,a.Rank=c,r.props.remove(-1)},r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{pattern:e.pattern,fetched:!1}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(si.Consumer,{children:function(t){return e.problemContext=t,e.state.fetched?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(oi,{Id:"search-picked-problem",searchKey:"pattern",urlSetting:!1,onChange:e.onPatternChange})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Th\u1ee9 t\u1ef1"}),Object(Y.jsx)("th",{children:"M\xe3 b\xe0i"}),Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{children:"X\xf3a"})]})}),Object(Y.jsx)("tbody",{children:e.getFilteredProblem().map((function(t,n){return n>=e.state.startIndex&&n<e.state.endIndex&&Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{style:{width:"15%"},children:Object(Y.jsx)(wn.a,{as:"select",style:{fontSize:"14px"},value:t.Rank,onChange:function(n){return e.onChangeOrder(t.Rank,n.target.value)},children:Array.from(Array(e.props.lecture.Problems.length).keys()).map((function(e){return Object(Y.jsx)("option",{value:e+1,children:String.fromCharCode(e+65)},e)}))})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemCode})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemName})}),Object(Y.jsx)("td",{children:e.props.editable&&Object(Y.jsx)(er,{className:"bg-light-pink",onClick:function(){return e.props.remove(t.Id)},children:Object(Y.jsx)("span",{className:"fas fa-trash"})})})]},t.Id)}))})]}),e.renderPagination(e.setPage)]}):Object(Y.jsx)(Kt,{})}})}},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:1,numberOfPage:Math.ceil(this.getFilteredProblem().length/this.itemPerPage),fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pattern,n=Math.ceil(this.getFilteredProblem().length/this.itemPerPage),r=this.state.page;r>n&&r>1&&(r-=1,this.onPageChange(r)),this.setState({pattern:t,numberOfPage:n})}}]),n}(Ln),Ru=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onAddProblem=function(e){var t=r.state.lecture,n=t.Problems,a={Id:e.Id,ProblemId:e.Id,ProblemCode:e.ProblemCode,ProblemName:e.Name,Rank:0===n.length?1:Number(n[n.length-1].Rank)+1,Status:1,Score:0};n.push(a),t.Problems=n,r.setState({lecture:t})},r.onRemoveProblem=function(e){var t=r.state.lecture,n=t.Problems.filter((function(t){return t.Id!==e}));t.Problems=n.sort((function(e,t){return e.Rank-t.Rank})).map((function(e,t){return Object(Re.a)(Object(Re.a)({},e),{},{Rank:t+1})})),r.setState({lecture:t})},r.setSearchParam=function(){var e=Object(M.a)(E.a.mark((function e(t,n,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({isRefreshing:!0}),r.state[t][a]=n,r.setState({isRefreshing:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.state={lecture:e.lecture,pattern:["",""],page:[1,1],isRefreshing:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isRefreshing,n=e.lecture,r=e.pattern,a=e.page,s=this.props,c=s.lecture,i=s.editable;return t?Object(Y.jsx)("div",{}):Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"pl-1",children:Object(Y.jsx)(Lu,{problemList:n.Problems,add:i?this.onAddProblem:function(){},lecture:c,pattern:r[0],page:a[0],setSearchParam:this.setSearchParam,editable:i})}),Object(Y.jsx)(Gt.a,{md:6,className:"pr-1",children:Object(Y.jsx)(Au,{problemList:n.Problems,remove:i?this.onRemoveProblem:function(){},lecture:c,pattern:r[1],page:a[1],setSearchParam:this.setSearchParam,editable:i})})]})}}]),n}(a.a.Component);Ru.defaultProps={editable:!0};var Du=Ru,Uu=new me;Uu.import(Tu);var Eu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value,a=r.state.lecture;a[t]=n,r.setState({lecture:a})},r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{lecture:e.lecture,mode:e.mode}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.lecture,n=this.props.editable,r=t.Published,a=t.StartTime,s=t.EndTime,c=t.PublicAnalysis,i=t.FreezeTime,o=t.UnfreezeTime;return Object(Y.jsx)(Oe.Consumer,{children:function(u){var l=u.language;return Uu.use(l),Object(Y.jsxs)("div",{className:"m-2",children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Uu.get("Course")})}),Object(Y.jsx)(qt.a.Control,{type:"text",value:t.Course.Name,autoComplete:"off",readOnly:!0})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Uu.get("Name")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Name",value:t.Name,spellCheck:!1,onChange:e.onChange,autoComplete:"off",readOnly:!n})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Lo\u1ea1i lecture"})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"LectureType",value:t.LectureType,spellCheck:!1,onChange:e.onChange,autoComplete:"off",disabled:!n,children:[Object(Y.jsx)("option",{children:"Lecture"}),Object(Y.jsx)("option",{children:"Exam"})]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Uu.get("Description")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Description",value:t.Description||"",spellCheck:!1,onChange:e.onChange,autoComplete:"off",readOnly:!n})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"p-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Uu.get("Start time")})}),Object(Y.jsx)(Ac,{name:"StartTime",dateFormat:!0,timeFormat:!0,value:new Date(a).getTime(),onChange:e.onChange,disabled:!n})]})}),"Exam"===t.LectureType&&Object(Y.jsx)(Gt.a,{md:6,className:"pr-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Uu.get("End time")})}),Object(Y.jsx)(Ac,{name:"EndTime",dateFormat:!0,timeFormat:!0,value:new Date(s).getTime(),onChange:e.onChange,disabled:!n})]})})]}),"Exam"===t.LectureType&&Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"p-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Uu.get("freeze time")})}),Object(Y.jsx)(Ac,{name:"FreezeTime",value:i,onChange:e.onChange,disabled:!n})]})}),Object(Y.jsx)(Gt.a,{md:6,className:"pr-0",children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Uu.get("unfreeze time")})}),Object(Y.jsx)(Ac,{name:"UnfreezeTime",value:o,onChange:e.onChange,disabled:!n})]})})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:4,className:"p-0",children:Object(Y.jsx)(sr,{label:Uu.get("Published"),className:"green",name:"Published",labelClassName:"font-weight-bold",checked:!0===r,onChange:e.onChange,disabled:!n})}),Object(Y.jsx)(Gt.a,{md:4,className:"p-0",children:Object(Y.jsx)(sr,{label:Uu.get("Show analysis"),className:"green",name:"PublicAnalysis",labelClassName:"font-weight-bold",checked:!0===c,onChange:e.onChange,disabled:!n})})]})]})}})}}]),n}(a.a.Component);Eu.defaultProps={editable:!0};var Mu=Eu,Bu=new me;Bu.import(Tu);var Fu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onSave=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({isSaving:!0}),t=!0,n=r.state.mode,e.prev=3,a=r.state,s=a.origin,null!==(c=a.lecture).StartTime){e.next=7;break}throw new Error("StartTime must not be null");case 7:if("add"!==n){e.next=22;break}return e.next=10,r.courseContext.addLecture(c);case 10:if("string"===typeof(i=e.sent)||null===i){e.next=18;break}return je.a.push("/admin/courses/".concat(c.Course.Id,"/lectures/edit/").concat(i.Id)),e.next=15,r.setState({mode:"edit",saveSuccessfully:!0});case 15:setTimeout((function(){r.setState({saveSuccessfully:!1})}),2e3),e.next=20;break;case 18:t=!1,r.setState({errorMessage:"Thao t\xe1c th\u1ea5t b\u1ea1i"});case 20:e.next=33;break;case 22:return e.next=24,r.courseContext.updateLecture(c,s);case 24:if("string"===typeof(o=e.sent)||null===o){e.next=31;break}return r.setState({saveSuccessfully:!0}),e.next=29,setTimeout((function(){r.setState({saveSuccessfully:!1})}),2e3);case 29:e.next=33;break;case 31:t=!1,r.setState({errorMessage:"C\u1eadp nh\u1eadp th\xf4ng tin th\u1ea5t b\u1ea1i"});case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(3),t=!1,e.t0.message.includes("StartTime")&&r.setState({errorMessage:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng"});case 39:return r.setState({isSaving:!1}),e.abrupt("return",t);case 41:case"end":return e.stop()}}),e,null,[[3,35]])}))),r.onSaveAndPreview=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.onSave();case 2:if(!e.sent){e.next=5;break}t=r.state.lecture,r.props.history.push("/admin/courses/".concat(t.Course.Id,"/lectures/").concat(t.Id));case 5:case"end":return e.stop()}}),e)}))),r.onRemove=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isRemoving:!0}),t=r.state,n=t.lecture,a=t.course,e.next=4,r.courseContext.removeLecture(n);case 4:e.sent?r.setState({isRemoving:!1}):je.a.push("".concat(a.Link,"?view=lectures"));case 6:case"end":return e.stop()}}),e)}))),r.onCancel=function(){r.setState({isCanceling:!0});var e=r.state.lecture;je.a.push("/admin/courses/".concat(e.Course.Id)),r.setState({isCanceling:!1})},r.onCloseSuccessModal=function(){r.setState((function(){return{saveSuccessfully:!1,errorMessage:null}}))},r.state={mode:"add"===e.location.pathname.split("/")[5]?"add":"edit",fetched:!1,course:void 0,lecture:void 0,isSaving:!1,isRemoving:!1,isCanceling:!1,userRole:0,errorMessage:null},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,n=this.state.mode,e.next=4,this.courseContext.getCourse(t.params.courseId);case 4:if(!(r=e.sent)){e.next=17;break}if("add"!==n){e.next=10;break}s=Pu(r),e.next=13;break;case 10:return e.next=12,r.getLecture(t.params.lectureId);case 12:s=e.sent;case 13:s.StartTime||(s.StartTime=null),c=Object(B.a)(),i=r.Moderators.find((function(e){return e.UserId===c.Id})),a="Administrator"===c.Role||"owner"===i.Role?2:"edit"===i.Role?1:0;case 17:this.setState({fetched:!0,course:r,origin:s,lecture:Te.a.cloneDeep(s),userRole:a});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.lecture,a=t.course,s=t.mode,c=t.saveSuccessfully,i=t.errorMessage,o=t.isRemoving,u=t.isSaving,l=t.isCanceling,d=t.userRole;return Object(Y.jsx)($o.Consumer,{children:function(t){return e.courseContext=t,n?r?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["courses","/admin/courses"],[a.Name,"/admin/courses/edit/".concat(a.Id)],["lectures","/admin/courses/edit/".concat(a.Id,"?view=lectures")],[r.Name||""]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)("div",{className:"w-100",children:[Object(Y.jsx)(Oe.Consumer,{children:function(){return Bu.use("vi"),Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)(Mu,{title:Bu.get("Information"),route:"information",lecture:r,mode:s,editable:d>0}),Object(Y.jsx)(Du,{title:Bu.get("Problems"),route:"problems",lecture:r,editable:d>0})]})}}),d>0&&Object(Y.jsx)(Fi,{saveSuccessfully:c,mode:s,isRemoving:o,isSaving:u,isCanceling:l,onSave:e.onSave,onRemove:e.onRemove,onCancel:e.onCancel,onSaveAndPreview:e.onSaveAndPreview})]})}),c&&Object(Y.jsx)(La,{title:"Th\xf4ng b\xe1o",message:"C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng",clearError:e.onCloseSuccessModal}),i&&Object(Y.jsx)(La,{title:"L\u1ed7i",error:i,clearError:e.onCloseSuccessModal})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})}})}}]),n}(a.a.Component),qu=void 0,Gu=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(void 0),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(void 0),d=Object(b.a)(l,2),j=d[0],h=d[1],p=Object(r.useState)(!1),m=Object(b.a)(p,2),f=m[0],x=m[1],O=Object(r.useState)("vertical"),v=Object(b.a)(O,2),g=v[0],w=v[1],y=Object(r.useContext)($o).getLecture,k=function(){window.innerWidth<800?w("horizontal"):w("vertical")};return Object(r.useEffect)((function(){return function(){var t=Object(M.a)(E.a.mark((function t(){var n,r,a,c,i,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params,r=n.courseId,a=n.lectureId,c=n.problemId,t.next=3,y(r,a);case 3:return i=t.sent,t.next=6,h(i);case 6:return t.next=8,i.getProblem(parseInt(c,10));case 8:o=t.sent,u(o),s(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),window.scrollTo(0,0),document.getElementsByClassName("footer")[0].style.display="none",k(),window.addEventListener("resize",k.bind(qu)),function(){window.removeEventListener("resize",k.bind(qu))}}),[]),a?Object(Y.jsxs)("div",{className:"problem-page-wrapper ".concat("vertical"===g?"fit-height":""),children:[Object(Y.jsx)("div",{className:"top-bar",children:Object(Y.jsx)(ye,{nav:[["Admin","/admin"],["courses","/admin/courses"],[j.Course.Name,j.Course.Link],[j.Name,j.Link],[o.Name]]})}),Object(Y.jsx)("div",{className:"content-problem",children:Object(Y.jsxs)(Bt,{orientation:g,children:[f?null:Object(Y.jsxs)(qn,{controlKey:"view",children:[Object(Y.jsx)(Ao,{route:"statement",title:"\u0110\u1ec1 b\xe0i",problem:o}),Object(Y.jsx)("div",{route:"submissiontests",title:"B\xe0i n\u1ed9p th\u1eed",children:Object(Y.jsx)(mo,{autoRefresh:!0,admin:!0,showUsername:!0,problemId:o.Id})}),Object(Y.jsx)("div",{route:"submissions",title:"B\xe0i n\u1ed9p",children:Object(Y.jsx)(po,{autoRefresh:!0,showUsername:!0,admin:!0,problemId:o.Id})}),Object(Y.jsx)("div",{route:"tutorials",title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",children:Object(Y.jsx)(xo,{tutorials:o.Tutorials,problem:o})})]}),Object(Y.jsx)(lr,{problem:o,allowFullScreen:!0,fullScreening:f,onFullScreen:function(){x(!f)}})]})})]}):Object(Y.jsx)(_t,{})},Hu=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/courses",component:ju}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/courses/add",component:Nu}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/courses/edit/:id",component:Nu}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/courses/:courseId/lectures/add",component:Fu}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/courses/:courseId/lectures/edit/:lectureId",component:Fu}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/courses/:courseId/lectures/:lectureId/problems/:problemId",component:Gu}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/courses/:courseId/lectures/:lectureId",component:su}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/courses/:id",component:ou})]})},Vu=a.a.createContext(),zu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getCollections=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.getCollections();case 2:return t=e.sent,n=t.map((function(e){return new Ee(e)})).sort((function(e,t){return new Date(e.CreateAt).getTime()-new Date(t.CreateAt).getTime()})),a=(a=r.state.collections).concat(n),r.setState({collections:a}),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),r.getCollection=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.collections,a=n.find((function(e){return e.Id===t}))){e.next=10;break}return e.next=5,Ue.getCollection(t);case 5:if(s=e.sent){e.next=9;break}return r.setState({error:s}),e.abrupt("return",null);case 9:a=new Ee(s);case 10:if(1!==a.Type){e.next=13;break}return e.next=13,a.getProblems();case 13:return n.includes(a)||n.push(a),r.setState({origin:a,collection:Te.a.cloneDeep(a),collections:n}),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeCollection=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("ARE YOU SURE?\nTHIS ACTION CAN NOT BE UNDONE!")){e.next=12;break}return e.next=3,Ue.removeCollection(t);case 3:if(!(n=e.sent)){e.next=7;break}return r.setState({error:n}),e.abrupt("return",n);case 7:return a=r.state.collections,s=a.findIndex((function(e){return e.Id===t})),a.splice(s,1),r.setState({collections:a}),e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addCollection=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.addCollection(t);case 2:if("string"!==typeof(n=e.sent)){e.next=6;break}return r.setState({error:n}),e.abrupt("return",null);case 6:return a=new Ee(n),(s=r.state.collections).includes(a)||s.push(a),r.setState({origin:a,collection:Te.a.cloneDeep(a),collections:s}),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getSubCollections=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.collections,0!==(a=n.filter((function(e){return e.ParentId===t}))).length||null===t){e.next=7;break}return e.next=5,Ue.getSubCollections(t);case 5:"string"!==typeof(s=e.sent)?(a=s.map((function(e){return new Ee(e)})),n=n.concat(a),r.setState({collections:n})):r.setState({error:s});case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addProblem=function(e){var t=r.state.collection;t.Problems.push(e),r.setState({collection:t})},r.removeProblem=function(e){var t=r.state.collection,n=t.Problems.filter((function(t){return t.Id!==e}));return t.Problems=n,r.setState({collection:t}),n},r.updateCollection=Object(M.a)(E.a.mark((function e(){var t,n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.collection,a=t.origin,e.next=3,n.updateCollection(a);case 3:if(!(s=e.sent)){e.next=7;break}return r.setState({error:s}),e.abrupt("return",s);case 7:return r.setState({origin:n,collection:Te.a.cloneDeep(n),message:"Collection updated!"}),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),r.clearError=function(){r.setState({error:"",message:""})},r.state={origin:void 0,collection:void 0,collections:[],error:"",message:"",addCollection:r.addCollection,getCollections:r.getCollections,getCollection:r.getCollection,getSubCollections:r.getSubCollections,updateCollection:r.updateCollection,removeCollection:r.removeCollection,addProblem:r.addProblem,removeProblem:r.removeProblem},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.message,n=e.error,r=this.props.children;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Vu.Provider,{value:this.state,children:r}),(n.length>0||t.length>0)&&Object(Y.jsx)(La,{title:"Problem",clearError:this.clearError,message:t,error:n})]})}}]),n}(a.a.Component),Wu={vi:{collections:"B\xe0i t\u1eadp theo ch\u1ee7 \u0111\u1ec1",code:"M\xe3 ch\u1ee7 \u0111\u1ec1",name:"T\xean ch\u1ee7 \u0111\u1ec1",setting:"C\xe0i \u0111\u1eb7t","add new":"Th\xeam m\u1edbi","collection code":"M\xe3 ch\u1ee7 \u0111\u1ec1",description:"M\xf4 t\u1ea3",type:"Lo\u1ea1i ch\u1ee7 \u0111\u1ec1",published:"C\xf4ng khai",onhomepage:"Hi\u1ec7n \u1edf trang ch\u1ee7","medal level":"Huy ch\u01b0\u01a1ng h\u1ea1ng ",change:"Thay \u0111\u1ed5i",information:"Th\xf4ng tin",problems:"B\xe0i t\u1eadp","Only show sub collections":"Ch\u1ec9 hi\u1ec7n collection con","Only show problems":"Ch\u1ec9 hi\u1ec7n danh s\xe1ch b\xe0i t\u1eadp"}},Yu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){r.mounted=!0},r.componentWillUnmount=function(){r.mounted=!1},r.refresh=function(){r.setState({isRefreshing:!0}),r.setState({isRefreshing:!1})},r.switchCollection=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.AdminCollectionContext.getCollection(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onTogglePublished=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.collection,e.next=3,t.togglePublished();case 3:r.refresh();case 4:case"end":return e.stop()}}),e)}))),r.onToggleOnHomepage=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.collection,e.next=3,t.toggleOnHomepage();case 3:r.refresh();case 4:case"end":return e.stop()}}),e)}))),r.removeCollection=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.remove,a=t.collection,r.setState({isRemoving:!0}),e.next=4,n(a.Id);case 4:r.mounted&&r.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),r.state={collection:e.collection,isRefreshing:!1,isRemoving:!1},r.mounted=!1,r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isRefreshing,r=t.collection,a=t.isRemoving;if(n)return Object(Y.jsx)("tr",{});var s=r.Id,c=r.Name,i=r.Published,o=r.OnHomepage,u=r.Type;return Object(Y.jsx)(Vu.Consumer,{children:function(t){return e.AdminCollectionContext=t,Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{style:{textAlign:"center"},children:Object(Y.jsx)(j.a,{to:"/admin/collections/edit/".concat(s),onClick:function(){return e.switchCollection(s)},children:s})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:"/admin/collections/edit/".concat(s),onClick:function(){return e.switchCollection(s)},children:c})}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:0===u?"0":"1"}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:Object(Y.jsx)(sr,{className:"green",id:"onHomepage-".concat(c),name:"onHomepage-".concat(c),checked:!0===o,onChange:e.onToggleOnHomepage})}),Object(Y.jsx)("td",{style:{textAlign:"center"},children:Object(Y.jsx)(sr,{className:"green",id:"published-".concat(c),name:"published-".concat(c),checked:!0===i,onChange:e.onTogglePublished})}),Object(Y.jsxs)("td",{style:{textAlign:"center"},children:[Object(Y.jsx)(j.a,{to:"/admin/collections/edit/".concat(s),onClick:function(){return e.switchCollection(s)},children:Object(Y.jsx)("button",{className:"basic-component-button bg-light-pink",title:"edit collection",type:"button",children:Object(Y.jsx)("span",{className:"fas fa-pen"})})}),"\xa0",Object(Y.jsx)("button",{className:"basic-component-button bg-light-pink",title:"remove collection",type:"button",onClick:e.removeCollection,disabled:a,children:a&&Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"})||Object(Y.jsx)("span",{className:"fas fa-trash"})})]})]})}})}}]),n}(a.a.Component),Ku=new me;Ku.import(Wu);var Qu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({fetched:!1}),e.next=3,r.AdminCollectionContext.getCollections();case 3:t=e.sent,r.setState({collections:t}),r.setState({fetched:!0});case 6:case"end":return e.stop()}}),e)}))),r.removeCollection=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.AdminCollectionContext.removeCollection(t);case 2:e.sent&&(n=r.state.collections,a=n.findIndex((function(e){return e.Id===t})),n.splice(a,1),r.setState({collections:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={fetched:!0,collections:[]},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(Vu.Consumer,{children:function(t){if(e.AdminCollectionContext=t,!e.state.fetched)return Object(Y.jsx)(Qt,{});var n=e.state.collections;return Object(Y.jsx)(Oe.Consumer,{children:function(t){var r=t.language;return Ku.use(r),Object(Y.jsxs)("div",{className:"m-2",children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(j.a,{to:"/admin/collections/add/",children:Object(Y.jsx)(Ht.a,{className:"bg-green p-2 shadow-sm border",children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ",Ku.get("Add new")]})})})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{textAlign:"center",width:"5%"},children:"#"}),Object(Y.jsx)("th",{children:Ku.get("Name")}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"15%"},children:Ku.get("type")}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"10%"},"aria-label":"public",children:Object(Y.jsx)("span",{className:"fas fa-home"})}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"10%"},"aria-label":"public",children:Object(Y.jsx)("span",{className:"fas fa-globe"})}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"15%"},children:Ku.get("Setting")})]})}),Object(Y.jsx)("tbody",{children:n.map((function(t){return Object(Y.jsx)(Yu,{collection:t,remove:e.removeCollection},t.Id)}))})]})]})}})}})}}]),n}(a.a.Component),Ju=new me;Ju.import(Wu);var _u=function(){var e=Object(r.useContext)(Oe).language;return Ju.use(e),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["Collections"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)(Xt.a,{className:"w-100 bg-white shadow-sm",children:Object(Y.jsxs)(Xt.a.Body,{className:"p-2",children:[Object(Y.jsx)("h2",{className:"mb-3",children:Object(Y.jsx)("strong",{children:Ju.get("collections")})}),Object(Y.jsx)(Qu,{})]})})})]})},Xu=new me;Xu.import(Wu);var Zu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onInformationChange=function(e){var t=e.target.value,n=e.target.name,a=r.state.collection;"Type"===n&&(t=parseInt(t,10)),a[n]=t,r.setState({collection:a})},r.onChangeImage=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.a)(t,1),a=n[0],e.next=3,Br.uploadImage(a);case 3:s=e.sent,(c=r.state.collection).Background=s,r.setState({collection:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.toggleImageUploader=function(){r.setState((function(e){return{uploadImage:!e.uploadImage}}))},r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{collection:e.collection,uploadImage:!1}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.collection,n=t.Name,r=t.Type,a=t.Description,s=t.Published,c=t.OnHomepage,i=t.Background;return Object(Y.jsx)(Oe.Consumer,{children:function(t){var o=t.language;return Xu.use(o),Object(Y.jsxs)("div",{className:"m-2",children:[Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsxs)(Gt.a,{md:3,children:[Object(Y.jsx)(Lr.a,{src:i||"./image/logo.svg",fluid:!0,thumbnail:!0,className:"w-100"}),Object(Y.jsx)(er,{className:"mt-2 mb-2 w-100 bg-green",onClick:e.toggleImageUploader,children:Xu.get("Change")})]}),Object(Y.jsxs)(Gt.a,{md:9,children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Xu.get("Name")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Name",value:n||"",spellCheck:!1,onChange:e.onInformationChange,autoComplete:"off"})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Xu.get("Description")})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Description",value:a||"",spellCheck:!1,onChange:e.onInformationChange,autoComplete:"off"})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:Xu.get("Type")})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"Type",value:r,onChange:e.onInformationChange,children:[Object(Y.jsx)("option",{value:0,children:Xu.get("Only show sub collections")}),Object(Y.jsx)("option",{value:1,children:Xu.get("Only show problems")})]})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{className:"py-0 pl-0",children:Object(Y.jsx)(sr,{label:" ".concat(Xu.get("Published")),name:"Published",className:"green",labelClassName:"font-weight-bold",checked:!0===s,onChange:e.onInformationChange})}),Object(Y.jsx)(Gt.a,{className:"py-0 pl-0",children:Object(Y.jsx)(sr,{label:" ".concat(Xu.get("OnHomepage")),name:"OnHomepage",className:"green",labelClassName:"font-weight-bold",checked:!0===c,onChange:e.onInformationChange})})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{})]})]}),Object(Y.jsx)(Er,{show:e.state.uploadImage,uploadImage:e.onChangeImage,onHide:e.toggleImageUploader})]})}})}}]),n}(gr),$u=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e,20)).refresh=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({fetched:!1});case 2:return ze.a.setQueryString("page",r.state.page),e.next=5,r.fetchProblems(!0);case 5:return e.next=7,r.setState({fetched:!0});case 7:case"end":return e.stop()}}),e)}))),r.fetchProblems=Object(M.a)(E.a.mark((function e(){var t,n,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],n=ze.a.getAllQueryString(),e.next=4,r.AdminProblemsContext.fetchProblems(n,t,r.props.onlyPublish);case 4:r.setState({numberOfPage:Math.ceil(r.AdminProblemsContext.totalProblems/20),fetched:!0});case 5:case"end":return e.stop()}}),e)})));var a=ze.a.getAllQueryString(),s=a.page,c=a.key;return r.state=Object(Re.a)(Object(Re.a)({endIndex:20},r.state),{},{page:Number(s)||1,fetched:!1,key:c}),r}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ze.a.getAllQueryString(),n=t.key,r=t.tag,void 0!==n&&n!==this.state.key&&(this.onPageChange(1),this.setState({page:1,key:n,tag:r}),this.refresh());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPageChange(this.state.page),e.next=3,this.fetchProblems(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(Y.jsx)(si.Consumer,{children:function(t){if(e.AdminProblemsContext=t,!e.state.fetched)return Object(Y.jsx)(Kt,{});var n=[];return e.props.problemList&&(n=e.props.problemList.map((function(e){return e.ProblemId}))),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(oi,{Id:"search-pick-problem",toggleQuery:!0,searchKey:"search"})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"M\xe3 b\xe0i"}),Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{children:"Th\xeam"})]})}),Object(Y.jsx)("tbody",{children:e.AdminProblemsContext.problems.map((function(t){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemCode})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.Name})}),Object(Y.jsx)("td",{children:!n.includes(t.Id)&&Object(Y.jsx)(er,{className:"bg-green",onClick:function(){return e.props.add(t)},children:Object(Y.jsx)("span",{className:"fas fa-plus-circle"})})})]},t.Id)}))})]}),Object(Y.jsx)("br",{}),e.renderPagination(e.refresh)]})}})}}]),n}(Ln),el=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e,20)).getFilteredProblem=function(){var e=r.state.pattern;return e=e.toLowerCase(),r.props.problemList.filter((function(t){return""===e||t.ProblemCode.toLowerCase().includes(e)||t.ProblemName.toLowerCase().includes(e)})).sort((function(e,t){return Number(e.Rank)-Number(t.Rank)}))},r.setPage=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setSearchParam("page",r.state.page,1);case 2:case"end":return e.stop()}}),e)}))),r.onPatternChange=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,r.props.setSearchParam("pattern",n,1);case 3:return r.setState({pattern:n}),e.next=6,r.setState({numberOfPage:Math.ceil(r.getFilteredProblem().length/r.itemPerPage)});case 6:r.onPageChange(1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{pattern:e.pattern,fetched:!1}),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:1,numberOfPage:Math.ceil(this.getFilteredProblem().length/this.itemPerPage),fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pattern,n=Math.ceil(this.getFilteredProblem().length/this.itemPerPage),r=this.state.page;r>n&&r>1&&(r-=1,this.onPageChange(r)),this.setState({pattern:t,numberOfPage:n})}},{key:"render",value:function(){var e=this;return Object(Y.jsx)(si.Consumer,{children:function(t){return e.problemContext=t,e.state.fetched?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(oi,{Id:"search-picked-problem",searchKey:"pattern",urlSetting:!1,onChange:e.onPatternChange})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"M\xe3 b\xe0i"}),Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{children:"X\xf3a"})]})}),Object(Y.jsx)("tbody",{children:e.getFilteredProblem().map((function(t,n){return n>=e.state.startIndex&&n<e.state.endIndex&&Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemCode})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemName})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(er,{className:"bg-light-pink",onClick:function(){return e.props.remove(t.Id)},children:Object(Y.jsx)("span",{className:"fas fa-trash"})})})]},t.Id)}))})]}),e.renderPagination(e.setPage)]}):Object(Y.jsx)(Kt,{})}})}}]),n}(Ln),tl=function(e){var t=e.editable,n=Object(r.useState)(["",""]),a=Object(b.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)([1,1]),o=Object(b.a)(i,2),u=o[0],l=o[1],d=Object(r.useState)(!1),j=Object(b.a)(d,2)[1],h=Object(r.useContext)(Vu),p=Object(r.useState)(h.collection.Problems||[]),m=Object(b.a)(p,2),f=m[0],x=m[1],O=function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),"page"===t?((a=u)[r]=n,l(a)):((i=s)[r]=n,c(i)),j(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"pl-1",children:Object(Y.jsx)($u,{onlyPublish:!0,add:t?function(e){var t={Id:e.Id,ProblemId:e.Id,ProblemCode:e.ProblemCode,ProblemName:e.Name},n=f.concat(t);x(n),h.addProblem(t)}:function(){},pattern:s[0],page:u[0],problemList:f||[]})}),Object(Y.jsx)(Gt.a,{md:6,className:"pr-1",children:Object(Y.jsx)(el,{remove:t?function(e){var t=h.removeProblem(e);x(t)}:function(){},problemList:f||[],pattern:s[1],page:u[1],setSearchParam:O,editable:!0})})]})};tl.defaultProps={editable:!0};var nl=tl,rl=new me;rl.import(Wu);var al=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({fetched:!1}),t=r.state.collection,e.next=4,r.AdminCollectionContext.getSubCollections(t.Id);case 4:n=e.sent,r.setState({collections:n}),r.setState({fetched:!0});case 7:case"end":return e.stop()}}),e)}))),r.removeCollection=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.AdminCollectionContext.removeCollection(t);case 2:n=r.state.collections,a=n.findIndex((function(e){return e.Id===t})),n.splice(a,1),r.setState({collections:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={fetched:!0,collection:e.collection,collections:[]},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.collection;return Object(Y.jsx)(Vu.Consumer,{children:function(n){if(e.AdminCollectionContext=n,!e.state.fetched)return Object(Y.jsx)(Qt,{});var r=e.state.collections;return Object(Y.jsx)(Oe.Consumer,{children:function(n){var a=n.language;return rl.use(a),Object(Y.jsxs)("div",{className:"m-2",children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(j.a,{to:"/admin/collections/add/".concat(t.Id),onClick:function(){Object(s.unmountComponentAtNode)(document.getElementById("edit-collection-page"))},children:Object(Y.jsx)(Ht.a,{className:"bg-green p-2 shadow-sm border",children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ",rl.get("Add new")]})})})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{textAlign:"center",width:"5%"},children:"#"}),Object(Y.jsx)("th",{children:rl.get("Name")}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"15%"},children:rl.get("type")}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"10%"},"aria-label":"public",children:Object(Y.jsx)("span",{className:"fas fa-home"})}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"10%"},"aria-label":"public",children:Object(Y.jsx)("span",{className:"fas fa-globe"})}),Object(Y.jsx)("th",{style:{textAlign:"center",width:"15%"},children:rl.get("Setting")})]})}),Object(Y.jsx)("tbody",{children:r.map((function(t){return Object(Y.jsx)(Yu,{collection:t,remove:e.removeCollection},t.Id)}))})]})]})}})}})}}]),n}(a.a.Component),sl=new me;sl.import(Wu);var cl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({fetched:!1}),t=parseInt(r.props.match.params.id,10),e.next=4,r.CollectionContext.getCollection(t);case 4:r.setState({fetched:!0});case 5:case"end":return e.stop()}}),e)}))),r.onSave=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isSaving:!0}),e.next=3,r.CollectionContext.updateCollection();case 3:e.sent&&r.setState({saveSuccessfully:!0}),setTimeout((function(){r.setState({saveSuccessfully:!1})}),2e3),r.setState({isSaving:!1});case 7:case"end":return e.stop()}}),e)}))),r.onCancel=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({isCanceling:!0}),t=r.CollectionContext.collection,n=t.ParentId,a=r.props.history,!n){e.next=10;break}return e.next=7,r.CollectionContext.getCollection(n);case 7:a.push("/admin/collections/edit/".concat(n)),e.next=11;break;case 10:a.push("/admin/collections/");case 11:r.setState({isCanceling:!0});case 12:case"end":return e.stop()}}),e)}))),r.onRemove=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r.state={fetched:!0,isSaving:!1,isRemoving:!1,isCanceling:!1,saveSuccessfully:!1,mode:"edit"},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.mode,a=t.isRemoving,s=t.isSaving,c=t.isCanceling,i=t.saveSuccessfully;return Object(Y.jsx)("div",{id:"edit-collection-page",children:Object(Y.jsx)(Vu.Consumer,{children:function(t){if(e.CollectionContext=t,!n)return Object(Y.jsx)(_t,{});var o=e.CollectionContext.collection;return o?Object(Y.jsx)(Oe.Consumer,{children:function(t){var n=t.language;return sl.use(n),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:o.navigation(n)}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)("div",{className:"w-100",children:[Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)(Zu,{title:"Th\xf4ng tin ch\u1ee7 \u0111\u1ec1",route:"information",collection:o,mode:r}),1===o.Type&&Object(Y.jsx)(nl,{title:"B\xe0i t\u1eadp",route:"problem",collection:o}),0===o.Type&&Object(Y.jsx)(al,{title:"Ch\u1ee7 \u0111\u1ec1 con",route:"subcollections",collection:o})]}),Object(Y.jsx)(Fi,{saveSuccessfully:i,mode:r,isRemoving:a,isSaving:s,isCanceling:c,onSave:e.onSave,onRemove:e.onRemove,onCancel:e.onCancel})]})})]})}}):Object(Y.jsx)(hn,{})}})})}}]),n}(a.a.Component),il=new me;il.import(Wu);var ol=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Ee,n=r.props.match.params.parentId,t.ParentId=n?parseInt(n,10):null,r.setState({collection:Te.a.cloneDeep(t)});case 4:case"end":return e.stop()}}),e)}))),r.onSave=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.collection,r.setState({isSaving:!0}),e.next=4,r.CollectionContext.addCollection(t);case 4:"object"===typeof(n=e.sent)&&(t.Id=n.Id,r.setState({isSaving:!1,saveSuccessfully:!0,collection:t}),r.props.history.push("/admin/collections/edit/".concat(n.Id))),r.setState({isSaving:!1});case 7:case"end":return e.stop()}}),e)}))),r.onRemove=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r.state={fetched:!0,collection:void 0,isSaving:!1,isRemoving:!1,saveSuccessfully:!1,mode:"add"},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.collection,a=t.mode,s=t.isRemoving,c=t.isSaving,i=t.saveSuccessfully;return Object(Y.jsx)("div",{id:"edit-collection-page",children:Object(Y.jsx)(Vu.Consumer,{children:function(t){return e.CollectionContext=t,n?r?Object(Y.jsx)(Oe.Consumer,{children:function(t){var n=t.language;return il.use(n),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:r.navigation(n)}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)("div",{className:"w-100",children:[Object(Y.jsx)(kn,{controlKey:"view",children:Object(Y.jsx)(Zu,{title:"Th\xf4ng tin ch\u1ee7 \u0111\u1ec1",route:"information",collection:r,mode:a})}),Object(Y.jsx)(Fi,{saveSuccessfully:i,mode:a,isRemoving:s,isSaving:c,onSave:e.onSave,onRemove:e.onRemove})]})})]})}}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})}})})}}]),n}(a.a.Component),ul=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/collections/",component:_u}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/collections/add/",component:ol}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/collections/add/:parentId",component:ol}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/collections/edit/:id",component:cl})]})},ll=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e)).Link="/admin/contests/".concat(r,"/problems/").concat(a.ProblemId||a.Id),a}return n}(ot),dl=a.a.createContext(),bl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getContests=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.getContests();case 2:if(!(t=e.sent)){e.next=7;break}return n=t.map((function(e){return new Ge(e)})),r.setState({contests:n}),e.abrupt("return",n);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)}))),r.getContest=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({problems:null}),e.next=3,r.getContests();case 3:return n=e.sent,e.next=6,n.find((function(e){return e.Id===parseInt(t,10)}));case 6:return a=e.sent,e.next=9,a.getContest();case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateContest=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.update(n);case 2:if(!(a=e.sent)){e.next=6;break}return r.setState({error:a}),e.abrupt("return",a);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.addContest=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Password===t.ReenterPassword){e.next=3;break}return r.setState({error:"Password and reentered password does not match!"}),e.abrupt("return","Password and reentered password does not match!");case 3:return e.next=5,qe.addContest(t);case 5:if("string"!==typeof(n=e.sent)){e.next=9;break}return r.setState({error:n}),e.abrupt("return",n);case 9:return r.setState((function(e){return{contests:[n].concat(Object(tt.a)(e.contests))}})),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.clearError=function(){r.setState({error:"",message:""})},r.getProblems=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==r.state.problems){e.next=7;break}return e.next=3,qe.getProblems(t);case 3:return n=(n=e.sent).map((function(e){return new ll(e,t)})),r.setState({problems:n}),e.abrupt("return",n);case 7:return e.abrupt("return",r.state.problems);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getProblem=function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.getProblem(t);case 2:return r=e.sent,e.abrupt("return",new ll(r,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.removeContest=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("ARE YOU SURE?")){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,qe.removeContest(t);case 4:if(!(n=e.sent)){e.next=8;break}return r.setState({error:n}),e.abrupt("return",n);case 8:return r.setState((function(e){return{contests:e.contests.filter((function(e){return e.Id!==t}))}})),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={contests:[],getContests:r.getContests,getContest:r.getContest,updateContest:r.updateContest,addContest:r.addContest,getProblems:r.getProblems,getProblem:r.getProblem,removeContest:r.removeContest,message:"",error:"",problems:null},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.message,r=t.error;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(dl.Provider,{value:this.state,children:e}),(r.length>0||n.length>0)&&Object(Y.jsx)(La,{title:"Contest",clearError:this.clearError,message:n,error:r})]})}}]),n}(a.a.Component),jl=function(e){var t=e.contest,n=t.Id,a=t.Name,s=t.ContestType,c=t.Creator,i=t.Published,o=Object(r.useContext)(dl).updateContest,u=Object(r.useState)(!1),l=Object(b.a)(u,2),d=l[0],h=l[1],p=function(){var e=Object(M.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Te.a.cloneDeep(t)).Published=!n.Published,e.next=4,o(n,t);case 4:return e.sent||(t.Published=!t.Published),e.next=8,h(!0);case 8:return e.next=10,h(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d?Object(Y.jsx)("tr",{}):Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:"/admin/contests/".concat(n),children:Object(Y.jsx)("strong",{children:a})})}),Object(Y.jsx)("td",{children:s.Name}),Object(Y.jsx)("td",{children:c.Username}),Object(Y.jsx)("td",{className:"text-center",children:Object(Y.jsx)(sr,{className:"green",checked:i,onChange:Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:case"end":return e.stop()}}),e)})))})}),Object(Y.jsxs)("td",{className:"text-center",children:[Object(Y.jsx)(j.a,{to:"/admin/contests/edit/".concat(n),children:Object(Y.jsx)("button",{className:"basic-component-button bg-light-pink text-white",type:"button",children:Object(Y.jsx)("span",{className:"fas fa-pen"})})}),"\xa0",Object(Y.jsx)("button",{className:"basic-component-button bg-light-pink text-white",type:"button",onClick:function(){return e.remove(e.contest.Id)},children:Object(Y.jsx)("span",{className:"fas fa-trash"})})]})]})},hl=function(){var e=Object(r.useContext)(dl),t=e.getContests,n=e.contests,a=e.removeContest,s=Object(r.useState)(!1),c=Object(b.a)(s,2),i=c[0],o=c[1];Object(r.useEffect)((function(){(function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var u=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"50%"},children:"T\xean"}),Object(Y.jsx)("th",{children:"Lo\u1ea1i"}),Object(Y.jsx)("th",{children:"Ng\u01b0\u1eddi t\u1ea1o"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"C\xf4ng khai"}),Object(Y.jsx)("th",{style:{textAlign:"center"},children:"C\u1eadp nh\u1eadt"})]})}),Object(Y.jsx)("tbody",{children:n.map((function(e){return Object(Y.jsx)(jl,{contest:e,remove:u},e.Id)}))})]}):Object(Y.jsx)(Qt,{})},pl=function(){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["k\xec thi","/contests"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(Xt.a,{className:"shadow-sm p-2 w-100",children:[Object(Y.jsx)("h2",{className:"mb-3",children:Object(Y.jsx)("strong",{children:"K\xec thi"})}),Object(Y.jsx)(j.a,{to:"/admin/contests/add",className:"mb-2",children:Object(Y.jsx)(er,{className:"bg-green p-2 shadow-sm",children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," ","Th\xeam m\u1edbi"]})})}),Object(Y.jsx)(hl,{})]})})]})},ml=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value,a=r.state.contest;if(a[t]=n,["StartTime","Duration"].includes(t)){var s=a.StartTime+60*a.Duration*1e3;"HIRING"===(0,r.contestTypeContext.getContestTypeName)(parseInt(a.ContestTypeId,10))?(a.EndTime||(a.EndTime=0),a.EndTime=Math.max(a.EndTime,s)):a.EndTime=s}r.setState({contest:a})},r.onChangeImage=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.a)(t,1),a=n[0],e.next=3,Br.uploadImage(a);case 3:s=e.sent,(c=r.state.contest).Logo=s,r.setState({contest:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.toggleImageUploader=function(){r.setState((function(e){return{uploadImage:!e.uploadImage}}))},r.state={contest:e.contest,uploadImage:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.contest,r=t.uploadImage,a=n.Name,s=n.Logo,c=n.ContestTypeId,i=n.StartTime,o=n.ActiveTime,u=n.EndTime,l=n.Description,d=n.Author,b=n.Published,j=n.Private,h=n.Password,p=n.IsRated,m=n.Duration,f=n.FreezeTime,x=n.UnfreezeTime,O=this.props.editable;return Object(Y.jsxs)("div",{className:"p-2 mt-2",children:[Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsxs)(Gt.a,{md:3,lg:3,className:"pl-0",children:[Object(Y.jsx)(Lr.a,{fluid:!0,src:s||"./image/logo.svg",thumbnail:!0,className:"w-100"}),Object(Y.jsx)(er,{className:"mt-2 mb-2 w-100 bg-green",onClick:this.toggleImageUploader,disabled:!O,children:"Thay \u0111\u1ed5i"})]}),Object(Y.jsxs)(Gt.a,{md:9,lg:9,className:"pr-0",children:[Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Lo\u1ea1i k\xec thi"})}),Object(Y.jsxs)(qt.a.Control,{as:"select",name:"ContestTypeId",value:c,onChange:this.onChange,disabled:!O,children:[Object(Y.jsx)("option",{value:"","aria-label":"contest-type"}),Object(Y.jsx)(ga.Consumer,{children:function(e){return e.contestTypes.map((function(e){return Object(Y.jsx)("option",{value:e.Id,children:e.Name},e.Id)}))}})]})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"T\xean k\xec thi"})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Name",value:a,onChange:this.onChange,spellCheck:!1,autoComplete:"off",disabled:!O})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"\u0110\u01a1n v\u1ecb t\u1ed5 ch\u1ee9c"})}),Object(Y.jsx)(qt.a.Control,{type:"text",name:"Author",value:d,onChange:this.onChange,spellCheck:!1,autoComplete:"off",disabled:!O})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"M\xf4 t\u1ea3 k\xec thi"})}),Object(Y.jsx)(qt.a.Control,{type:"text",as:"textarea",name:"Description",value:l,onChange:this.onChange,spellCheck:!1,autoComplete:"off",disabled:!O})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Th\u1eddi gian thi"})}),Object(Y.jsx)(qt.a.Control,{type:"number",name:"Duration",value:m,onChange:this.onChange,spellCheck:!1,autoComplete:"off",disabled:!O})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{className:"py-0 pl-0",md:4,children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"B\u1eaft \u0111\u1ea7u \u0111\u0103ng k\xed"})}),Object(Y.jsx)(Ac,{value:Number(o),name:"ActiveTime",onChange:this.onChange,disabled:!O})]})}),Object(Y.jsx)(Gt.a,{className:"py-0 pl-0",md:4,children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"B\u1eaft \u0111\u1ea7u thi"})}),Object(Y.jsx)(Ac,{value:Number(i),name:"StartTime",onChange:this.onChange,disabled:!O})]})}),Object(Y.jsx)(Gt.a,{className:"p-0",md:4,children:Object(Y.jsx)(ga.Consumer,{children:function(t){return e.contestTypeContext=t,"HIRING"===(0,e.contestTypeContext.getContestTypeName)(parseInt(c,10))?Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"K\u1ebft th\xfac thi"})}),Object(Y.jsx)(Ac,{value:Number(u),name:"EndTime",onChange:e.onChange,disabled:!O})]}):null}})})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{className:"py-0 pl-0",md:4,children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"\u0110\xf3ng b\u0103ng BXH"})}),Object(Y.jsx)(Ac,{value:Number(f),name:"FreezeTime",onChange:this.onChange,disabled:!O})]})}),Object(Y.jsx)(Gt.a,{className:"py-0 pl-0",md:4,children:Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Ng\u01b0ng \u0111\xf3ng b\u0103ng BXH"})}),Object(Y.jsx)(Ac,{value:Number(x),name:"UnfreezeTime",onChange:this.onChange,disabled:!O})]})})]}),Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{className:"py-0 pl-0",children:Object(Y.jsx)(sr,{label:"C\xf4ng khai",className:"green",name:"Published",labelClassName:"font-weight-bold",checked:b,onChange:this.onChange,disabled:!O})}),Object(Y.jsx)(Gt.a,{className:"py-0 pl-0",children:Object(Y.jsx)(sr,{label:"X\u1ebfp h\u1ea1ng",className:"green",name:"IsRated",labelClassName:"font-weight-bold",checked:!0===p,onChange:this.onChange,disabled:!O})}),Object(Y.jsx)(Gt.a,{className:"p-0",children:Object(Y.jsx)(sr,{label:"K\xec thi b\xed m\u1eadt",className:"green",name:"Private",labelClassName:"font-weight-bold",checked:j,onChange:this.onChange,disabled:!O})})]}),!0===j&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("br",{}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"M\u1eadt kh\u1ea9u k\xec thi"})}),Object(Y.jsx)(qt.a.Control,{type:"password",name:"Password",value:h,spellCheck:!1,autoComplete:"new-password",onChange:this.onChange,disabled:!O})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:Object(Y.jsx)("strong",{children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"})}),Object(Y.jsx)(qt.a.Control,{type:"password",name:"ReenterPassword",spellCheck:!1,autoComplete:"new-password",onChange:this.onChange,disabled:!O})]})]})]})]}),Object(Y.jsx)(Er,{show:r,uploadImage:this.onChangeImage,onHide:this.toggleImageUploader})]})}}]),n}(a.a.Component);ml.defaultProps={editable:!0};var fl=ml,xl=new Ge({Name:"",Author:"",Creater:Object(B.a)("Username"),Description:"",StartTime:null,EndTime:null,ActiveTime:null,IsPublished:!1,IsRated:!1,Private:!1,SecretCode:"",Problems:[],Languages:[]}),Ol=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e,20)).refresh=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({fetched:!1}),ze.a.setQueryString("page",r.state.page),e.next=4,r.fetchProblems(!0);case 4:case"end":return e.stop()}}),e)}))),r.fetchProblems=Object(M.a)(E.a.mark((function e(){var t,n,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],n=ze.a.getAllQueryString(),e.next=4,r.problemContext.fetchProblems(n,t);case 4:r.setState({numberOfPage:Math.ceil(r.problemContext.totalProblems/20),fetched:!0});case 5:case"end":return e.stop()}}),e)})));var a=ze.a.getAllQueryString(),s=a.page,c=a.search;return r.state=Object(Re.a)(Object(Re.a)({endIndex:20},r.state),{},{page:Number(s)||1,fetched:!1,search:c}),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(Y.jsx)(si.Consumer,{children:function(t){if(e.problemContext=t,!e.state.fetched)return Object(Y.jsx)(Kt,{});var n=e.props.contest.Problems.map((function(e){return e.ProblemId}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(oi,{Id:"pick-list",toggleQuery:!0,searchKey:"search"})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"M\xe3 b\xe0i"}),Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{children:"Th\xeam"})]})}),Object(Y.jsx)("tbody",{children:e.problemContext.problems.map((function(t){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemCode})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.Name})}),Object(Y.jsx)("td",{children:!n.includes(t.Id)&&e.props.editable&&Object(Y.jsx)(er,{className:"bg-green",onClick:function(){return e.props.add(t)},children:Object(Y.jsx)("span",{className:"fas fa-plus-circle"})})})]},t.Id)}))})]}),Object(Y.jsx)("br",{}),e.renderPagination(e.refresh)]})}})}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ze.a.getAllQueryString(),(n=(n=t.search)||"")===this.state.search){e.next=7;break}return e.next=5,this.setState({page:1,search:n});case 5:return e.next=7,this.refresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPageChange(this.state.page),e.next=3,this.fetchProblems(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ln),vl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e,20)).getFilteredProblem=function(){var e=r.state.pattern;return e=e.toLowerCase(),r.props.contest.Problems.filter((function(t){return""===e||t.ProblemCode.toLowerCase().includes(e)||t.ProblemName.toLowerCase().includes(e)})).sort((function(e,t){return Number(e.Rank)-Number(t.Rank)}))},r.setPage=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setSearchParam("page",r.state.page,1);case 2:case"end":return e.stop()}}),e)}))),r.onPatternChange=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,r.props.setSearchParam("pattern",n,1);case 3:return r.setState({pattern:n}),e.next=6,r.setState({numberOfPage:Math.ceil(r.getFilteredProblem().length/r.itemPerPage)});case 6:r.onPageChange(1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onChangeOrder=function(e,t){var n=Number(e),a=Number(t),s=r.props.contest.Problems;n=s.find((function(e){return e.Rank===n})),a=s.find((function(e){return e.Rank===a}));var c=n.Rank;n.Rank=a.Rank,a.Rank=c,r.props.remove(-1)},r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{pattern:e.pattern,fetched:!1}),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:1,numberOfPage:Math.ceil(this.getFilteredProblem().length/this.itemPerPage),fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pattern,n=Math.ceil(this.getFilteredProblem().length/this.itemPerPage),r=this.state.page;r>n&&r>1&&(r-=1,this.onPageChange(r)),this.setState({pattern:t,numberOfPage:n})}},{key:"render",value:function(){var e=this;return Object(Y.jsx)(si.Consumer,{children:function(t){return e.problemContext=t,e.state.fetched?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"my-2",children:Object(Y.jsx)(oi,{Id:"picked-list",searchKey:"pattern",urlSetting:!1,onChange:e.onPatternChange})}),Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Th\u1ee9 t\u1ef1"}),Object(Y.jsx)("th",{style:{width:"20%"},children:"\u0110i\u1ec3m"}),Object(Y.jsx)("th",{children:"M\xe3 b\xe0i"}),Object(Y.jsx)("th",{children:"T\xean b\xe0i"}),Object(Y.jsx)("th",{children:"X\xf3a"})]})}),Object(Y.jsx)("tbody",{children:e.getFilteredProblem().map((function(t,n){return n>=e.state.startIndex&&n<e.state.endIndex&&Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{style:{width:"15%"},children:Object(Y.jsx)(wn.a,{as:"select",style:{fontSize:"14px"},value:t.Rank,disabled:!e.props.editable,onChange:function(n){return e.onChangeOrder(t.Rank,n.target.value)},children:Array.from(Array(e.props.contest.Problems.length).keys()).map((function(e){return Object(Y.jsx)("option",{value:e+1,children:String.fromCharCode(e+65)},e)}))})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(wn.a,{type:"number",style:{fontSize:"14px"},defaultValue:t.Score,onChange:function(t){e.props.contest.Problems[n].Score=parseInt(t.target.value,10)},disabled:!e.props.editable})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemCode})}),Object(Y.jsx)("td",{className:"text-break",children:Object(Y.jsx)(j.a,{to:"/admin/problems/".concat(t.Id),children:t.ProblemName})}),Object(Y.jsx)("td",{children:e.props.editable&&Object(Y.jsx)(er,{className:"bg-light-pink",onClick:function(){return e.props.remove(t.Id)},children:Object(Y.jsx)("span",{className:"fas fa-trash"})})})]},t.Id)}))})]}),e.renderPagination(e.setPage)]}):Object(Y.jsx)(Kt,{})}})}}]),n}(Ln),gl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onAddProblem=function(e){var t=r.state.contest,n=t.Problems,a={Id:e.Id,ProblemId:e.Id,ProblemCode:e.ProblemCode,ProblemName:e.Name,Rank:0===n.length?1:Number(n[n.length-1].Rank)+1,Status:1,Score:0};n.push(a),r.setState({contest:t})},r.onRemoveProblem=function(e){var t=r.state.contest,n=t.Problems.filter((function(t){return t.Id!==e}));t.Problems=n.sort((function(e,t){return e.Rank-t.Rank})).map((function(e,t){return Object(Re.a)(Object(Re.a)({},e),{},{Rank:t+1})})),r.setState({contest:t})},r.setSearchParam=function(){var e=Object(M.a)(E.a.mark((function e(t,n,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({isRefreshing:!0}),r.state[t][a]=n,r.setState({isRefreshing:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.state={contest:e.contest,pattern:["",""],page:[1,1],isRefreshing:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isRefreshing,n=e.contest,r=e.pattern,a=e.page,s=this.props,c=s.editable,i=s.contest;return t?Object(Y.jsx)("div",{}):Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"pl-1",children:Object(Y.jsx)(Ol,{problemList:n.Problems,add:this.onAddProblem,contest:i,pattern:r[0],page:a[0],setSearchParam:this.setSearchParam,editable:c})}),Object(Y.jsx)(Gt.a,{md:6,className:"pr-1",children:Object(Y.jsx)(vl,{problemList:n.Problems,remove:this.onRemoveProblem,contest:i,pattern:r[1],page:a[1],setSearchParam:this.setSearchParam,editable:c})})]})}}]),n}(a.a.Component);gl.defaultProps={editable:!0};var wl=gl,yl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onAddUser=function(e){var t=r.state.contest,n=t.Users,a={Id:e.Id,Username:e.Username,Fullname:e.Fullname,Email:e.Email};n.push(a),r.setState({contest:t})},r.onRemoveUser=function(e){var t=r.state.contest,n=t.Users.filter((function(t){return t.Id!==e}));t.Users=n,r.setState({contest:t})},r.setSearchParam=function(){var e=Object(M.a)(E.a.mark((function e(t,n,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({isRefreshing:!0}),r.state[t][a]=n,r.setState({isRefreshing:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.state={contest:e.contest,pattern:["",""],page:[1,1],isRefreshing:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isRefreshing,n=e.pattern,r=e.page,a=this.props,s=a.contest,c=a.editable;return t?Object(Y.jsx)("div",{}):Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:6,className:"pl-1",children:Object(Y.jsx)(Ou,{add:this.onAddUser,pattern:n[0],page:r[0],setSearchParam:this.setSearchParam,contest:s,editable:c})}),Object(Y.jsx)(Gt.a,{md:6,className:"pr-1",children:Object(Y.jsx)(xu,{remove:this.onRemoveUser,pattern:n[1],page:r[1],setSearchParam:this.setSearchParam,contest:s,editable:c})})]})}}]),n}(a.a.Component);yl.defaultProps={editable:!0};var kl=yl,Cl=function(e){var t=e.contest,n=e.editable,a=Object(r.useState)(t),s=Object(b.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)(["",""]),u=Object(b.a)(o,2),l=u[0],d=u[1],j=Object(r.useState)([1,1]),h=Object(b.a)(j,2),p=h[0],m=h[1],f=Object(r.useState)(!1),x=Object(b.a)(f,2)[1],O=function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),"page"===t?((a=p)[r]=n,m(a)):((s=l)[r]=n,d(s)),x(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Yn.a,{children:[Object(Y.jsx)(Gt.a,{md:5,className:"pl-1",children:Object(Y.jsx)(Xi,{add:n?function(e){var n={Id:e.Id,UserId:e.Id,Username:e.Username,Fullname:e.Fullname,Email:e.Email,role:null},r=c.Moderators.concat(n),a=Te.a.cloneDeep(c);a.Moderators=r,t.Moderators=r,i(a)}:function(){},pattern:l[0],page:p[0],modList:c.Moderators})}),Object(Y.jsx)(Gt.a,{md:7,className:"pr-1",children:Object(Y.jsx)($i,{remove:n?function(e){var n=c.Moderators.filter((function(t){return t.Id!==e})),r=Te.a.cloneDeep(c);r.Moderators=n,t.Moderators=n,i(r)}:function(){},modList:c.Moderators,pattern:l[1],page:p[1],setSearchParam:O,onRoleChange:n?function(e,n){var r=c.Moderators.map((function(t){var r=t;return r.Id===n&&(r.Role=e.target.value),r})),a=Te.a.cloneDeep(c);a.Moderators=r,t.Moderators=r,i(a)}:function(){},editable:n})})]})};Cl.defaultProps={editable:!0};var Sl=Cl,Il=function(e){var t=Object(r.useContext)(dl),n=t.getContest,a=t.addContest,s=t.updateContest,c=t.removeContest,i=Object(r.useState)(!1),o=Object(b.a)(i,2),u=o[0],l=o[1],d=Object(r.useState)(void 0),j=Object(b.a)(d,2),h=j[0],p=j[1],m=Object(r.useState)(void 0),f=Object(b.a)(m,2),x=f[0],O=f[1],v=Object(r.useState)("add"),g=Object(b.a)(v,2),w=g[0],y=g[1],k=Object(r.useState)(!1),C=Object(b.a)(k,2),S=C[0],I=C[1],N=Object(r.useState)(!1),P=Object(b.a)(N,2),T=P[0],L=P[1],A=Object(r.useState)(!1),R=Object(b.a)(A,2),D=R[0],U=R[1],F=Object(r.useState)(!1),q=Object(b.a)(F,2),G=q[0],H=q[1],V=Object(r.useState)(!1),z=Object(b.a)(V,2),W=z[0],K=z[1],Q=Object(r.useState)(0),J=Object(b.a)(Q,2),_=J[0],X=J[1],Z=function(){var t=Object(M.a)(E.a.mark((function t(){var r,a,s,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("edit"!==e.location.pathname.split("/")[3]){t.next=15;break}return y("edit"),t.next=4,n(e.match.params.id);case 4:r=t.sent,O(r),p(Te.a.cloneDeep(r)),a=0,s=Object(B.a)(),c=r.Moderators.find((function(e){return e.UserId===s.Id})),a="Administrator"===s.Role||"owner"===c.Role?2:"edit"===c.Role?1:0,X(a),l(!0),t.next=19;break;case 15:X(2),O(Te.a.cloneDeep(xl)),p(Te.a.cloneDeep(xl)),l(!0);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){Z()}),[]);var $=function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,I(!0),"add"!==w){e.next=9;break}return e.next=5,a(h);case 5:"object"===typeof(n=e.sent)&&(y("edit"),K(!0),h.Id=n.Id,je.a.push("/admin/contests/edit/".concat(n.Id))),e.next=14;break;case 9:return e.next=11,s(h,x);case 11:r=e.sent,O(Te.a.cloneDeep(h)),r?t=!1:K(!0);case 14:return setTimeout((function(){K(!1)}),2e3),I(!1),e.abrupt("return",t);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var t=Object(M.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(!0),t.next=3,$();case 3:if(!t.sent){t.next=6;break}L(!1),e.history.push("/admin/contests/".concat(x.Id));case 6:L(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,c(x.Id);case 3:e.sent?U(!1):je.a.push("/admin/contests");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u?h?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["k\xec thi","/admin/contests"],[x.Name]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)("div",{className:"w-100",children:[Object(Y.jsxs)(kn,{controlKey:"view",children:[Object(Y.jsx)(fl,{title:"Th\xf4ng tin k\xec thi",route:"information",contest:h,mode:w,editable:_>0}),"edit"===w&&Object(Y.jsx)(wl,{title:"\u0110\u1ec1 b\xe0i",route:"problem",contest:h,editable:_>0}),"edit"===w&&Object(Y.jsx)(kl,{title:"Th\xed sinh",route:"contestant",contest:h,editable:_>0}),"edit"===w&&Object(Y.jsx)(Sl,{title:"Moderators",route:"moderators",contest:h,editable:_>1})]}),_>0&&Object(Y.jsx)(Fi,{saveSuccessfully:W,mode:w,isRemoving:D,isSaving:S,isSavingAndPreviewing:T,isCanceling:G,onSave:$,onRemove:te,onCancel:function(){H(!0),je.a.push("/admin/contests"),H(!1)},onSaveAndPreview:ee})]})})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})},Nl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).calculateJoinTime=function(){var e=r.props.contest;return"HIRING"===e.ContestType.Name?$t()(e.ParticipateTime):$t()(e.StartTime)},r.startCountDown=function(){var e=r.props.contest,t=r.calculateJoinTime();r.countDownInterval=setInterval((function(){var n=$t()(),a=$t.a.duration(n.diff(t)).asSeconds();r.setState((function(){return{countDown:a/(60*e.Duration)*100,leftTime:Ya(Math.round(a)),remainingTime:Ya(Math.round(60*e.Duration-a))}}))}),1e3)},r.componentDidMount=function(){var e=r.props.contest;"Running"===e.ContestStatus?r.startCountDown():r.setState((function(){return{countDown:100,leftTime:Ya(60*e.Duration),remainingTime:"\u0111\xe3 h\u1ebft gi\u1edd"}}))},r.componentDidUpdate=function(){var e=r.props.contest;void 0!==r.countDownInterval&&(60*parseInt(e.Duration,10)-$t.a.duration($t()().diff(r.calculateJoinTime())).asSeconds()<=0&&(clearInterval(r.countDownInterval),alert("K\u1ef3 thi n\xe0y \u0111\xe3 k\u1ebft th\xfac."),window.location.replace("/contests/".concat(e.Id))))},r.componentWillUnmount=function(){void 0!==r.countDownInterval&&clearInterval(r.countDownInterval)},r.render=function(){var e=r.props.contest,t=r.state,n=t.leftTime,a=t.countDown,s=t.remainingTime;return Object(Y.jsx)(ga.Consumer,{children:function(t){var c=t.getContestTypeName;return r.getContestTypeName=c,Object(Y.jsx)(Gt.a,{className:"col-md-12 mb-4",children:Object(Y.jsx)(Xt.a,{className:"w-100 shadow-sm",children:Object(Y.jsxs)(Xt.a.Body,{children:[Object(Y.jsx)(Yn.a,{style:{textAlign:"center"},children:Object(Y.jsxs)(Gt.a,{children:[Object(Y.jsx)("h1",{style:{marginBottom:"10px"},children:e.Name}),Object(Y.jsx)(cs.a,{variant:"success",animated:!0,now:a})]})}),Object(Y.jsxs)(Yn.a,{style:{marginTop:"10px"},children:[Object(Y.jsxs)(Gt.a,{children:["Th\u1eddi gian \u0111\xe3 qua:",Object(Y.jsx)("b",{children:n})]}),Object(Y.jsxs)(Gt.a,{style:{textAlign:"right"},children:["Th\u1eddi gian c\xf2n l\u1ea1i:",Object(Y.jsx)("b",{children:s})]})]}),Object(Y.jsx)(j.a,{to:"/admin/contests/edit/".concat(e.Id),children:Object(Y.jsxs)(Ht.a,{className:"btn-danger font-weight-bolder",style:{position:"absolute",top:"1rem",right:"1rem"},children:["Edit",Object(Y.jsx)("span",{className:"fas fa-pen"})]})})]})})})}})},r.state={countDown:0,leftTime:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"}),remainingTime:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"})},r.countDownInterval=void 0,r}return n}(a.a.Component),Pl=function(e){var t=e.contestId,n=e.contest;return Object(Y.jsx)("div",{children:Object(Y.jsx)(jo,{apiUrl:"contests/".concat(t,"/submissions"),problems:n.Problems})})},Tl=function(e){var t=e.contestId;return Object(Y.jsx)("div",{children:Object(Y.jsx)(ds,{IOI:!0,contestId:t,service:Va})})},Ll=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isFetched:!1}),t=r.props.contestId,e.prev=2,e.next=5,r.adminContestContext.getProblems(t);case 5:n=e.sent,r.setState((function(){return{problems:n,isFetched:!0}})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])}))),r.render=function(){var e=r.state,t=e.isFetched,n=e.problems;return Object(Y.jsx)(dl.Consumer,{children:function(e){return r.adminContestContext=e,Object(Y.jsxs)("div",{children:[!t&&Object(Y.jsx)(Qt,{}),t&&Object(Y.jsx)(Yn.a,{children:Object(Y.jsx)(Gt.a,{children:Object(Y.jsxs)("table",{className:"basic-component-table bg-white",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{style:{width:"5%"},children:"#"}),Object(Y.jsx)("th",{style:{width:"80%"},children:"T\xean b\xe0i"})]})}),Object(Y.jsx)("tbody",{children:n.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"py-3",children:Object(Y.jsx)(j.a,{to:e.Link,children:String.fromCharCode(e.Rank+64)})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(j.a,{to:e.Link,children:e.ProblemName})})]},e.Id)}))})]})})})]})}})},r.state={isFetched:!1,problems:[]},r}return n}(a.a.Component),Al=function(e){var t,n=e.contest,a=e.contestId,s=Object(r.useState)(0),c=Object(b.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)(Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"})),l=Object(b.a)(u,2),d=l[0],h=l[1],p=Object(r.useState)(Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"})),m=Object(b.a)(p,2),f=m[0],x=m[1],O=function(){return"HIRING"===n.ContestType.Name?$t()(n.ParticipateTime):$t()(n.StartTime)};return Object(r.useEffect)((function(){return"Running"===n.ContestStatus?function(){var e=O();t=setInterval((function(){var t=$t()(),r=$t.a.duration(t.diff(e)).asSeconds();o(r/(60*n.Duration)*100),h(Ya(Math.round(r))),x(Ya(Math.round(60*n.Duration-r)))}),1e3)}():(o(100),h(Ya(60*n.Duration)),x("\u0111\xe3 h\u1ebft gi\u1edd")),function(){void 0!==t&&clearInterval(t)}}),[]),Object(r.useEffect)((function(){void 0!==t&&(60*parseInt(n.Duration,10)-$t.a.duration($t()().diff(O())).asSeconds()<=0&&(clearInterval(t),alert("K\u1ef3 thi n\xe0y \u0111\xe3 k\u1ebft th\xfac."),window.location.replace("/contests/".concat(n.Id))))}),[t]),Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(er,{className:"back-button",type:"button",onClick:function(){je.a.push("/admin/contests/".concat(a))},children:[Object(Y.jsx)("i",{className:"fas fa-chevron-left"})," ","Back"]}),Object(Y.jsx)(j.a,{to:"/admin/contests/edit/".concat(a),children:Object(Y.jsxs)(er,{className:"btn-danger font-weight-bolder",style:{position:"absolute",top:"1rem",right:"1rem"},children:["Edit",Object(Y.jsx)("span",{className:"fas fa-pen"})]})}),Object(Y.jsx)("p",{className:"title",children:n.Name}),Object(Y.jsxs)("div",{className:"during-time",children:[$t()(Number(n.StartTime)).format("DD/MM/YYYY - HH:mm")," ",$t()(Number(n.EndTime)).format("DD/MM/YYYY - HH:mm")]}),Object(Y.jsxs)("div",{className:"d-flex justify-content-between progress-bar-contest",children:[Object(Y.jsxs)("div",{style:{textAlign:"left"},children:["\u0110\xe3 qua:"," ",Object(Y.jsx)("strong",{children:d})]}),Object(Y.jsx)("div",{className:"flex-fill mx-2",children:Object(Y.jsx)(cs.a,{variant:"success",animated:!0,now:i})}),Object(Y.jsxs)("div",{style:{textAlign:"right"},children:["C\xf2n l\u1ea1i:"," ",Object(Y.jsx)("strong",{children:f})]})]}),Object(Y.jsxs)("div",{className:"progress-bar-contest-mini",children:[Object(Y.jsx)("div",{className:"flex-fill mx-2",children:Object(Y.jsx)(cs.a,{variant:"success",animated:!0,now:i})}),Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsxs)("div",{style:{textAlign:"left"},children:["\u0110\xe3 qua:",Object(Y.jsx)("strong",{children:d})]}),Object(Y.jsxs)("div",{style:{textAlign:"right"},children:["C\xf2n l\u1ea1i:",Object(Y.jsx)("strong",{children:f})]})]})]})]})},Rl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onViewSettingChange=function(e){var t=r.state.viewSetting;t[e]=!t[e],xe.write("view-setting",t),r.setState(t)},r.onFullScreenChange=function(){r.setState((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{fullScreen:!e.fullScreen})}))},r.render=function(){return Object(Y.jsx)(dl.Consumer,{children:function(e){r.context=e;var t=r.state,n=t.fetched,a=t.problem,s=t.fullScreen,c=t.orientation,i=r.props,o=i.nav,u=i.contestId,l=i.contest;return n?a?Object(Y.jsxs)("div",{className:"problem-page-wrapper ".concat("vertical"===c?"fit-height":""),children:[Object(Y.jsx)("div",{className:"top-bar",children:Object(Y.jsx)(ye,{nav:o})}),Object(Y.jsxs)("div",{className:"content-problem",children:[Object(Y.jsx)("div",{className:"contest-bar",children:Object(Y.jsx)(Al,{contest:l,contestId:u})}),Object(Y.jsxs)(Bt,{style:{height:"calc(100% - 110px"},orientation:c,children:[s?null:Object(Y.jsxs)(qn,{controlKey:"view",children:[Object(Y.jsx)(Ao,{route:"statement",title:"\u0110\u1ec1 b\xe0i",problem:a}),Object(Y.jsx)("div",{route:"submissiontests",title:"B\xe0i n\u1ed9p th\u1eed",children:Object(Y.jsx)(mo,{autoRefresh:!0,admin:!0,showUsername:!0,problemId:a.Id})}),Object(Y.jsx)("div",{route:"submissions",title:"B\xe0i n\u1ed9p",children:Object(Y.jsx)(po,{autoRefresh:!0,admin:!0,showUsername:!0,problemId:a.Id})}),Object(Y.jsx)("div",{route:"tutorials",title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",children:Object(Y.jsx)(xo,{tutorials:a.Tutorials,problem:a})})]}),Object(Y.jsx)(lr,{problem:a,allowFullScreen:!0,fullScreening:s,onFullScreen:r.onFullScreenChange})]})]})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})}})},r.state={problem:void 0,fetched:!1,fullScreen:!1,orientation:"vertical",countDown:0,leftTime:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"}),remainingTime:Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner m-auto"})},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.problemId,r=t.contestId,this.setState({fetched:!1}),a=this.context.getProblem,e.prev=3,e.next=6,a(n,r);case 6:if(!(s=e.sent)){e.next=11;break}this.setState((function(){return{problem:s}})),e.next=12;break;case 11:throw new Error("");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),je.a.push("/admin/contests/".concat(r));case 17:this.setState({fetched:!0}),window.scrollTo(0,0),document.getElementsByClassName("footer")[0].style.display="none",this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this));case 22:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"updateDimensions",value:function(){window.innerWidth<800?this.setState({orientation:"horizontal"}):this.setState({orientation:"vertical"})}}]),n}(a.a.Component);Rl.defaultProps={nav:[]};var Dl=Rl,Ul=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchRejudge=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.contestId,e.next=3,qe.fetchRejudge(t);case 3:return n=e.sent,r.setState({rejudges:n}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),r.rejudge=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props.contestId,e.next=3,qe.rejudge(n,t);case 3:return e.next=5,r.fetchRejudge();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.componentDidMount=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.contestId,e.prev=1,e.next=4,r.adminContestContext.getProblems(t);case 4:return n=e.sent,e.next=7,r.fetchRejudge();case 7:a=e.sent,r.setState((function(){return{problems:n,rejudges:a,isFetched:!0}})),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),r.state={isFetched:!1,problems:[],rejudges:[]},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.problems,r=t.isFetched,a=t.rejudges;return Object(Y.jsx)(dl.Consumer,{children:function(t){return e.adminContestContext=t,r?Object(Y.jsx)(qo,{problems:n,submitRejudge:e.rejudge,rejudgeList:a}):Object(Y.jsx)(Qt,{})}})}}]),n}(a.a.Component),El=function(e){var t=e.validViews,n=e.contestId,r=e.contest;return Object(Y.jsxs)(kn,{controlKey:"view",children:[t.includes("problems")&&Object(Y.jsx)(Ll,{route:"problems",title:"\u0110\u1ec1 b\xe0i",contestId:n}),t.includes("submissions")&&Object(Y.jsx)(Pl,{route:"submissions",title:"B\xe0i n\u1ed9p",contestId:n,contest:r}),t.includes("scoreboard")&&Object(Y.jsx)(Tl,{route:"scoreboard",title:"B\u1ea3ng x\u1ebfp h\u1ea1ng",contestId:n}),t.includes("clarification")&&Object(Y.jsx)(Ts,Object(Re.a)(Object(Re.a)({},e),{},{route:"clarification",title:"H\u1ecfi/\u0110\xe1p",contestId:n})),t.includes("judgehost")&&Object(Y.jsx)(Ul,{route:"judgehost",title:"Ch\u1ea5m l\u1ea1i",contestId:n})]})},Ml=function(e){return Object(Y.jsx)(Gt.a,{md:"12",children:Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests/:contestId",component:function(){return Object(Y.jsx)(El,Object(Re.a)({},e))}}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests/:contestId/problems/:id",component:Dl})]})})},Bl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).generateValidViews=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push("problems"),t.push("submissions"),t.push("scoreboard"),t.push("clarification"),t.push("judgehost"),e.next=8,r.setState((function(){return{views:t}}));case 8:case"end":return e.stop()}}),e)}))),r.checkValidViews=function(){ze.a.getQueryString("view")||ze.a.setQueryString("view",r.state.views[0])},r.generateNavBar=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.state.contest,a=[["Admin","/admin"],["Contests","/admin/contests"],[n.Name,"/admin/contests/".concat(n.Id)]],(s=t.split("/")[4])&&a.push([s]),e.next=6,r.setState((function(){return{nav:a}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.componentDidMount=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.context.getContest(r.props.match.params.contestId);case 3:return t=e.sent,r.setState({contest:t}),e.next=7,r.generateValidViews();case 7:r.generateNavBar(r.props.match.url),r.checkValidViews(),r.setState((function(){return{isLoading:!1}})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),r.setState((function(){return{hasError:!0,isLoading:!1}})),je.a.push("/admin/contests");case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),r.UNSAFE_componentWillReceiveProps=function(e){e.match.url!==r.props.match.url&&r.generateNavBar(e.match.url)},r.render=function(){return Object(Y.jsx)(K.Consumer,{children:function(e){return r.authContext=e,Object(Y.jsx)(ga.Consumer,{children:function(e){var t=e.getContestTypeName;return r.getContestTypeName=t,Object(Y.jsx)(dl.Consumer,{children:function(e){return r.context=e,r.state.isLoading?Object(Y.jsx)(_t,{}):r.state.hasError?Object(Y.jsx)(hn,{}):"/admin/contests/:contestId"===r.props.match.path?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:r.state.nav}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(ss,{contest:r.state.contest,children:[Object(Y.jsx)(Nl,{contest:r.state.contest}),Object(Y.jsx)(Ml,Object(Re.a)(Object(Re.a)({},r.props),{},{contestId:r.state.contest.Id,validViews:r.state.views,contest:r.state.contest,match:r.props.match,location:r.props.location}))]})})]}):Object(Y.jsx)(ss,{contest:r.state.contest,children:Object(Y.jsx)(Dl,{nav:r.state.nav,contest:r.state.contest,contestId:r.props.match.params.contestId,problemId:r.props.match.params.problemId})})}})}})}})},r.state={isLoading:!0,hasError:!1,contest:void 0,nav:[["Admin","/admin"],["Contests","/admin/contests"]],views:[]},r}return n}(a.a.Component),Fl=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests",component:pl}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests/add",component:Il}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests/add/:view",component:Il}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests/edit/:id",component:Il}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests/edit/:id/:view",component:Il}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests/:contestId/problems/:problemId",component:Bl}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/contests/:contestId",component:Bl}),Object(Y.jsx)(d.Route,{})]})},ql=a.a.createContext(),Gl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getProblems=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=r.state.problems).length){e.next=10;break}return e.next=4,qe.getProblems();case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:return n=e.t0,r.setState({problems:n}),e.abrupt("return",n);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)}))),r.state={problems:[],getProblems:r.getProblems},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(ql.Provider,{value:this.state,children:e})})}}]),n}(a.a.Component),Hl=a.a.createContext(),Vl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).getUsertypes=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.state.usertypes.length){e.next=6;break}return e.next=4,Qi.getUserTypes();case 4:t=e.sent,r.setState({usertypes:t});case 6:case"end":return e.stop()}}),e)}))),r.state={usertypes:[],getUserTypes:r.getUsertypes},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getUsertypes()}},{key:"render",value:function(){var e=this.props.children;return Object(Y.jsx)(Hl.Provider,{value:this.state,children:e})}}]),n}(a.a.Component),zl=function(e){var t=e.user,n=Object(r.useState)(!0),a=Object(b.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(!1),o=Object(b.a)(i,2),u=o[0],l=o[1],d=Object(r.useState)(!1),j=Object(b.a)(d,2),h=j[0],p=j[1],m=Object(r.useState)(""),f=Object(b.a)(m,2),x=f[0],O=f[1],v=Object(r.useState)(""),g=Object(b.a)(v,2),w=g[0],y=g[1],k=Object(r.useContext)(Hl).usertypes,C=Object(r.useState)(""),S=Object(b.a)(C,2),I=S[0],N=S[1],P=t.Username,T=t.Email,L=t.Fullname,A=t.Role,R=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("ARE YOU SURE?")){e.next=5;break}return l(!0),e.next=4,Qi.updateUser(t.Id,{Status:!1});case 4:l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(M.a)(E.a.mark((function e(n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.target.value,e.next=3,Qi.updateUser(t.Id,{UserTypeId:parseInt(r,10)});case 3:e.sent||(c(!1),t.Role=k.find((function(e){return e.Id===parseInt(r,10)})).Name,c(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){h&&(O(""),y("")),p(!h)},B=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x===w){e.next=4;break}N("Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp!"),e.next=7;break;case 4:return e.next=6,Qi.changePassword(t.Id,H()(x).toString());case 6:U();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=k.find((function(e){return e.Name===A}));return s?Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:P}),Object(Y.jsx)("td",{children:T}),Object(Y.jsx)("td",{children:L}),Object(Y.jsx)("td",{children:Object(Y.jsx)(wn.a,{as:"select",style:{fontSize:"14px"},onChange:D,value:F?F.Id:"",children:k.map((function(e){return Object(Y.jsx)("option",{value:e.Id,children:e.Name},e.Id)}))})}),Object(Y.jsx)("td",{className:"text-center",children:Object(Y.jsx)(er,{className:"basic-component-button bg-warning text-white",onClick:U,children:Object(Y.jsx)("span",{className:"fas fa-key"})})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(er,{className:"basic-component-button bg-light-pink text-white",onClick:R,children:u?Object(Y.jsx)("span",{className:"fas fa-spin fa-spinner"}):Object(Y.jsx)("span",{className:"fas fa-ban"})})}),h&&Object(Y.jsxs)(rr,{title:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",show:!0,onHide:U,footer:Object(Y.jsxs)("div",{children:[Object(Y.jsx)(er,{className:"bg-light-blue",onClick:U,children:"H\u1ee7y"}),"\xa0",Object(Y.jsx)(er,{className:"bg-light-pink",onClick:B,children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"})]}),children:[Object(Y.jsxs)("h4",{children:["Username:",Object(Y.jsx)("strong",{children:P})]}),Object(Y.jsx)("br",{}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:"M\u1eadt kh\u1ea9u m\u1edbi"}),Object(Y.jsx)(qt.a.Control,{type:"password",autoComplete:"new-password",value:x,onChange:function(e){return O(e.target.value)}})]}),Object(Y.jsxs)(qt.a.Group,{children:[Object(Y.jsx)(qt.a.Label,{children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi"}),Object(Y.jsx)(qt.a.Control,{type:"password",autoComplete:"new-password",value:w,onChange:function(e){return y(e.target.value)}})]}),I&&Object(Y.jsx)("p",{className:"text-danger",children:I})]})]}):Object(Y.jsx)("tr",{})},Wl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).refresh=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({fetched:!1}),ze.a.setQueryString("page",r.state.page),e.next=4,r.fetchUsers();case 4:case"end":return e.stop()}}),e)}))),r.fetchUsers=Object(M.a)(E.a.mark((function e(){var t,n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=ze.a.getAllQueryString()).key=t.search,e.next=5,Qi.getUsers(t);case 5:n=e.sent,a=n.users,s=n.totalUsers,r.setState({fetched:!0,users:a,totalUsers:s,numberOfPage:Math.ceil(s/r.itemPerPage)}),r.props.setTotalUsers(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r.setState({fetched:!0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),r.itemPerPage=20;var a=ze.a.getAllQueryString(),s=a.page,c=a.search;return r.state=Object(Re.a)(Object(Re.a)({},r.state),{},{page:Number(s)||1,fetched:!1,search:c}),r}return Object(o.a)(n,[{key:"render",value:function(){return this.state.fetched?Object(Y.jsx)(Vl,{children:Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Username"}),Object(Y.jsx)("th",{children:"Email"}),Object(Y.jsx)("th",{children:"Fullname"}),Object(Y.jsx)("th",{children:"Role"}),Object(Y.jsx)("th",{className:"text-center",children:"Change password"}),Object(Y.jsx)("th",{children:"Ban"})]})}),Object(Y.jsx)("tbody",{children:this.state.users.map((function(e){return Object(Y.jsx)(zl,{user:e},"user".concat(e.Id))}))})]}),Object(Y.jsx)("br",{}),this.renderPagination(this.refresh)]})}):Object(Y.jsx)(Qt,{})}},{key:"componentDidMount",value:function(){this.onPageChange(this.state.page),this.fetchUsers()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ze.a.getAllQueryString(),void 0===(n=t.search)||n===this.state.search){e.next=6;break}return e.next=4,this.setState({page:1,search:n});case 4:return e.next=6,this.refresh();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ln),Yl=function(){var e=Object(r.useState)(0),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["users","/admin/users"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(Xt.a,{className:"shadow-sm w-100 mt-2 p-2",children:[Object(Y.jsx)("h2",{className:"mb-3",children:Object(Y.jsx)("strong",{children:"Users"})}),Object(Y.jsxs)("div",{className:"d-flex mb-2",children:[Object(Y.jsx)("div",{className:"bg-green h-100 text-white corner p-2 text-right mr-2",children:Object(Y.jsxs)("strong",{children:["S\u1ed1 l\u01b0\u1ee3ng users:",n]})}),Object(Y.jsx)("div",{className:"flex-grow-1",children:Object(Y.jsx)(oi,{toggleQuery:!0})})]}),Object(Y.jsx)(Wl,{setTotalUsers:a})]})})]})},Kl=function(){return Object(Y.jsx)(jo,{apiUrl:"submissions"})},Ql=function(){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["Home","/"],["Submissions"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsx)(Gt.a,{children:Object(Y.jsx)(Kl,{autoRefresh:!0,showProblemName:!0,showUsername:!0,admin:!0})})})]})},Jl=function e(){Object(i.a)(this,e)};Jl.getJudgehosts=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.R).request();case 3:return t=e.sent,e.abrupt("return",t.judgehosts);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Jl.deleteJudgehosts=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.S,{hostname:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Jl.toggleStatusJudgehosts=function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("put",z.T,{hostname:t,active:n}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","Cannot turn off judgehost");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();var _l=Jl,Xl=function(e){var t=e.judgehost,n=e.toggleStatusJudgehosts,a=e.deleteJudgehosts,s=Object(r.useState)(t.Active),c=Object(b.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)(!1),l=Object(b.a)(u,2),d=l[0],j=l[1],h=Object(r.useState)(!1),p=Object(b.a)(h,2),m=p[0],f=p[1],x=function(){var e=$t()().diff(t.Polltime)/1e3;return e>=300?"Dead":e>=180?"Warning":"Ok"};Object(r.useEffect)((function(){x()}),[]),x();var O=function(){var e=Object(M.a)(E.a.mark((function e(r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),j(!0),n(t.Hostname,!t.Active),j(!1),o(!i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(M.a)(E.a.mark((function e(n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),f(!0),!window.confirm("DO YOU WANT TO DELETE ".concat(t.Hostname,"?"))){e.next=5;break}return e.next=5,a(t.Hostname);case 5:f(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)("tr",{className:"judgehost-single-list ".concat(x().toLocaleLowerCase()),children:[Object(Y.jsx)("td",{children:t.Hostname}),Object(Y.jsx)("td",{style:{width:"20%"},children:$t()(t.Polltime).format("DD/MM/YYYY - HH:mm")}),Object(Y.jsx)("td",{style:{width:"20%"},children:$t()(t.createdAt).format("DD/MM/YYYY - HH:mm")}),Object(Y.jsx)("td",{style:{width:"20%"},children:$t()(t.updatedAt).format("DD/MM/YYYY - HH:mm")}),Object(Y.jsx)("td",{className:"font-weight-bold status-judgehost ".concat(x().toLocaleLowerCase()),style:{width:"8%",textAlign:"center"},children:x()}),Object(Y.jsx)("td",{className:"text-center",style:{width:"8%"},children:d?Object(Y.jsx)(Yt,{}):Object(Y.jsx)("div",{role:"button",tabIndex:0,onClick:O,children:i?Object(Y.jsx)("span",{className:"fas fa-toggle-on basic-plain-icon icon-green"}):Object(Y.jsx)("span",{className:"fas fa-toggle-off basic-plain-icon icon-red"})})}),Object(Y.jsx)("td",{className:"text-center",style:{width:"8%"},children:m?Object(Y.jsx)(Yt,{}):Object(Y.jsx)("button",{className:"basic-component-button bg-light-pink text-white",type:"button",onClick:v,children:Object(Y.jsx)("span",{className:"fas fa-trash"})})})]})};Xl.defaultProps={toggleStatusJudgehosts:null,deleteJudgehosts:null};var Zl=Xl,$l=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fetchJudgehost=Object(M.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=ze.a.getAllQueryString()).key=t.search,e.next=5,_l.getJudgehosts(t);case 5:n=e.sent,a=n.length,r.setState({fetched:!0,judgehosts:n}),r.props.setTotalJudgehosts(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r.setState({fetched:!0});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),r.toggleJudgehost=function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l.toggleStatusJudgehosts(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.deleteJudgehost=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l.deleteJudgehosts(t);case 2:n=r.state.judgehosts,a=n.findIndex((function(e){return e.Hostname===t})),n.splice(a,1),r.setState({judgehosts:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={fetched:!1,judgehosts:[]},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchJudgehost()}},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,r=t.judgehosts;return n?Object(Y.jsx)("div",{children:Object(Y.jsxs)("table",{className:"basic-component-table",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Hostname"}),Object(Y.jsx)("th",{children:"Polltime"}),Object(Y.jsx)("th",{children:"Create at"}),Object(Y.jsx)("th",{children:"Update at"}),Object(Y.jsx)("th",{children:"Status"}),Object(Y.jsx)("th",{children:"Active"}),Object(Y.jsx)("th",{children:"Delete"})]})}),Object(Y.jsx)("tbody",{children:r.map((function(t){return Object(Y.jsx)(Zl,{judgehost:t,toggleStatusJudgehosts:e.toggleJudgehost,deleteJudgehosts:e.deleteJudgehost},"".concat(t.Hostname))}))})]})}):Object(Y.jsx)(Qt,{})}}]),n}(a.a.Component),ed=function(){var e=Object(r.useState)(0),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["judgehosts","/admin/judgehosts"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(Xt.a,{className:"shadow-sm w-100 mt-2 p-2",children:[Object(Y.jsx)("h2",{className:"mb-3",children:Object(Y.jsx)("strong",{children:"Judgehosts"})}),Object(Y.jsx)("div",{className:"d-flex mb-2",children:Object(Y.jsx)("div",{className:"bg-green h-100 text-white corner p-2 text-right mr-2",children:Object(Y.jsxs)("strong",{children:["S\u1ed1 l\u01b0\u1ee3ng judgehost:"," ",n]})})}),Object(Y.jsx)($l,{setTotalJudgehosts:a})]})})]})},td=n(502),nd=n(501),rd=n(503),ad=n(504),sd=n(500),cd=n(505),id=n(506),od=n(250),ud=n.n(od),ld=n(497),dd=n(498),bd=n(499),jd=n(249),hd=n.n(jd),pd=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getArticles",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,r,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,n=a.length>1&&void 0!==a[1]?a[1]:20,e.prev=2,e.next=5,new De.a("get",z.b,{page:t,limit:n}).request();case 5:return r=e.sent,e.abrupt("return",{totalArticles:r.totalArticles,articles:r.articles});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{totalArticles:0,Articles:[]});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("get",z.c,{articleId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.article);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.Content)&&(n=We.Base64.encode(n)),e.prev=2,e.next=5,new De.a("post",z.b,{},Object(Re.a)(Object(Re.a)({},t),{},{Content:n})).request();case 5:return r=e.sent,e.abrupt("return",r.article);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.Content)&&(n=We.Base64.encode(n)),e.prev=2,e.next=5,new De.a("put",z.c,{articleId:t.Id},Object(Re.a)(Object(Re.a)({},t),{},{Content:n})).request();case 5:return r=e.sent,e.abrupt("return",r.article);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return","Update article failed!");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new De.a("delete",z.c,{articleId:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","Delete article failed");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLatestArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("get",z.U).request();case 3:return t=e.sent,e.abrupt("return",t.Articles);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"voteArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("post",z.Vb,{id:t},{Value:n},!0).request();case 3:return r=e.sent,e.abrupt("return",r.vote);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editArticle",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new V.a("put",z.c,{ArticleId:t},{Content:n},!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),md=Object(Zn.a)({paper:{position:"absolute",top:50}})(ld.a),fd=a.a.createContext(),xd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getArticles();case 2:case"end":return e.stop()}}),e)}))),r.getArticles=Object(M.a)(E.a.mark((function e(){var t,n,a,s,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:10,e.next=4,pd.getArticles(t,n);case 4:a=e.sent,s=a.articles.map((function(e){return new St(e)})).sort((function(e,t){return $t()(t.createdAt).subtract($t()(e.createdAt))})),r.setState({articles:s,totalArticles:a.totalArticles});case 7:case"end":return e.stop()}}),e)}))),r.getArticle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd.getArticle(t);case 2:return n=e.sent,r=new St(n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addArticle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd.addArticle(t);case 2:if("string"!==typeof(n=e.sent)){e.next=6;break}return r.setState({error:n}),e.abrupt("return",null);case 6:return a=new St(n),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateArticle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd.updateArticle(t);case 2:if("string"!==typeof(n=e.sent)){e.next=6;break}return r.setState({error:n}),e.abrupt("return",null);case 6:return a=new St(n),s=r.state.articles,-1!==(c=s.findIndex((function(e){return e.Id===t.Id})))&&s.splice(c,1,a),r.setState({articles:s,message:"Update article success!"}),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.deleteArticle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd.deleteArticle(t);case 2:if("string"!==typeof(n=e.sent)){e.next=6;break}return r.setState({error:n}),e.abrupt("return",null);case 6:return a=r.state.articles,-1!==(s=a.findIndex((function(e){return e.Id===t})))&&a.splice(s,1),r.setState({articles:a,message:"Delete article success!"}),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.togglePublicArticle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.state.articles,a=n.find((function(e){return e.Id===t})),e.next=4,pd.updateArticle({Id:t,Published:!a.Published});case 4:"string"===typeof e.sent?r.setState({error:"Publish article failed."}):(-1!==(s=n.findIndex((function(e){return e.Id===t})))&&(a.Published=!a.Published,n.splice(s,1,a)),r.setState({articles:n,message:"Publish article success."}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.pinArticle=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,a,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.state.articles,a=n.find((function(e){return e.Id===t})),e.next=4,pd.updateArticle({Id:t,Pinned:!a.Pinned});case 4:"string"===typeof e.sent?r.setState({error:"Pin article failed."}):(-1!==(s=n.findIndex((function(e){return e.Id===t})))&&(a.Pinned=!a.Pinned,n.splice(s,1,a)),r.setState({articles:n,message:"Pin article success."}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.clearError=function(){r.setState({error:"",message:""})},r.state={articles:[],totalArticles:0,error:"",message:"",getArticles:r.getArticles,getArticle:r.getArticle,deleteArticle:r.deleteArticle,addArticle:r.addArticle,updateArticle:r.updateArticle,togglePublicArticle:r.togglePublicArticle,pinArticle:r.pinArticle},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.message,n=e.error,r=this.props.children;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(fd.Provider,{value:this.state,children:r}),(n.length>0||t.length>0)&&Object(Y.jsxs)(md,{open:!0,fullWidth:!0,maxWidth:"sm",onClose:this.clearError,children:[Object(Y.jsx)(dd.a,{children:Object(Y.jsxs)(p.a,{display:"flex",children:[Object(Y.jsx)(p.a,{display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,children:"Notification"}),Object(Y.jsx)(g.a,{"aria-label":"close",color:"secondary",onClick:this.clearError,children:Object(Y.jsx)(hd.a,{})})]})}),Object(Y.jsxs)(bd.a,{dividers:!0,children:[n&&Object(Y.jsx)("ul",{className:"list-unstyled",children:n.split("\n").filter((function(e){return e.length>0})).map((function(e,t){return Object(Y.jsxs)("li",{children:[Object(Y.jsx)("span",{className:"fas fa-times-circle light-pink"})," ",e]},t)}))}),t&&Object(Y.jsx)("ul",{className:"list-unstyled",children:t.split("\n").map((function(e,t){return Object(Y.jsxs)("li",{children:[Object(Y.jsx)("span",{className:"fas fa-check-circle green"})," ",e]},t)}))})]})]})]})}}]),n}(a.a.Component),Od=function(e){var t=e.article,n=e.onTogglePin,r=e.onTogglePublic,a=e.onDelete,s=e.onEdit;return Object(Y.jsxs)(sd.a,{children:[Object(Y.jsx)(nd.a,{align:"left",style:{width:"5%"},children:t.Id}),Object(Y.jsx)(nd.a,{align:"left",style:{width:"15%"},children:Object(Y.jsx)(X.a,{variant:"body2",noWrap:!0,children:t.Author||t.Username})}),Object(Y.jsx)(nd.a,{align:"left",style:{maxWidth:"150px"},children:Object(Y.jsx)(j.a,{to:"/admin/articles/edit/".concat(t.Id),children:Object(Y.jsx)(X.a,{variant:"body2",noWrap:!0,children:t.Title})})}),Object(Y.jsx)(nd.a,{align:"left",children:$t()(t.createdAt).format("hh:mm DD/MM/YYYY")}),Object(Y.jsx)(nd.a,{align:"center",style:{width:"5%"},children:Object(Y.jsx)(sr,{className:"green",id:"onPublicArticle-".concat(t.Id),name:"onPublicArticle-".concat(t.Id),checked:!0===t.Published,onChange:r})}),Object(Y.jsx)(nd.a,{align:"center",style:{width:"5%"},children:Object(Y.jsx)(sr,{className:"green",id:"onPinArticle-".concat(t.Id),name:"onPinArticle-".concat(t.Id),checked:!0===t.Pinned,onChange:n})}),Object(Y.jsx)(nd.a,{align:"center",style:{width:"5%"},children:Object(Y.jsx)(er,{className:"bg-light-pink",onClick:s,children:Object(Y.jsx)("span",{className:"fas fa-pen"})})}),Object(Y.jsx)(nd.a,{align:"center",style:{width:"5%"},children:Object(Y.jsx)(er,{className:"bg-light-pink",onClick:a,children:Object(Y.jsx)("span",{className:"fas fa-trash"})})})]})},vd=Object(Zn.a)((function(e){return{root:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText,textTransform:"unset",marginRight:"0.5rem","&:hover":{backgroundColor:e.palette.success.dark}}}}))(_.a),gd=Object(Zn.a)((function(e){return{root:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText}}}))(td.a),wd=Object(Zn.a)((function(e){return{root:{padding:"0.75rem",color:e.palette.primary.contrastText}}}))(nd.a),yd=Object(h.a)((function(){return{root:{display:"flex",flexDirection:"row",justifyContent:"center"}}})),kd=function(){var e=yd(),t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(null),d=Object(b.a)(l,2),h=d[0],m=d[1],f=Object(r.useState)(0),x=Object(b.a)(f,2),O=x[0],v=x[1],g=Object(r.useContext)(fd),w=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),u(t),e.next=4,g.getArticles(t);case 4:m(g.articles),v(g.totalArticles),s(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){g.articles&&(m(g.articles),v(g.totalArticles),s(!0))}),[g]);var y=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.deleteArticle(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je.a.push("/admin/articles/edit/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.togglePublicArticle(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(M.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.pinArticle(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)(p.a,{m:1,mb:2,children:[Object(Y.jsxs)(p.a,{display:"flex",flexWrap:"wrap",mb:1,children:[Object(Y.jsxs)(p.a,{display:"flex",mb:1,mr:1,children:[Object(Y.jsx)(vd,{variant:"contained",children:Object(Y.jsx)(j.a,{to:"/admin/articles/add",children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)("span",{className:"fas fa-plus-circle"})," Th\xeam m\u1edbi"]})})}),Object(Y.jsx)(vd,{variant:"contained",color:"secondary",children:Object(Y.jsxs)("strong",{children:["S\u1ed1 l\u01b0\u1ee3ng b\xe0i vi\u1ebft:"," ",O]})})]}),Object(Y.jsx)(p.a,{flexGrow:1,children:Object(Y.jsx)(oi,{toggleQuery:!0})})]}),Object(Y.jsx)(rd.a,{component:cc.a,elevation:1,children:Object(Y.jsxs)(ad.a,{children:[Object(Y.jsx)(gd,{children:Object(Y.jsxs)(sd.a,{children:[Object(Y.jsx)(wd,{align:"left",style:{width:"5%"},children:"#"}),Object(Y.jsx)(wd,{align:"left",style:{width:"15%"},children:Object(Y.jsx)(X.a,{noWrap:!0,children:"T\xe1c gi\u1ea3"})}),Object(Y.jsx)(wd,{children:"Ti\xeau \u0111\u1ec1"}),Object(Y.jsx)(wd,{align:"left",style:{minWidth:"10rem",width:"10rem"},children:"Th\u1eddi gian t\u1ea1o"}),Object(Y.jsx)(wd,{align:"center",style:{width:"5%"},children:Object(Y.jsx)(ud.a,{fontSize:"small"})}),Object(Y.jsx)(wd,{align:"center",style:{width:"5%"},children:"Pin"}),Object(Y.jsx)(wd,{align:"center",style:{width:"5%"},children:"Edit"}),Object(Y.jsx)(wd,{align:"center",style:{width:"5%"},children:"Delete"})]})}),Object(Y.jsxs)(cd.a,{children:[!a&&Object(Y.jsx)(sd.a,{children:Object(Y.jsx)(nd.a,{colSpan:"8",children:Object(Y.jsx)(Qt,{})})}),a&&h.length>0&&h.map((function(e){return Object(Y.jsx)(Od,{article:e,onTogglePin:function(){return S(e.Id)},onDelete:function(){return y(e.Id)},onEdit:function(){return k(e.Id)},onTogglePublic:function(){return C(e.Id)}},e.Id)})),a&&0===h.length&&Object(Y.jsx)(sd.a,{children:Object(Y.jsx)(nd.a,{align:"center",colSpan:"8",children:"Kh\xf4ng c\xf3 b\xe0i vi\u1ebft n\xe0o."})})]}),Object(Y.jsx)(id.a,{children:Object(Y.jsx)(sd.a,{children:Object(Y.jsx)(nd.a,{align:"center",colSpan:"8",children:Object(Y.jsx)(p.a,{children:Object(Y.jsx)(Zs.a,{className:e.root,count:Math.floor((O+10-1)/10),boundaryCount:1,defaultPage:1,page:o,shape:"rounded",showFirstButton:!0,showLastButton:!0,onChange:function(e,t){return w(t)}})})})})})]})})]})},Cd=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["articles","/admin/articles"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(cc.a,{elevation:1,style:{width:"100%",padding:"0.5rem"},children:[Object(Y.jsx)(X.a,{variant:"h5",children:Object(Y.jsx)("strong",{children:"B\xe0i vi\u1ebft"})}),Object(Y.jsx)(kd,{})]})})]})},Sd=n(514),Id=n(507),Nd=Object(Zn.a)((function(e){return{root:{color:e.palette.success.main,"&$checked":{color:e.palette.success.main}},checked:{}}}))(Sd.a),Pd=Object(Zn.a)((function(e){return{root:{backgroundSize:"auto 100%",backgroundPosition:"top left",height:"12rem",marginBottom:"0.5rem"}}}))($s.a),Td=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(null),d=Object(b.a)(l,2),j=d[0],h=d[1],m=Object(r.useState)({}),f=Object(b.a)(m,2),x=f[0],O=f[1],v=Object(r.useContext)(K).user,g=Object(r.useContext)(fd),w=Object(r.useState)("add"),y=Object(b.a)(w,2),k=y[0],C=y[1],S=Object(r.useState)(!1),I=Object(b.a)(S,2),N=I[0],P=I[1],T=Object(r.useState)(!1),L=Object(b.a)(T,2),A=L[0],R=L[1],D=Object(r.useState)(!1),U=Object(b.a)(D,2),B=U[0],F=U[1],q=Object(r.useState)(!1),G=Object(b.a)(q,2),H=G[0];G[1];v||je.a.push("/login"),Object(r.useEffect)((function(){(function(){var t=Object(M.a)(E.a.mark((function t(){var n,r,a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(!1),"edit"!==e.location.pathname.split("/")[3]){t.next=10;break}return C("edit"),n=e.match.params.id,t.next=6,g.getArticle(parseInt(n,10));case 6:r=t.sent,h(r),t.next=12;break;case 10:a=new St({}),h(a);case 12:s(!0);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var V=function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.a)(t,1),r=n[0],e.next=3,Br.uploadImage(r);case 3:a=e.sent,j.Thumbnail=a,h(j);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){u(!o)},W=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te.a.cloneDeep(j),["Published","Pinned"].includes(t.target.name)?n[t.target.name]=!n[t.target.name]:n[t.target.name]=t.target.value,e.next=4,h(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e={},t=!1;return""===j.Title&&(e.Title="Ti\xeau \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",t=!0),O(e),!t},J=function(){var e=Object(M.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q()){e.next=2;break}return e.abrupt("return");case 2:if(P(!0),"add"!==k){e.next=10;break}return e.next=6,g.addArticle(j);case 6:null!==(t=e.sent)&&(h(t),C("edit"),je.a.push("/admin/articles/edit/".concat(t.Id))),e.next=14;break;case 10:return e.next=12,g.updateArticle(j);case 12:null!==(n=e.sent)&&h(n);case 14:P(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,g.deleteArticle(j.Id);case 3:e.sent?je.a.push("/admin/articles"):R(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?j||"edit"!==k?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye,{nav:[["admin","/admin"],["articles","/admin/articles"],[j.Title||"new articles"]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(Qs.a,{style:{width:"100%"},children:[Object(Y.jsx)(Js.a,{title:Object(Y.jsx)("strong",{children:"add"===k?"B\xe0i Vi\u1ebft M\u1edbi":"Th\xf4ng Tin B\xe0i Vi\u1ebft"}),titleTypographyProps:{fontWeight:"bold"}}),Object(Y.jsxs)(_s.a,{children:[Object(Y.jsxs)(p.a,{p:1,children:[Object(Y.jsxs)(p.a,{mb:2.5,children:[Object(Y.jsx)(Pd,{title:j.Title,image:j.Thumbnail||"./image/logo.svg"}),Object(Y.jsx)(_.a,{variant:"outlined",onClick:z,children:"Thay \u0111\u1ed5i"})]}),Object(Y.jsx)(lc.a,{error:Boolean(x.Title),label:"Ti\xeau \u0111\u1ec1",type:"text",name:"Title",autoComplete:"off",fullWidth:!0,variant:"outlined",value:j.Title||"",helperText:x.Title,onChange:function(e){return W(e)},style:{marginBottom:"1.2rem"}}),Object(Y.jsx)(lc.a,{label:"T\xe1c gi\u1ea3",type:"text",name:"Author",autoComplete:"off",fullWidth:!0,variant:"outlined",value:j.Author||"",helperText:"*T\xean t\xe1c gi\xe1 s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb trong b\xe0i bi\u1ebft, n\u1ebfu \u0111\u1ec3 tr\u1ed1ng t\xean Username c\u1ee7a t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb.",onChange:function(e){return W(e)},style:{marginBottom:"1.5rem"}}),Object(Y.jsx)(X.a,{variant:"h6",style:{marginBottom:"0.5rem"},children:"N\u1ed9i dung"}),Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Content",value:j.Content||"",onChange:W})]}),Object(Y.jsxs)(Xs.a,{children:[Object(Y.jsx)(Id.a,{control:Object(Y.jsx)(Nd,{name:"Published",onChange:W,checked:j.Published||!1}),label:Object(Y.jsx)("strong",{children:"C\xf4ng khai"})}),Object(Y.jsx)(Id.a,{control:Object(Y.jsx)(Nd,{name:"Pinned",onChange:W,checked:j.Pinned||!1}),label:Object(Y.jsx)("strong",{children:"B\xe0i vi\u1ebft n\u1ed5i b\u1eadt"})})]})]}),Object(Y.jsx)(Xs.a,{children:Object(Y.jsx)(Fi,{saveSuccessfully:H,mode:k,isRemoving:A,isSaving:N,isCanceling:B,onSave:J,onRemove:Z,onCancel:function(){F(!0),je.a.push("/admin/articles"),F(!1)},style:{marginBottom:"0"}})})]})}),Object(Y.jsx)(Er,{show:o,uploadImage:V,onHide:z})]}):Object(Y.jsx)(hn,{}):Object(Y.jsx)(_t,{})},Ld=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(b.a)(n,2),s=a[0],c=a[1];return Object(Y.jsxs)("div",{className:"option-menu position-relative d-inline",children:[Object(Y.jsx)(er,{className:"bg-transparent dark-gray no-effect",onClick:function(){return c(!s)},style:{zIndex:10},children:Object(Y.jsx)("span",{className:"fas fa-ellipsis-h"})}),s&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"option-menu-body position-absolute",role:"button",tabIndex:0,style:{left:"100%",top:0,zIndex:10},onClick:function(){return c(!1)},children:t}),Object(Y.jsx)("div",{className:"position-fixed",role:"button",tabIndex:0,style:{top:0,bottom:0,left:0,right:0},onClick:function(){return c(!1)}})]})]})},Ad=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(void 0),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(!1),d=Object(b.a)(l,2),j=d[0],h=d[1],p=Object(r.useState)("view"),m=Object(b.a)(p,2),f=m[0],x=m[1],O=Object(r.useState)(""),v=Object(b.a)(O,2),g=v[0],w=v[1],y=Object(r.useState)(!1),k=Object(b.a)(y,2),C=k[0],S=k[1],I=Object(r.useContext)(K),N=I.user,P=I.verifyAdministrator,T=function(e){x(e),"edit"===e&&w(o.Content)},L=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,o.update(g);case 3:e.sent||T("view"),S(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(M.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\xe0i vi\u1ebft n\xe0y?")){e.next=5;break}return e.next=3,yt.deleteTopic(o.Id);case 3:e.sent||je.a.push("/community");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var t=Object(M.a)(E.a.mark((function t(){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt.getTopic(e.match.params.id);case 2:n=t.sent,r=new Ct(n),u(r),s(!0),o&&o.getComments();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.match.params.id]);var R=function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,o.UserVoteTopic===t&&(n=0),e.next=4,o.vote(n);case 4:h(!0),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!a)return Object(Y.jsx)(_t,{});var D=o.Title,U=o.Content,B=o.Author,F=o.View,q=o.Vote,G=o.createdAt,H=o.UserVoteTopic;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ye,{nav:[["home","/"],["topic","/community"],[D]]}),Object(Y.jsx)(Ft,{children:Object(Y.jsxs)(Xt.a,{className:"w-100 bg-white corner shadow-sm p-3",children:[Object(Y.jsx)("h2",{className:"font-semi-bold text-capitalize",children:D}),Object(Y.jsxs)("div",{className:"d-flex my-3",children:[Object(Y.jsx)(Lr.a,{src:"image/logo.svg",fluid:!0,roundedCircle:!0,style:{width:"42px",height:"42px",marginRight:"15px"}}),Object(Y.jsxs)("div",{className:"flex-grow-1",children:[Object(Y.jsx)("p",{className:"text-secondary mb-0",children:Object(Y.jsxs)("em",{children:[B.Username,","," ",$t()(G).format("HH:mm DD/MM/YYYY")]})}),Object(Y.jsxs)("p",{className:"text-secondary mb-0",children:[F," ","views"]})]}),!j&&Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("span",{className:"count-vote mr-2",children:[Object(Y.jsx)("span",{className:"fas fa-caret-".concat(q>=0?"up green":"down light-pink")})," ",q]}),Object(Y.jsx)(er,{className:"bg-white dark-gray border-0 vote-up",onClick:function(){return R(1)},children:Object(Y.jsx)("span",{className:mn()(["far fa-thumbs-up",{green:1===H}]),style:{fontSize:"12px"}})}),Object(Y.jsx)(er,{className:"bg-white dark-gray border-0 vote-down",onClick:function(){return R(-1)},children:Object(Y.jsx)("span",{className:mn()(["far fa-thumbs-down",{"light-pink":-1===H}]),style:{fontSize:"12px"}})}),N&&(N.Id===B.Id||P())&&Object(Y.jsx)(Ld,{children:Object(Y.jsxs)(Xt.a,{className:"shadow-sm border corner p-2 ml-1",style:{width:150},children:[N.Id===B.Id&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(er,{className:"bg-transparent no-effect dark-gray text-left",onClick:function(){return T("edit")},children:[Object(Y.jsx)("span",{className:"fas fa-edit fa-fw font-sm mr-1"})," ","Ch\u1ec9nh s\u1eeda"]}),Object(Y.jsx)("hr",{className:"m-1"})]}),Object(Y.jsxs)(er,{className:"bg-transparent no-effect dark-gray text-left text-danger",onClick:A,children:[Object(Y.jsx)("span",{className:"fas fa-trash fa-fw font-sm mr-1"})," ","X\xf3a"]})]})})]})]}),"edit"===f?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Hr,{mode:"markdown",theme:"default",name:"Content",value:g,onChange:function(e){return w(e.target.value)}}),Object(Y.jsx)(er,{className:"bg-light-blue text-white float-right w-25 py-1 my-2",onClick:L,disabled:C,children:C?Object(Y.jsx)("span",{className:"fas fa-spinner fa-spin"}):Object(Y.jsx)("div",{children:"C\u1eadp nh\u1eadt"})})]}):Object(Y.jsx)(vr,{value:U}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(No,{topic:o})]})})]})},Rd=function(){return Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/articles",component:Cd}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/articles/add",component:Td}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/articles/add/:view",component:Td}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/articles/edit/:id",component:Td}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/articles/edit/:id/:view",component:Td}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/articles/:id",component:Ad})]})},Dd=function(){return(0,Object(r.useContext)(K).verifyModerator)()?Object(Y.jsx)("div",{className:"d-flex",children:Object(Y.jsx)("div",{style:{width:"100%"},children:Object(Y.jsx)(Rt,{children:Object(Y.jsx)(ci,{children:Object(Y.jsx)(bi,{children:Object(Y.jsx)(Ra,{children:Object(Y.jsx)(Di,{children:Object(Y.jsx)(eu,{children:Object(Y.jsx)(zu,{children:Object(Y.jsx)(_i,{children:Object(Y.jsx)(wa,{children:Object(Y.jsx)(bl,{children:Object(Y.jsx)(Gl,{children:Object(Y.jsx)(xd,{children:Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{exact:!0,path:"/admin",component:ai}),Object(Y.jsx)(d.Route,{path:"/admin/problems",component:zo}),Object(Y.jsx)(d.Route,{path:"/admin/executable",component:Zo}),Object(Y.jsx)(d.Route,{path:"/admin/courses",component:Hu}),Object(Y.jsx)(d.Route,{path:"/admin/collections",component:ul}),Object(Y.jsx)(d.Route,{path:"/admin/contests",component:Fl}),Object(Y.jsx)(d.Route,{path:"/admin/articles",component:Rd}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/users",component:Yl}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/submissions",component:Ql}),Object(Y.jsx)(d.Route,{exact:!0,path:"/admin/judgehosts",component:ed})]})})})})})})})})})})})})})})}):Object(Y.jsx)(d.Redirect,{to:"/"})},Ud=n(251),Ed=n(508),Md=function(e){var t=Object(Ud.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{primary:{light:"#fff",main:"#2c3e50",dark:"#000"},success:{light:"#81c784",main:"#4caf50",dark:"#388e3c",contrastText:"#fff"}}}),n=e.children;return Object(Y.jsx)(Ed.a,{theme:t,children:n})},Bd=Object(h.a)((function(e){return{root:Object(tn.a)({backgroundColor:e.palette.primary.main,display:"flex",flexDirection:"row",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"})}})),Fd=function(){var e=Object(J.a)(),t=Bd();return Object(Y.jsxs)("div",{className:"".concat(t.root," footer"),children:[Object(Y.jsx)(p.a,{children:Object(Y.jsxs)(C.a,{children:[Object(Y.jsx)(v.a,{alt:"Big-O Logo",src:"logo.svg"}),Object(Y.jsxs)("span",{style:{color:e.palette.primary.contrastText},children:["\xa0",Object(Y.jsx)("strong",{children:"Big-O Coding"})]})]})}),Object(Y.jsx)(p.a,{children:Object(Y.jsx)(C.a,{style:{color:e.palette.primary.contrastText},children:Object(Y.jsx)("strong",{children:"Copyright \xa9 2020 Big-O Coder"})})}),Object(Y.jsx)(m.a,{className:t.root,style:{backgroundColor:e.palette.primary.main,display:"flex",color:e.palette.primary.contrastText},children:[{Id:1,Icon:Object(Y.jsx)("span",{className:"fas fa-globe"}),Title:"Visit us",Link:"http://bigocoding.com"},{Id:2,Icon:Object(Y.jsx)("span",{className:"fab fa-facebook-f"}),Title:"Like us",Link:"https://www.facebook.com/BigOCoding/"},{Id:3,Icon:Object(Y.jsx)("span",{className:"fab fa-youtube"}),Title:"Watch us",Link:"https://www.youtube.com/channel/UChHHF-LvgQ9iLN4fNA-arow/"}].map((function(e){return Object(Y.jsx)(f.a,{children:Object(Y.jsxs)(x.a,{style:{width:"6rem"},children:[e.Icon," ",Object(Y.jsx)(pe.a,{href:e.Link,color:"inherit",children:e.Title})]})},e.Id)}))})]})},qd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={},r}return Object(o.a)(n,[{key:"render",value:function(){return Object(Y.jsx)(Md,{children:Object(Y.jsx)(ve,{children:Object(Y.jsx)(Jn,{children:Object(Y.jsx)(Q,{children:Object(Y.jsxs)(d.Router,{history:je.a,children:[Object(Y.jsx)(be,{}),Object(Y.jsxs)(d.Switch,{children:[Object(Y.jsx)(d.Route,{path:"/admin",component:Dd}),Object(Y.jsx)(d.Route,{path:"/",component:ti}),Object(Y.jsx)(d.Route,{component:hn})]}),Object(Y.jsx)(Fd,{})]})})})})})}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(423);c.a.render(Object(Y.jsx)(qd,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[424,1,2]]]);